// Generated by js_of_ocaml 4.1.0+git-4.1.0-61-g587ddf1a60
(function(b){typeof
globalThis!=="object"&&(this?c():(b.defineProperty(b.prototype,"_T_",{configurable:true,get:c}),_T_));function
c(){var
c=this||self;c.globalThis=c;delete
b.prototype._T_}}(Object));(function(cK){var
ak=cK;"use strict";function
jp(b,c,d){if(c
in
b)Object.defineProperty(b,c,{value:d,enumerable:true,configurable:true,writable:true});else
b[c]=d;return b}function
aq(b){return i(b)||m(b)||a(b)||p()}function
p(){throw new
TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function
m(b){if(typeof
Symbol!=="undefined"&&b[Symbol.iterator]!=null||b["@@iterator"]!=null)return Array.from(b)}function
i(b){if(Array.isArray(b))return e(b)}function
ar(b){"@babel/helpers - typeof";return ar="function"==typeof
Symbol&&"symbol"==typeof
Symbol.iterator?function(b){return typeof
b}:function(b){return b&&"function"==typeof
Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof
b},ar(b)}function
aN(b,c){return h(b)||n(b,c)||a(b,c)||o()}function
o(){throw new
TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function
n(c,h){var
b=c==null?null:typeof
Symbol!=="undefined"&&c[Symbol.iterator]||c["@@iterator"];if(b==null)return;var
d=[],e=true,f=false,g,a;try{for(b=b.call(c);!(e=(g=b.next()).done);e=true){d.push(g.value);if(h&&d.length===h)break}}catch(b){f=true;a=b}finally{try{if(!e&&b["return"]!=null)b["return"]()}finally{if(f)throw a}}return d}function
h(b){if(Array.isArray(b))return b}function
b(b,i){var
c=typeof
Symbol!=="undefined"&&b[Symbol.iterator]||b["@@iterator"];if(!c){if(Array.isArray(b)||(c=a(b))||i&&b&&typeof
b.length==="number"){if(c)b=c;var
g=0,d=function(){};return{s:d,n:function(){if(g>=b.length)return{done:true};return{done:false,value:b[g++]}},e:function(b){throw b},f:d}}throw new
TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var
h=true,e=false,f;return{s:function(){c=c.call(b)},n:function(){var
b=c.next();h=b.done;return b},e:function(b){e=true;f=b},f:function(){try{if(!h&&c["return"]!=null)c["return"]()}finally{if(e)throw f}}}}function
a(b,d){if(!b)return;if(typeof
b==="string")return e(b,d);var
c=Object.prototype.toString.call(b).slice(8,-1);if(c==="Object"&&b.constructor)c=b.constructor.name;if(c==="Map"||c==="Set")return Array.from(b);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return e(b,d)}function
e(d,b){if(b==null||b>d.length)b=d.length;for(var
c=0,e=new
Array(b);c<b;c++)e[c]=d[c];return e}function
L(){if(typeof
Reflect!=="undefined"&&Reflect.get)L=Reflect.get.bind();else
L=function(e,d,f){var
c=r(e,d);if(!c)return;var
b=Object.getOwnPropertyDescriptor(c,d);if(b.get)return b.get.call(arguments.length<3?e:f);return b.value};return L.apply(this,arguments)}function
r(b,c){while(!Object.prototype.hasOwnProperty.call(b,c)){b=F(b);if(b===null)break}return b}function
l(c,b){if(typeof
b!=="function"&&b!==null)throw new
TypeError("Super expression must either be null or a function");c.prototype=Object.create(b&&b.prototype,{constructor:{value:c,writable:true,configurable:true}});Object.defineProperty(c,"prototype",{writable:false});if(b)f(c,b)}function
f(b,c){f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(b,c){b.__proto__=c;return b};return f(b,c)}function
k(d){var
e=j();return function(){var
c=F(d),b;if(e){var
f=F(this).constructor;b=Reflect.construct(c,arguments,f)}else
b=c.apply(this,arguments);return q(this,b)}}function
q(c,b){if(b&&(ar(b)==="object"||typeof
b==="function"))return b;else
if(b!==void
0)throw new
TypeError("Derived constructors may only return object or undefined");return bK(c)}function
bK(b){if(b===void
0)throw new
ReferenceError("this hasn't been initialised - super() hasn't been called");return b}function
j(){if(typeof
Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof
Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(a){return false}}function
F(b){F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(b){return b.__proto__||Object.getPrototypeOf(b)};return F(b)}function
c(c,b){if(!(c
instanceof
b))throw new
TypeError("Cannot call a class as a function")}function
g(e,d){for(var
c=0;c<d.length;c++){var
b=d[c];b.enumerable=b.enumerable||false;b.configurable=true;if("value"in
b)b.writable=true;Object.defineProperty(e,b.key,b)}}function
d(b,c,d){if(c)g(b.prototype,c);if(d)g(b,d);Object.defineProperty(b,"prototype",{writable:false});return b}(function(){var
kv=Object.defineProperty,bZ=function(d,b){for(var
c
in
b)kv(d,c,{get:b[c],enumerable:true})},o=function(){function
e(){c(this,e)}d(e,[{key:"lineAt",value:function(b){if(b<0||b>this.length)throw new
RangeError("Invalid position ".concat(b," in document of length ").concat(this.length));return this.lineInner(b,false,1,0)}},{key:"line",value:function(b){if(b<1||b>this.lines)throw new
RangeError("Invalid line number ".concat(b," in ").concat(this.lines,"-line document"));return this.lineInner(b,true,1,0)}},{key:"replace",value:function(d,e,c){var
b=[];this.decompose(0,d,b,2);if(c.length)c.decompose(0,c.length,b,1|2);this.decompose(e,this.length,b,1);return bT.from(b,this.length-(e-d)+c.length)}},{key:"append",value:function(b){return this.replace(this.length,this.length,b)}},{key:"slice",value:function(b){var
d=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.length,c=[];this.decompose(b,d,c,0);return bT.from(c,d-b)}},{key:"eq",value:function(c){if(c==this)return true;if(c.length!=this.length||c.lines!=this.lines)return false;var
a=this.scanIdentical(c,1),g=this.length-this.scanIdentical(c,-1),b=new
bb(this),d=new
bb(c);for(var
e=a,f=a;;){b.next(e);d.next(e);e=0;if(b.lineBreak!=d.lineBreak||b.done!=d.done||b.value!=d.value)return false;f+=b.value.length;if(b.done||f>=g)return true}}},{key:"iter",value:function(){var
b=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;return new
bb(this,b)}},{key:"iterRange",value:function(b){var
c=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.length;return new
e3(this,b,c)}},{key:"iterLines",value:function(d,b){var
c;if(d==null)c=this.iter();else{if(b==null)b=this.lines+1;var
e=this.line(d).from;c=this.iterRange(e,Math.max(e,b==this.lines+1?this.length:b<=1?0:this.line(b-1).to))}return new
eU(c)}},{key:"toString",value:function(){return this.sliceString(0)}},{key:"toJSON",value:function(){var
b=[];this.flatten(b);return b}}],[{key:"of",value:function(b){if(b.length==0)throw new
RangeError("A document must have at least one line");if(b.length==1&&!b[0])return e.empty;return b.length<=32?new
Z(b):bT.from(Z.split(b,[]))}}]);return e}(),Z=function(f){l(e,f);var
a=k(e);function
e(d){var
b,f=arguments.length>1&&arguments[1]!==undefined?arguments[1]:oQ(d);c(this,e);b=a.call(this);b.text=d;b.length=f;return b}d(e,[{key:"lines",get:function(){return this.text.length}},{key:"children",get:function(){return null}},{key:"lineInner",value:function(g,a,c,d){for(var
e=0;;e++){var
f=this.text[e],b=d+f.length;if((a?c:b)>=g)return new
jW(d,b,c,f);d=b+1;c++}}},{key:"decompose",value:function(f,a,c,i){var
d=f<=0&&a>=this.length?this:new
e(i4(this.text,f,a),Math.min(a,this.length)-Math.max(0,f));if(i&1){var
h=c.pop(),b=b4(d.text,h.text.slice(),0,d.length);if(b.length<=32)c.push(new
e(b,h.length+d.length));else{var
g=b.length>>1;c.push(new
e(b.slice(0,g)),new
e(b.slice(g)))}}else
c.push(d)}},{key:"replace",value:function(c,f,b){if(!(b
instanceof
e))return L(F(e.prototype),"replace",this).call(this,c,f,b);var
d=b4(this.text,b4(b.text,i4(this.text,0,c)),f),a=this.length+b.length-(f-c);if(d.length<=32)return new
e(d,a);return bT.from(e.split(d,[]),a)}},{key:"sliceString",value:function(d){var
f=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.length,h=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"\n",e="";for(var
b=0,c=0;b<=f&&c<this.text.length;c++){var
g=this.text[c],a=b+g.length;if(b>d&&c)e+=h;if(d<a&&f>b)e+=g.slice(Math.max(0,d-b),f-b);b=a+1}return e}},{key:"flatten",value:function(f){var
c=b(this.text),d;try{for(c.s();!(d=c.n()).done;){var
e=d.value;f.push(e)}}catch(b){c.e(b)}finally{c.f()}}},{key:"scanIdentical",value:function(){return 0}}],[{key:"split",value:function(i,a){var
d=[],c=-1,f=b(i),g;try{for(f.s();!(g=f.n()).done;){var
h=g.value;d.push(h);c+=h.length+1;if(d.length==32){a.push(new
e(d,c));d=[];c=-1}}}catch(b){f.e(b)}finally{f.f()}if(c>-1)a.push(new
e(d,c));return a}}]);return e}(o),bT=function(f){l(e,f);var
h=k(e);function
e(g,j){var
d;c(this,e);d=h.call(this);d.children=g;d.length=j;d.lines=0;var
f=b(g),a;try{for(f.s();!(a=f.n()).done;){var
i=a.value;d.lines+=i.lines}}catch(b){f.e(b)}finally{f.f()}return d}d(e,[{key:"lineInner",value:function(h,g,c,d){for(var
e=0;;e++){var
b=this.children[e],f=d+b.length,a=c+b.lines-1;if((g?a:f)>=h)return b.lineInner(h,g,c,d);d=f+1;c=a+1}}},{key:"decompose",value:function(e,c,h,i){for(var
f=0,b=0;b<=c&&f<this.children.length;f++){var
a=this.children[f],d=b+a.length;if(e<=d&&c>=b){var
g=i&((b<=e?1:0)|(d>=c?2:0));if(b>=e&&d<=c&&!g)h.push(a);else
a.decompose(e-b,c-b,h,g)}b=d+1}}},{key:"replace",value:function(f,g,a){if(a.lines<this.lines)for(var
d=0,b=0;d<this.children.length;d++){var
h=this.children[d],i=b+h.length;if(f>=b&&g<=i){var
c=h.replace(f-b,g-b,a),k=this.lines-h.lines+c.lines;if(c.lines<k>>5-1&&c.lines>k>>5+1){var
j=this.children.slice();j[d]=c;return new
e(j,this.length-(g-f)+a.length)}return L(F(e.prototype),"replace",this).call(this,b,i,c)}b=i+1}return L(F(e.prototype),"replace",this).call(this,f,g,a)}},{key:"sliceString",value:function(d){var
f=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.length,h=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"\n",e="";for(var
c=0,b=0;c<this.children.length&&b<=f;c++){var
a=this.children[c],g=b+a.length;if(b>d&&c)e+=h;if(d<g&&f>b)e+=a.sliceString(d-b,f-b,h);b=g+1}return e}},{key:"flatten",value:function(f){var
c=b(this.children),d;try{for(c.s();!(d=c.n()).done;){var
e=d.value;e.flatten(f)}}catch(b){c.e(b)}finally{c.f()}}},{key:"scanIdentical",value:function(d,c){if(!(d
instanceof
e))return 0;var
h=0,j=c>0?[0,0,this.children.length,d.children.length]:[this.children.length-1,d.children.length-1,-1,-1],b=aN(j,4),a=b[0],g=b[1],k=b[2],l=b[3];for(;;a+=c,g+=c){if(a==k||g==l)return h;var
f=this.children[a],i=d.children[g];if(f!=i)return h+f.scanIdentical(i,c);h+=f.length+1}}}],[{key:"from",value:function(i){var
s=arguments.length>1&&arguments[1]!==undefined?arguments[1]:i.reduce(function(c,b){return c+b.length+1},-1),m=0,c=b(i),n;try{for(c.s();!(n=c.n()).done;){var
u=n.value;m+=u.lines}}catch(b){c.e(b)}finally{c.f()}if(m<32){var
r=[],g=b(i),o;try{for(g.s();!(o=g.n()).done;){var
v=o.value;v.flatten(r)}}catch(b){g.e(b)}finally{g.f()}return new
Z(r,s)}var
k=Math.max(32,m>>5),x=k<<1,t=k>>1,a=[],f=0,j=-1,d=[];function
q(c){var
h;if(c.lines>x&&c
instanceof
e){var
g=b(c.children),i;try{for(g.s();!(i=g.n()).done;){var
m=i.value;q(m)}}catch(b){g.e(b)}finally{g.f()}}else
if(c.lines>t&&(f>t||!f)){l();a.push(c)}else
if(c
instanceof
Z&&f&&(h=d[d.length-1])instanceof
Z&&c.lines+h.lines<=32){f+=c.lines;j+=c.length+1;d[d.length-1]=new
Z(h.text.concat(c.text),h.length+1+c.length)}else{if(f+c.lines>k)l();f+=c.lines;j+=c.length+1;d.push(c)}}function
l(){if(f==0)return;a.push(d.length==1?d[0]:e.from(d,j));j=-1;f=d.length=0}var
h=b(i),p;try{for(h.s();!(p=h.n()).done;){var
w=p.value;q(w)}}catch(b){h.e(b)}finally{h.f()}l();return a.length==1?a[0]:new
e(a,s)}}]);return e}(o);o.empty=new
Z([""],0);function
oQ(a){var
e=-1,c=b(a),d;try{for(c.s();!(d=c.n()).done;){var
f=d.value;e+=f.length+1}}catch(b){c.e(b)}finally{c.f()}return e}function
b4(i,d){var
a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0,g=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1e9;for(var
c=0,e=0,h=true;e<i.length&&c<=g;e++){var
b=i[e],f=c+b.length;if(f>=a){if(f>g)b=b.slice(0,g-c);if(c<a)b=b.slice(a-c);if(h){d[d.length-1]+=b;h=false}else
d.push(b)}c=f+1}return d}function
i4(c,b,d){return b4(c,[""],b,d)}var
bb=function(){function
e(b){var
d=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;c(this,e);this.dir=d;this.done=false;this.lineBreak=false;this.value="";this.nodes=[b];this.offsets=[d>0?1:(b
instanceof
Z?b.text.length:b.children.length)<<1]}d(e,[{key:"nextInner",value:function(c,b){this.done=this.lineBreak=false;for(;;){var
d=this.nodes.length-1,a=this.nodes[d],h=this.offsets[d],g=h>>1,i=a
instanceof
Z?a.text.length:a.children.length;if(g==(b>0?i:0)){if(d==0){this.done=true;this.value="";return this}if(b>0)this.offsets[d-1]++;this.nodes.pop();this.offsets.pop()}else
if((h&1)==(b>0?0:1)){this.offsets[d]+=b;if(c==0){this.lineBreak=true;this.value="\n";return this}c--}else
if(a
instanceof
Z){var
f=a.text[g+(b<0?-1:0)];this.offsets[d]+=b;if(f.length>Math.max(0,c)){this.value=c==0?f:b>0?f.slice(c):f.slice(0,f.length-c);return this}c-=f.length}else{var
e=a.children[g+(b<0?-1:0)];if(c>e.length){c-=e.length;this.offsets[d]+=b}else{if(b<0)this.offsets[d]--;this.nodes.push(e);this.offsets.push(b>0?1:(e
instanceof
Z?e.text.length:e.children.length)<<1)}}}}},{key:"next",value:function(){var
b=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;if(b<0){this.nextInner(-b,-this.dir);b=this.value.length}return this.nextInner(b,this.dir)}}]);return e}(),e3=function(){function
e(f,d,b){c(this,e);this.value="";this.done=false;this.cursor=new
bb(f,d>b?-1:1);this.pos=d>b?f.length:0;this.from=Math.min(d,b);this.to=Math.max(d,b)}d(e,[{key:"nextInner",value:function(c,e){if(e<0?this.pos<=this.from:this.pos>=this.to){this.value="";this.done=true;return this}c+=Math.max(0,e<0?this.pos-this.to:this.from-this.pos);var
b=e<0?this.pos-this.from:this.to-this.pos;if(c>b)c=b;b-=c;var
f=this.cursor.next(c),d=f.value;this.pos+=(d.length+c)*e;this.value=d.length<=b?d:e<0?d.slice(d.length-b):d.slice(0,b);this.done=!this.value;return this}},{key:"next",value:function(){var
b=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;if(b<0)b=Math.max(b,this.from-this.pos);else
if(b>0)b=Math.min(b,this.to-this.pos);return this.nextInner(b,this.cursor.dir)}},{key:"lineBreak",get:function(){return this.cursor.lineBreak&&this.value!=""}}]);return e}(),eU=function(){function
b(d){c(this,b);this.inner=d;this.afterBreak=true;this.value="";this.done=false}d(b,[{key:"next",value:function(){var
e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0,b=this.inner.next(e),c=b.done,d=b.lineBreak,f=b.value;if(c){this.done=true;this.value=""}else
if(d)if(this.afterBreak)this.value="";else{this.afterBreak=true;this.next()}else{this.value=f;this.afterBreak=false}return this}},{key:"lineBreak",get:function(){return false}}]);return b}();if(typeof
Symbol!="undefined"){o.prototype[Symbol.iterator]=function(){return this.iter()};bb.prototype[Symbol.iterator]=e3.prototype[Symbol.iterator]=eU.prototype[Symbol.iterator]=function(){return this}}var
jW=function(){function
b(d,a,e,f){c(this,b);this.from=d;this.to=a;this.number=e;this.text=f}d(b,[{key:"length",get:function(){return this.to-this.from}}]);return b}(),aZ="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(function(b){return b?parseInt(b,36):1});for(var
b1=1;b1<aZ.length;b1++)aZ[b1]+=aZ[b1-1];function
m4(c){for(var
b=1;b<aZ.length;b+=2)if(aZ[b]>c)return aZ[b-1]<=c;return false}function
hJ(b){return b>=127462&&b<=127487}var
fg=8205;function
Q(e,d){var
b=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true,c=arguments.length>3&&arguments[3]!==undefined?arguments[3]:true;return(b?id:n3)(e,d,c)}function
id(c,b,g){if(b==c.length)return b;if(b&&i7(c.charCodeAt(b))&&i6(c.charCodeAt(b-1)))b--;var
f=E(c,b);b+=P(f);while(b<c.length){var
d=E(c,b);if(f==fg||d==fg||g&&m4(d)){b+=P(d);f=d}else
if(hJ(d)){var
a=0,e=b-2;while(e>=0&&hJ(E(c,e))){a++;e-=2}if(a%2==0)break;else
b+=2}else
break}return b}function
n3(e,b,d){while(b>0){var
c=id(e,b-2,d);if(c<b)return c;b--}return 0}function
i7(b){return b>=56320&&b<57344}function
i6(b){return b>=55296&&b<56320}function
E(d,c){var
b=d.charCodeAt(c);if(!i6(b)||c+1==d.length)return b;var
e=d.charCodeAt(c+1);if(!i7(e))return b;return(b-55296<<10)+(e-56320)+65536}function
dP(b){if(b<=65535)return String.fromCharCode(b);b-=65536;return String.fromCharCode((b>>10)+55296,(b&1023)+56320)}function
P(b){return b<65536?1:2}var
cQ=/\r\n?|\n/,C=function(b){b[b["Simple"]=0]="Simple";b[b["TrackDel"]=1]="TrackDel";b[b["TrackBefore"]=2]="TrackBefore";b[b["TrackAfter"]=3]="TrackAfter";return b}(C||(C={})),aQ=function(){function
b(d){c(this,b);this.sections=d}d(b,[{key:"length",get:function(){var
c=0;for(var
b=0;b<this.sections.length;b+=2)c+=this.sections[b];return c}},{key:"newLength",get:function(){var
d=0;for(var
b=0;b<this.sections.length;b+=2){var
c=this.sections[b+1];d+=c<0?this.sections[b]:c}return d}},{key:"empty",get:function(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}},{key:"iterGaps",value:function(a){for(var
b=0,f=0,d=0;b<this.sections.length;){var
c=this.sections[b++],e=this.sections[b++];if(e<0){a(f,d,c);d+=c}else
d+=e;f+=c}}},{key:"iterChangedRanges",value:function(b){var
c=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;dg(this,b,c)}},{key:"invertedDesc",get:function(){var
e=[];for(var
c=0;c<this.sections.length;){var
f=this.sections[c++],d=this.sections[c++];if(d<0)e.push(f,d);else
e.push(d,f)}return new
b(e)}},{key:"composeDesc",value:function(b){return this.empty?b:b.empty?this:gs(this,b)}},{key:"mapDesc",value:function(b){var
c=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;return b.empty?this:d3(this,b,c)}},{key:"mapPos",value:function(b){var
i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:-1,f=arguments.length>2&&arguments[2]!==undefined?arguments[2]:C.Simple,c=0,e=0;for(var
a=0;a<this.sections.length;){var
h=this.sections[a++],g=this.sections[a++],d=c+h;if(g<0){if(d>b)return e+(b-c);e+=h}else{if(f!=C.Simple&&d>=b&&(f==C.TrackDel&&c<b&&d>b||f==C.TrackBefore&&c<b||f==C.TrackAfter&&d>b))return null;if(d>b||d==b&&i<0&&!h)return b==c||i<0?e:e+g;e+=g}c=d}if(b>c)throw new
RangeError("Position ".concat(b," is out of range for changeset of length ").concat(c));return e}},{key:"touchesRange",value:function(e){var
f=arguments.length>1&&arguments[1]!==undefined?arguments[1]:e;for(var
c=0,b=0;c<this.sections.length&&b<=f;){var
g=this.sections[c++],a=this.sections[c++],d=b+g;if(a>=0&&b<=f&&d>=e)return b<e&&d>f?"cover":true;b=d}return false}},{key:"toString",value:function(){var
c="";for(var
b=0;b<this.sections.length;){var
e=this.sections[b++],d=this.sections[b++];c+=(c?" ":"")+e+(d>=0?":"+d:"")}return c}},{key:"toJSON",value:function(){return this.sections}}],[{key:"fromJSON",value:function(c){if(!Array.isArray(c)||c.length%2||c.some(function(b){return typeof
b!="number"}))throw new
RangeError("Invalid JSON representation of ChangeDesc");return new
b(c)}},{key:"create",value:function(c){return new
b(c)}}]);return b}(),X=function(f){l(e,f);var
a=k(e);function
e(f,d){var
b;c(this,e);b=a.call(this,f);b.inserted=d;return b}d(e,[{key:"apply",value:function(b){if(this.length!=b.length)throw new
RangeError("Applying change set to a document with the wrong length");dg(this,function(d,f,c,a,e){return b=b.replace(c,c+(f-d),e)},false);return b}},{key:"mapDesc",value:function(c){var
b=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;return d3(this,c,b,true)}},{key:"invert",value:function(h){var
c=this.sections.slice(),d=[];for(var
b=0,a=0;b<c.length;b+=2){var
f=c[b],g=c[b+1];if(g>=0){c[b]=g;c[b+1]=f;var
i=b>>1;while(d.length<i)d.push(o.empty);d.push(f?h.slice(a,a+f):o.empty)}a+=f}return new
e(c,d)}},{key:"compose",value:function(b){return this.empty?b:b.empty?this:gs(this,b,true)}},{key:"map",value:function(b){var
c=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;return b.empty?this:d3(this,b,c,true)}},{key:"iterChanges",value:function(b){var
c=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;dg(this,b,c)}},{key:"desc",get:function(){return aQ.create(this.sections)}},{key:"filter",value:function(j){var
a=[],m=[],h=[],b=new
bd(this);done:for(var
g=0,c=0;;){var
i=g==j.length?1e9:j[g++];while(c<i||c==i&&b.len==0){if(b.done)break done;var
f=Math.min(b.len,i-c);H(h,f,-1);var
l=b.ins==-1?-1:b.off==0?b.ins:0;H(a,f,l);if(l>0)ax(m,a,b.text);b.forward(f);c+=f}var
k=j[g++];while(c<k){if(b.done)break done;var
d=Math.min(b.len,k-c);H(a,d,-1);H(h,d,b.ins==-1?-1:b.off==0?b.ins:0);b.forward(d);c+=d}}return{changes:new
e(a,m),filtered:aQ.create(h)}}},{key:"toJSON",value:function(){var
c=[];for(var
b=0;b<this.sections.length;b+=2){var
d=this.sections[b],e=this.sections[b+1];if(e<0)c.push(d);else
if(e==0)c.push([d]);else
c.push([d].concat(this.inserted[b>>1].toJSON()))}return c}}],[{key:"of",value:function(d,h,t){var
g=[],m=[],a=0,c=null;function
l(){var
d=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(!d&&!g.length)return;if(a<h)H(g,h-a,-1);var
b=new
e(g,m);c=c?c.compose(b.map(c)):b;g=[];m=[];a=0}function
n(d){if(Array.isArray(d)){var
j=b(d),q;try{for(j.s();!(q=j.n()).done;){var
u=q.value;n(u)}}catch(b){j.e(b)}finally{j.f()}}else
if(d
instanceof
e){if(d.length!=h)throw new
RangeError("Mismatched change set length (got ".concat(d.length,", expected ").concat(h,")"));l();c=c?c.compose(d.map(c)):d}else{var
f=d.from,p=d.to,i=p===void
0?f:p,k=d.insert;if(f>i||f<0||i>h)throw new
RangeError("Invalid change range ".concat(f," to ").concat(i," (in doc of length ").concat(h,")"));var
s=!k?o.empty:typeof
k=="string"?o.of(k.split(t||cQ)):k,r=s.length;if(f==i&&r==0)return;if(f<a)l();if(f>a)H(g,f-a,-1);H(g,i-f,r);ax(m,g,s);a=i}}n(d);l(!c);return c}},{key:"empty",value:function(b){return new
e(b?[b,-1]:[],[])}},{key:"fromJSON",value:function(a){if(!Array.isArray(a))throw new
RangeError("Invalid JSON representation of ChangeSet");var
f=[],d=[];for(var
c=0;c<a.length;c++){var
b=a[c];if(typeof
b=="number")f.push(b,-1);else
if(!Array.isArray(b)||typeof
b[0]!="number"||b.some(function(b,c){return c&&typeof
b!="string"}))throw new
RangeError("Invalid JSON representation of ChangeSet");else
if(b.length==1)f.push(b[0],0);else{while(d.length<c)d.push(o.empty);d[c]=o.of(b.slice(1));f.push(b[0],d[c].length)}}return new
e(f,d)}},{key:"createSet",value:function(c,b){return new
e(c,b)}}]);return e}(aQ);function
H(b,e,d){var
f=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;if(e==0&&d<=0)return;var
c=b.length-2;if(c>=0&&d<=0&&d==b[c+1])b[c]+=e;else
if(e==0&&b[c]==0)b[c+1]+=d;else
if(f){b[c]+=e;b[c+1]+=d}else
b.push(e,d)}function
ax(b,e,c){if(c.length==0)return;var
d=e.length-2>>1;if(d<b.length)b[b.length-1]=b[b.length-1].append(c);else{while(b.length<d)b.push(o.empty);b.push(c)}}function
dg(c,k,l){var
j=c.inserted;for(var
f=0,a=0,b=0;b<c.sections.length;){var
e=c.sections[b++],d=c.sections[b++];if(d<0){f+=e;a+=e}else{var
h=f,i=a,g=o.empty;for(;;){h+=e;i+=d;if(d&&j)g=g.append(j[b-2>>1]);if(l||b==c.sections.length||c.sections[b+1]<0)break;e=c.sections[b++];d=c.sections[b++]}k(f,h,a,i,g);f=h;a=i}}}function
d3(n,o,l){var
m=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false,d=[],e=m?[]:null,b=new
bd(n),c=new
bd(o);for(var
f=-1;;)if(b.ins==-1&&c.ins==-1){var
i=Math.min(b.len,c.len);H(d,i,-1);b.forward(i);c.forward(i)}else
if(c.ins>=0&&(b.ins<0||f==b.i||b.off==0&&(c.len<b.len||c.len==b.len&&!l))){var
g=c.len;H(d,c.ins,-1);while(g){var
j=Math.min(b.len,g);if(b.ins>=0&&f<b.i&&b.len<=j){H(d,0,b.ins);if(e)ax(e,d,b.text);f=b.i}b.forward(j);g-=j}c.next()}else
if(b.ins>=0){var
k=0,a=b.len;while(a)if(c.ins==-1){var
h=Math.min(a,c.len);k+=h;a-=h;c.forward(h)}else
if(c.ins==0&&c.len<a){a-=c.len;c.next()}else
break;H(d,k,f<b.i?b.ins:0);if(e&&f<b.i)ax(e,d,b.text);f=b.i;b.forward(b.len-a)}else
if(b.done&&c.done)return e?X.createSet(d,e):aQ.create(d);else
throw new
Error("Mismatched change set lengths")}function
gs(j,k){var
h=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false,d=[],e=h?[]:null,c=new
bd(j),b=new
bd(k);for(var
a=false;;)if(c.done&&b.done)return e?X.createSet(d,e):aQ.create(d);else
if(c.ins==0){H(d,c.len,0,a);c.next()}else
if(b.len==0&&!b.done){H(d,0,b.ins,a);if(e)ax(e,d,b.text);b.next()}else
if(c.done||b.done)throw new
Error("Mismatched change set lengths");else{var
f=Math.min(c.len2,b.len),i=d.length;if(c.ins==-1){var
g=b.ins==-1?-1:b.off?0:b.ins;H(d,f,g,a);if(e&&g)ax(e,d,b.text)}else
if(b.ins==-1){H(d,c.off?0:c.len,f,a);if(e)ax(e,d,c.textBit(f))}else{H(d,c.off?0:c.len,b.off?0:b.ins,a);if(e&&!b.off)ax(e,d,b.text)}a=(c.ins>f||b.ins>=0&&b.len>f)&&(a||d.length>i);c.forward2(f);b.forward(f)}}var
bd=function(){function
b(d){c(this,b);this.set=d;this.i=0;this.next()}d(b,[{key:"next",value:function(){var
b=this.set.sections;if(this.i<b.length){this.len=b[this.i++];this.ins=b[this.i++]}else{this.len=0;this.ins=-2}this.off=0}},{key:"done",get:function(){return this.ins==-2}},{key:"len2",get:function(){return this.ins<0?this.len:this.ins}},{key:"text",get:function(){var
c=this.set.inserted,b=this.i-2>>1;return b>=c.length?o.empty:c[b]}},{key:"textBit",value:function(b){var
d=this.set.inserted,c=this.i-2>>1;return c>=d.length&&!b?o.empty:d[c].slice(this.off,b==null?void
0:this.off+b)}},{key:"forward",value:function(b){if(b==this.len)this.next();else{this.len-=b;this.off+=b}}},{key:"forward2",value:function(b){if(this.ins==-1)this.forward(b);else
if(b==this.ins)this.next();else{this.ins-=b;this.off+=b}}}]);return b}(),bS=function(){function
b(e,f,d){c(this,b);this.from=e;this.to=f;this.flags=d}d(b,[{key:"anchor",get:function(){return this.flags&16?this.to:this.from}},{key:"head",get:function(){return this.flags&16?this.from:this.to}},{key:"empty",get:function(){return this.from==this.to}},{key:"assoc",get:function(){return this.flags&4?-1:this.flags&8?1:0}},{key:"bidiLevel",get:function(){var
b=this.flags&3;return b==3?null:b}},{key:"goalColumn",get:function(){var
b=this.flags>>5;return b==33554431?void
0:b}},{key:"map",value:function(e){var
f=arguments.length>1&&arguments[1]!==undefined?arguments[1]:-1,c,d;if(this.empty)c=d=e.mapPos(this.from,f);else{c=e.mapPos(this.from,1);d=e.mapPos(this.to,-1)}return c==this.from&&d==this.to?this:new
b(c,d,this.flags)}},{key:"extend",value:function(b){var
c=arguments.length>1&&arguments[1]!==undefined?arguments[1]:b;if(b<=this.anchor&&c>=this.anchor)return f.range(b,c);var
d=Math.abs(b-this.anchor)>Math.abs(c-this.anchor)?b:c;return f.range(this.anchor,d)}},{key:"eq",value:function(b){return this.anchor==b.anchor&&this.head==b.head}},{key:"toJSON",value:function(){return{anchor:this.anchor,head:this.head}}}],[{key:"fromJSON",value:function(b){if(!b||typeof
b.anchor!="number"||typeof
b.head!="number")throw new
RangeError("Invalid JSON representation for SelectionRange");return f.range(b.anchor,b.head)}},{key:"create",value:function(d,e,c){return new
b(d,e,c)}}]);return b}(),f=function(){function
b(e,d){c(this,b);this.ranges=e;this.mainIndex=d}d(b,[{key:"map",value:function(c){var
d=arguments.length>1&&arguments[1]!==undefined?arguments[1]:-1;if(c.empty)return this;return b.create(this.ranges.map(function(b){return b.map(c,d)}),this.mainIndex)}},{key:"eq",value:function(c){if(this.ranges.length!=c.ranges.length||this.mainIndex!=c.mainIndex)return false;for(var
b=0;b<this.ranges.length;b++)if(!this.ranges[b].eq(c.ranges[b]))return false;return true}},{key:"main",get:function(){return this.ranges[this.mainIndex]}},{key:"asSingle",value:function(){return this.ranges.length==1?this:new
b([this.main],0)}},{key:"addRange",value:function(d){var
c=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;return b.create([d].concat(this.ranges),c?0:this.mainIndex+1)}},{key:"replaceRange",value:function(d){var
e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.mainIndex,c=this.ranges.slice();c[e]=d;return b.create(c,this.mainIndex)}},{key:"toJSON",value:function(){return{ranges:this.ranges.map(function(b){return b.toJSON()}),main:this.mainIndex}}}],[{key:"fromJSON",value:function(c){if(!c||!Array.isArray(c.ranges)||typeof
c.main!="number"||c.main>=c.ranges.length)throw new
RangeError("Invalid JSON representation for EditorSelection");return new
b(c.ranges.map(function(b){return bS.fromJSON(b)}),c.main)}},{key:"single",value:function(c){var
d=arguments.length>1&&arguments[1]!==undefined?arguments[1]:c;return new
b([b.range(c,d)],0)}},{key:"create",value:function(c){var
a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;if(c.length==0)throw new
RangeError("A selection needs at least one range");for(var
f=0,e=0;e<c.length;e++){var
d=c[e];if(d.empty?d.from<=f:d.from<f)return b.normalized(c.slice(),a);f=d.to}return new
b(c,a)}},{key:"cursor",value:function(e){var
c=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0,d=arguments.length>2?arguments[2]:undefined,b=arguments.length>3?arguments[3]:undefined;return bS.create(e,e,(c==0?0:c<0?4:8)|(d==null?3:Math.min(2,d))|(b!==null&&b!==void
0?b:33554431)<<5)}},{key:"range",value:function(b,c,d){var
e=(d!==null&&d!==void
0?d:33554431)<<5;return c<b?bS.create(c,b,16|e|8):bS.create(b,c,e|(c>b?4:0))}},{key:"normalized",value:function(c){var
f=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0,i=c[f];c.sort(function(b,c){return b.from-c.from});f=c.indexOf(i);for(var
d=1;d<c.length;d++){var
e=c[d],a=c[d-1];if(e.empty?e.from<=a.to:e.from<a.to){var
g=a.from,h=Math.max(e.to,a.to);if(d<=f)f--;c.splice(--d,2,e.anchor>e.head?b.range(h,g):b.range(g,h))}}return new
b(c,f)}}]);return b}();function
gh(a,e){var
c=b(a.ranges),d;try{for(c.s();!(d=c.n()).done;){var
f=d.value;if(f.to>e)throw new
RangeError("Selection points outside of document")}}catch(b){c.e(b)}finally{c.f()}}var
d6=0,h=function(){function
e(d,a,f,g,b){c(this,e);this.combine=d;this.compareInput=a;this.compare=f;this.isStatic=g;this.id=d6++;this["default"]=d([]);this.extensions=typeof
b=="function"?b(this):b}d(e,[{key:"of",value:function(b){return new
bQ([],this,0,b)}},{key:"compute",value:function(b,c){if(this.isStatic)throw new
Error("Can't compute a static facet");return new
bQ(b,this,1,c)}},{key:"computeN",value:function(b,c){if(this.isStatic)throw new
Error("Can't compute a static facet");return new
bQ(b,this,2,c)}},{key:"from",value:function(c,b){if(!b)b=function(b){return b};return this.compute([c],function(d){return b(d.field(c))})}}],[{key:"define",value:function(){var
b=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return new
e(b.combine||function(b){return b},b.compareInput||function(b,c){return b===c},b.compare||(!b.combine?eb:function(b,c){return b===c}),!!b["static"],b.enables)}}]);return e}();function
eb(b,c){return b==c||b.length==c.length&&b.every(function(b,d){return b===c[d]})}var
bQ=function(){function
e(b,d,f,a){c(this,e);this.dependencies=b;this.facet=d;this.type=f;this.value=a;this.id=d6++}d(e,[{key:"dynamicSlot",value:function(g){var
p=this,a,i=this.value,e=this.facet.compareInput,n=this.id,c=g[n]>>1,o=this.type==2,l=false,m=false,k=[],d=b(this.dependencies),j;try{for(d.s();!(j=d.n()).done;){var
f=j.value;if(f=="doc")l=true;else
if(f=="selection")m=true;else
if((((a=g[f.id])!==null&&a!==void
0?a:1)&1)==0)k.push(g[f.id])}}catch(b){d.e(b)}finally{d.f()}return{create:function(b){b.values[c]=i(b);return 1},update:function(b,f){if(l&&f.docChanged||m&&(f.docChanged||f.selection)||dJ(b,k)){var
d=i(b);if(o?!gq(d,b.values[c],e):!e(d,b.values[c])){b.values[c]=d;return 1}}return 0},reconfigure:function(d,f){var
b=i(d),g=f.config.address[n];if(g!=null){var
a=ch(f,g);if(p.dependencies.every(function(b){return b
instanceof
h?f.facet(b)===d.facet(b):b
instanceof
A?f.field(b,false)==d.field(b,false):true})||(o?gq(b,a,e):e(b,a))){d.values[c]=a;return 0}}d.values[c]=b;return 1}}}}]);return e}();function
gq(c,d,e){if(c.length!=d.length)return false;for(var
b=0;b<c.length;b++)if(!e(c[b],d[b]))return false;return true}function
dJ(g,a){var
e=false,c=b(a),d;try{for(c.s();!(d=c.n()).done;){var
f=d.value;if(bw(g,f)&1)e=true}}catch(b){c.e(b)}finally{c.f()}return e}function
l8(g,c,a){var
e=a.map(function(b){return g[b.id]}),i=a.map(function(b){return b.type}),h=e.filter(function(b){return!(b&1)}),d=g[c.id]>>1;function
f(j){var
a=[];for(var
d=0;d<e.length;d++){var
h=ch(j,e[d]);if(i[d]==2){var
f=b(h),g;try{for(f.s();!(g=f.n()).done;){var
k=g.value;a.push(k)}}catch(b){f.e(b)}finally{f.f()}}else
a.push(h)}return c.combine(a)}return{create:function(a){var
c=b(e),g;try{for(c.s();!(g=c.n()).done;){var
h=g.value;bw(a,h)}}catch(b){c.e(b)}finally{c.f()}a.values[d]=f(a);return 1},update:function(b,a){if(!dJ(b,h))return 0;var
e=f(b);if(c.compare(e,b.values[d]))return 0;b.values[d]=e;return 1},reconfigure:function(b,i){var
k=dJ(b,e),h=i.config.facets[c.id],g=i.facet(c);if(h&&!k&&eb(a,h)){b.values[d]=g;return 0}var
j=f(b);if(c.compare(j,g)){b.values[d]=g;return 0}b.values[d]=j;return 1}}}var
hB=h.define({"static":true}),A=function(){function
e(f,d,g,b,a){c(this,e);this.id=f;this.createF=d;this.updateF=g;this.compareF=b;this.spec=a;this.provides=void
0}d(e,[{key:"create",value:function(c){var
d=this,b=c.facet(hB).find(function(b){return b.field==d});return((b===null||b===void
0?void
0:b.create)||this.createF)(c)}},{key:"slot",value:function(d){var
b=this,c=d[this.id]>>1;return{create:function(d){d.values[c]=b.create(d);return 1},update:function(e,a){var
d=e.values[c],f=b.updateF(d,a);if(b.compareF(d,f))return 0;e.values[c]=f;return 1},reconfigure:function(d,e){if(e.config.address[b.id]!=null){d.values[c]=e.field(b);return 0}d.values[c]=b.create(d);return 1}}}},{key:"init",value:function(b){return[this,hB.of({field:this,create:b})]}},{key:"extension",get:function(){return this}}],[{key:"define",value:function(b){var
c=new
e(d6++,b.create,b.update,b.compare||function(b,c){return b===c},b);if(b.provide)c.provides=b.provide(c);return c}}]);return e}(),aS={lowest:4,low:3,"default":2,high:1,highest:0};function
bz(b){return function(c){return new
e6(c,b)}}var
aG={highest:bz(aS.highest),high:bz(aS.high),"default":bz(aS["default"]),low:bz(aS.low),lowest:bz(aS.lowest)},e6=d(function
b(d,e){c(this,b);this.inner=d;this.prec=e}),eE=function(){function
b(){c(this,b)}d(b,[{key:"of",value:function(b){return new
cP(this,b)}},{key:"reconfigure",value:function(c){return b.reconfigure.of({compartment:this,extension:c})}},{key:"get",value:function(b){return b.config.compartments.get(this)}}]);return b}(),cP=d(function
b(d,e){c(this,b);this.compartment=d;this.inner=e}),eH=function(){function
g(e,f,b,d,h,a){c(this,g);this.base=e;this.compartments=f;this.dynamicSlots=b;this.address=d;this.staticValues=h;this.facets=a;this.statusTemplate=[];while(this.statusTemplate.length<b.length)this.statusTemplate.push(0)}d(g,[{key:"staticFacet",value:function(c){var
b=this.address[c.id];return b==null?c["default"]:this.staticValues[b>>1]}}],[{key:"resolve",value:function(m,s,f){var
n=[],h=Object.create(null),o=new
Map(),i=b(mk(m,s,o)),l;try{for(i.s();!(l=i.n()).done;){var
c=l.value;if(c
instanceof
A)n.push(c);else(h[c.facet.id]||(h[c.facet.id]=[])).push(c)}}catch(b){i.e(b)}finally{i.f()}var
d=Object.create(null),a=[],e=[],q=function(){var
b=k[j];d[b.id]=e.length<<1;e.push(function(c){return b.slot(c)})};for(var
j=0,k=n;j<k.length;j++)q();var
p=f===null||f===void
0?void
0:f.config.facets,r=function(k){var
g=h[k],c=g[0].facet,n=p&&p[k]||[];if(g.every(function(b){return b.type==0})){d[c.id]=a.length<<1|1;if(eb(n,g))a.push(f.facet(c));else{var
l=c.combine(g.map(function(b){return b.value}));a.push(f&&c.compare(l,f.facet(c))?f.facet(c):l)}}else{var
i=b(g),j;try{var
m=function(){var
b=j.value;if(b.type==0){d[b.id]=a.length<<1|1;a.push(b.value)}else{d[b.id]=e.length<<1;e.push(function(c){return b.dynamicSlot(c)})}};for(i.s();!(j=i.n()).done;)m()}catch(b){i.e(b)}finally{i.f()}d[c.id]=e.length<<1;e.push(function(b){return l8(b,c,g)})}};for(var
u
in
h)r(u);var
t=e.map(function(b){return b(d)});return new
g(m,o,t,d,a,h)}}]);return g}();function
mk(c,n,h){var
f=[[],[],[],[],[]],i=new
Map();function
e(c,d){var
g=i.get(c);if(g!=null){if(g<=d)return;var
m=f[g].indexOf(c);if(m>-1)f[g].splice(m,1);if(c
instanceof
cP)h["delete"](c.compartment)}i.set(c,d);if(Array.isArray(c)){var
a=b(c),k;try{for(a.s();!(k=a.n()).done;){var
o=k.value;e(o,d)}}catch(b){a.e(b)}finally{a.f()}}else
if(c
instanceof
cP){if(h.has(c.compartment))throw new
RangeError("Duplicate use of compartment in extensions");var
l=n.get(c.compartment)||c.inner;h.set(c.compartment,l);e(l,d)}else
if(c
instanceof
e6)e(c.inner,c.prec);else
if(c
instanceof
A){f[d].push(c);if(c.provides)e(c.provides,d)}else
if(c
instanceof
bQ){f[d].push(c);if(c.facet.extensions)e(c.facet.extensions,d)}else{var
j=c.extension;if(!j)throw new
Error("Unrecognized extension value in extension set (".concat(c,"). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks."));e(j,d)}}e(c,aS["default"]);return f.reduce(function(b,c){return b.concat(c)})}function
bw(b,e){if(e&1)return 2;var
c=e>>1,d=b.status[c];if(d==4)throw new
Error("Cyclic dependency between fields and/or facets");if(d&2)return d;b.status[c]=4;var
f=b.computeSlot(b,b.config.dynamicSlots[c]);return b.status[c]=2|f}function
ch(c,b){return b&1?c.config.staticValues[b>>1]:c.values[b>>1]}var
hN=h.define(),f1=h.define({combine:function(b){return b.some(function(b){return b})},"static":true}),hT=h.define({combine:function(b){return b.length?b[0]:void
0},"static":true}),gg=h.define(),jc=h.define(),jb=h.define(),ix=h.define({combine:function(b){return b.length?b[0]:false}}),as=function(){function
b(d,e){c(this,b);this.type=d;this.value=e}d(b,null,[{key:"define",value:function(){return new
jr()}}]);return b}(),jr=function(){function
b(){c(this,b)}d(b,[{key:"of",value:function(b){return new
as(this,b)}}]);return b}(),kk=function(){function
b(d){c(this,b);this.map=d}d(b,[{key:"of",value:function(b){return new
m(this,b)}}]);return b}(),m=function(){function
e(b,d){c(this,e);this.type=b;this.value=d}d(e,[{key:"map",value:function(c){var
b=this.type.map(this.value,c);return b===void
0?void
0:b==this.value?this:new
e(this.type,b)}},{key:"is",value:function(b){return this.type==b}}],[{key:"define",value:function(){var
b=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return new
kk(b.map||function(b){return b})}},{key:"mapEffects",value:function(d,h){if(!d.length)return d;var
a=[],c=b(d),e;try{for(c.s();!(e=c.n()).done;){var
g=e.value,f=g.map(h);if(f)a.push(f)}}catch(b){c.e(b)}finally{c.f()}return a}}]);return e}();m.reconfigure=m.define();m.appendConfig=m.define();var
N=function(){function
e(h,f,d,a,b,g){c(this,e);this.startState=h;this.changes=f;this.selection=d;this.effects=a;this.annotations=b;this.scrollIntoView=g;this._doc=null;this._state=null;if(d)gh(d,f.newLength);if(!b.some(function(b){return b.type==e.time}))this.annotations=b.concat(e.time.of(Date.now()))}d(e,[{key:"newDoc",get:function(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}},{key:"newSelection",get:function(){return this.selection||this.startState.selection.map(this.changes)}},{key:"state",get:function(){if(!this._state)this.startState.applyTransaction(this);return this._state}},{key:"annotation",value:function(f){var
c=b(this.annotations),d;try{for(c.s();!(d=c.n()).done;){var
e=d.value;if(e.type==f)return e.value}}catch(b){c.e(b)}finally{c.f()}return void
0}},{key:"docChanged",get:function(){return!this.changes.empty}},{key:"reconfigured",get:function(){return this.startState.config!=this.state.config}},{key:"isUserEvent",value:function(c){var
b=this.annotation(e.userEvent);return!!(b&&(b==c||b.length>c.length&&b.slice(0,c.length)==c&&b[c.length]=="."))}}],[{key:"create",value:function(g,c,a,d,b,f){return new
e(g,c,a,d,b,f)}}]);return e}();N.time=as.define();N.userEvent=as.define();N.addToHistory=as.define();N.remote=as.define();function
nc(f,c){var
b=[];for(var
g=0,d=0;;){var
a=void
0,e=void
0;if(g<f.length&&(d==c.length||c[d]>=f[g])){a=f[g++];e=f[g++]}else
if(d<c.length){a=c[d++];e=c[d++]}else
return b;if(!b.length||b[b.length-1]<a)b.push(a,e);else
if(b[b.length-1]<e)b[b.length-1]=e}}function
h6(c,b,g){var
f,d,e,a;if(g){d=b.changes;e=X.empty(b.changes.length);a=c.changes.compose(b.changes)}else{d=b.changes.map(c.changes);e=c.changes.mapDesc(b.changes,true);a=c.changes.compose(d)}return{changes:a,selection:b.selection?b.selection.map(e):(f=c.selection)===null||f===void
0?void
0:f.map(d),effects:m.mapEffects(c.effects,d).concat(m.mapEffects(b.effects,e)),annotations:c.annotations.length?c.annotations.concat(b.annotations):b.annotations,scrollIntoView:c.scrollIntoView||b.scrollIntoView}}function
ea(a,b,e){var
c=b.selection,d=aX(b.annotations);if(b.userEvent)d=d.concat(N.userEvent.of(b.userEvent));return{changes:b.changes
instanceof
X?b.changes:X.of(b.changes||[],e,a.facet(hT)),selection:c&&(c
instanceof
f?c:f.single(c.anchor,c.head)),effects:aX(b.effects),annotations:d,scrollIntoView:!!b.scrollIntoView}}function
iD(e,c,f){var
b=ea(e,c.length?c[0]:{},e.doc.length);if(c.length&&c[0].filter===false)f=false;for(var
d=1;d<c.length;d++){if(c[d].filter===false)f=false;var
a=!!c[d].sequential;b=h6(b,ea(e,c[d],a?b.changes.newLength:e.doc.length),a)}var
g=N.create(e,b.changes,b.selection,b.effects,b.annotations,b.scrollIntoView);return l$(f?mc(g):g)}function
mc(c){var
f=c.startState,e=true,a=b(f.facet(gg)),l;try{for(a.s();!(l=a.n()).done;){var
o=l.value,h=o(c);if(h===false){e=false;break}if(Array.isArray(h))e=e===true?h:nc(e,h)}}catch(b){a.e(b)}finally{a.f()}if(e!==true){var
j,g;if(e===false){g=c.changes.invertedDesc;j=X.empty(f.doc.length)}else{var
k=c.changes.filter(e);j=k.changes;g=k.filtered.mapDesc(k.changes).invertedDesc}c=N.create(f,j,c.selection&&c.selection.map(g),m.mapEffects(c.effects,g),c.annotations,c.scrollIntoView)}var
n=f.facet(jc);for(var
i=n.length-1;i>=0;i--){var
d=n[i](c);if(d
instanceof
N)c=d;else
if(Array.isArray(d)&&d.length==1&&d[0]instanceof
N)c=d[0];else
c=iD(f,aX(d),false)}return c}function
l$(b){var
f=b.startState,a=f.facet(jb),c=b;for(var
d=a.length-1;d>=0;d--){var
e=a[d](b);if(e&&Object.keys(e).length)c=h6(b,ea(f,e,b.changes.newLength),true)}return c==b?b:N.create(f,b.changes,b.selection,c.effects,c.annotations,c.scrollIntoView)}var
nS=[];function
aX(b){return b==null?nS:Array.isArray(b)?b:[b]}var
J=function(b){b[b["Word"]=0]="Word";b[b["Space"]=1]="Space";b[b["Other"]=2]="Other";return b}(J||(J={})),nR=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,ev;try{ev=new
RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(a){}function
mC(d){if(ev)return ev.test(d);for(var
c=0;c<d.length;c++){var
b=d[c];if(/\w/.test(b)||b>"\x80"&&(b.toUpperCase()!=b.toLowerCase()||nR.test(b)))return true}return false}function
nr(d){return function(b){if(!/\S/.test(b))return J.Space;if(mC(b))return J.Word;for(var
c=0;c<d.length;c++)if(b.indexOf(d[c])>-1)return J.Word;return J.Other}}var
w=function(){function
e(d,g,h,i,a,f){c(this,e);this.config=d;this.doc=g;this.selection=h;this.values=i;this.status=d.statusTemplate.slice();this.computeSlot=a;if(f)f._state=this;for(var
b=0;b<this.config.dynamicSlots.length;b++)bw(this,b<<1);this.computeSlot=null}d(e,[{key:"field",value:function(c){var
d=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true,b=this.config.address[c.id];if(b==null){if(d)throw new
RangeError("Field is not present in this state");return void
0}bw(this,b);return ch(this,b)}},{key:"update",value:function(){for(var
c=arguments.length,d=new
Array(c),b=0;b<c;b++)d[b]=arguments[b];return iD(this,d,true)}},{key:"applyTransaction",value:function(f){var
l=this,c=this.config,j=c,g=j.base,h=j.compartments,a=b(f.effects),k;try{for(a.s();!(k=a.n()).done;){var
d=k.value;if(d.is(eE.reconfigure)){if(c){h=new
Map();c.compartments.forEach(function(c,b){return h.set(b,c)});c=null}h.set(d.value.compartment,d.value.extension)}else
if(d.is(m.reconfigure)){c=null;g=d.value}else
if(d.is(m.appendConfig)){c=null;g=aX(g).concat(d.value)}}}catch(b){a.e(b)}finally{a.f()}var
i;if(!c){c=eH.resolve(g,h,this);var
n=new
e(c,this.doc,this.selection,c.dynamicSlots.map(function(){return null}),function(c,b){return b.reconfigure(c,l)},null);i=n.values}else
i=f.startState.values.slice();new
e(c,f.newDoc,f.newSelection,i,function(c,b){return b.update(c,f)},f)}},{key:"replaceSelection",value:function(b){if(typeof
b=="string")b=this.toText(b);return this.changeByRange(function(c){return{changes:{from:c.from,to:c.to,insert:b},range:f.cursor(c.from+b.length)}})}},{key:"changeByRange",value:function(k){var
a=this.selection,j=k(a.ranges[0]),b=this.changes(j.changes),e=[j.range],g=aX(j.effects);for(var
c=1;c<a.ranges.length;c++){var
i=k(a.ranges[c]),n=this.changes(i.changes),h=n.map(b);for(var
d=0;d<c;d++)e[d]=e[d].map(h);var
l=b.mapDesc(n,true);e.push(i.range.map(l));b=b.compose(h);g=m.mapEffects(g,h).concat(m.mapEffects(aX(i.effects),l))}return{changes:b,selection:f.create(e,a.mainIndex),effects:g}}},{key:"changes",value:function(){var
b=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];if(b
instanceof
X)return b;return X.of(b,this.doc.length,this.facet(e.lineSeparator))}},{key:"toText",value:function(b){return o.of(b.split(this.facet(e.lineSeparator)||cQ))}},{key:"sliceDoc",value:function(){var
b=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0,c=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.doc.length;return this.doc.sliceString(b,c,this.lineBreak)}},{key:"facet",value:function(c){var
b=this.config.address[c.id];if(b==null)return c["default"];bw(this,b);return ch(this,b)}},{key:"toJSON",value:function(b){var
e={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(b)for(var
c
in
b){var
d=b[c];if(d
instanceof
A&&this.config.address[d.id]!=null)e[c]=d.spec.toJSON(this.field(b[c]),this)}return e}},{key:"tabSize",get:function(){return this.facet(e.tabSize)}},{key:"lineBreak",get:function(){return this.facet(e.lineSeparator)||"\n"}},{key:"readOnly",get:function(){return this.facet(ix)}},{key:"phrase",value:function(c){for(var
g=arguments.length,a=new
Array(g>1?g-1:0),f=1;f<g;f++)a[f-1]=arguments[f];var
d=b(this.facet(e.phrases)),h;try{for(d.s();!(h=d.n()).done;){var
i=h.value;if(Object.prototype.hasOwnProperty.call(i,c)){c=i[c];break}}}catch(b){d.e(b)}finally{d.f()}if(a.length)c=c.replace(/\$(\$|\d*)/g,function(d,c){if(c=="$")return"$";var
b=+(c||1);return!b||b>a.length?d:a[b-1]});return c}},{key:"languageDataAt",value:function(a,i){var
k=arguments.length>2&&arguments[2]!==undefined?arguments[2]:-1,h=[],c=b(this.facet(hN)),e;try{for(c.s();!(e=c.n()).done;){var
j=e.value,d=b(j(this,i,k)),f;try{for(d.s();!(f=d.n()).done;){var
g=f.value;if(Object.prototype.hasOwnProperty.call(g,a))h.push(g[a])}}catch(b){d.e(b)}finally{d.f()}}}catch(b){c.e(b)}finally{c.f()}return h}},{key:"charCategorizer",value:function(b){return nr(this.languageDataAt("wordChars",b).join(""))}},{key:"wordAt",value:function(e){var
g=this.doc.lineAt(e),a=g.text,d=g.from,k=g.length,h=this.charCategorizer(e),c=e-d,b=e-d;while(c>0){var
j=Q(a,c,false);if(h(a.slice(j,c))!=J.Word)break;c=j}while(b<k){var
i=Q(a,b);if(h(a.slice(b,i))!=J.Word)break;b=i}return c==b?null:f.range(c+d,b+d)}}],[{key:"fromJSON",value:function(b){var
g=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},d=arguments.length>2?arguments[2]:undefined;if(!b||typeof
b.doc!="string")throw new
RangeError("Invalid JSON representation for EditorState");var
c=[];if(d)for(var
a
in
d)if(Object.prototype.hasOwnProperty.call(b,a))(function(){var
e=d[a],f=b[a];c.push(e.init(function(b){return e.spec.fromJSON(f,b)}))}());return e.create({doc:b.doc,selection:f.fromJSON(b.selection),extensions:g.extensions?c.concat([g.extensions]):c})}},{key:"create",value:function(){var
b=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},c=eH.resolve(b.extensions||[],new
Map()),a=b.doc
instanceof
o?b.doc:o.of((b.doc||"").split(c.staticFacet(e.lineSeparator)||cQ)),d=!b.selection?f.single(0):b.selection
instanceof
f?b.selection:f.single(b.selection.anchor,b.selection.head);gh(d,a.length);if(!c.staticFacet(f1))d=d.asSingle();return new
e(c,a,d,c.dynamicSlots.map(function(){return null}),function(c,b){return b.create(c)},null)}}]);return e}();w.allowMultipleSelections=f1;w.tabSize=h.define({combine:function(b){return b.length?b[0]:4}});w.lineSeparator=hT;w.readOnly=ix;w.phrases=h.define({compare:function(b,c){var
d=Object.keys(b),e=Object.keys(c);return d.length==e.length&&d.every(function(d){return b[d]==c[d]})}});w.languageData=hN;w.changeFilter=gg;w.transactionFilter=jc;w.transactionExtender=jb;eE.reconfigure=m.define();function
ad(n,m){var
k=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{},d={},e=b(n),j;try{for(e.s();!(j=e.n()).done;){var
l=j.value;for(var
a=0,i=Object.keys(l);a<i.length;a++){var
c=i[a],f=l[c],g=d[c];if(g===void
0)d[c]=f;else
if(g===f||f===void
0);else
if(Object.hasOwnProperty.call(k,c))d[c]=k[c](g,f);else
throw new
Error("Config merge conflict for field "+c)}}}catch(b){e.e(b)}finally{e.f()}for(var
h
in
m)if(d[h]===void
0)d[h]=m[h];return d}var
aH=function(){function
b(){c(this,b)}d(b,[{key:"eq",value:function(b){return this==b}},{key:"range",value:function(b){var
c=arguments.length>1&&arguments[1]!==undefined?arguments[1]:b;return c1.create(b,c,this)}}]);return b}();aH.prototype.startSide=aH.prototype.endSide=0;aH.prototype.point=false;aH.prototype.mapMode=C.TrackDel;var
c1=function(){function
b(d,e,f){c(this,b);this.from=d;this.to=e;this.value=f}d(b,null,[{key:"create",value:function(c,d,e){return new
b(c,d,e)}}]);return b}();function
dx(b,c){return b.from-c.from||b.value.startSide-c.value.startSide}var
jx=function(){function
a(b,e,f,d){c(this,a);this.from=b;this.to=e;this.value=f;this.maxPoint=d}d(a,[{key:"length",get:function(){return this.to[this.to.length-1]}},{key:"findIndex",value:function(g,h,a){var
i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0,e=a?this.to:this.from;for(var
b=i,d=e.length;;){if(b==d)return b;var
c=b+d>>1,f=e[c]-g||(a?this.value[c].endSide:this.value[c].startSide)-h;if(c==b)return f>=0?b:d;if(f>=0)d=c;else
b=c+1}}},{key:"between",value:function(c,f,a,e){for(var
b=this.findIndex(f,-1e9,true),d=this.findIndex(a,1e9,false,b);b<d;b++)if(e(this.from[b]+c,this.to[b]+c,this.value[b])===false)return false}},{key:"map",value:function(n,g){var
j=[],l=[],o=[],f=-1,i=-1;for(var
e=0;e<this.value.length;e++){var
b=this.value[e],h=this.from[e]+n,k=this.to[e]+n,c=void
0,d=void
0;if(h==k){var
m=g.mapPos(h,b.startSide,b.mapMode);if(m==null)continue;c=d=m;if(b.startSide!=b.endSide){d=g.mapPos(h,b.endSide);if(d<c)continue}}else{c=g.mapPos(h,b.startSide);d=g.mapPos(k,b.endSide);if(c>d||c==d&&b.startSide>0&&b.endSide<=0)continue}if((d-c||b.endSide-b.startSide)<0)continue;if(f<0)f=c;if(b.point)i=Math.max(i,d-c);j.push(b);l.push(c-f);o.push(d-f)}return{mapped:j.length?new
a(l,o,j,i):null,pos:f}}}]);return a}(),q=function(){function
e(d,b,a,f){c(this,e);this.chunkPos=d;this.chunk=b;this.nextLayer=a;this.maxPoint=f}d(e,[{key:"length",get:function(){var
b=this.chunk.length-1;return b<0?0:Math.max(this.chunkEnd(b),this.nextLayer.length)}},{key:"size",get:function(){if(this.isEmpty)return 0;var
e=this.nextLayer.size,c=b(this.chunk),d;try{for(c.s();!(d=c.n()).done;){var
f=d.value;e+=f.value.length}}catch(b){c.e(b)}finally{c.f()}return e}},{key:"chunkEnd",value:function(b){return this.chunkPos[b]+this.chunk[b].length}},{key:"update",value:function(a){var
l=a.add,c=l===void
0?[]:l,o=a.sort,p=o===void
0?false:o,m=a.filterFrom,j=m===void
0?0:m,n=a.filterTo,k=n===void
0?this.length:n,f=a.filter;if(c.length==0&&!f)return this;if(p)c=c.slice().sort(dx);if(this.isEmpty)return c.length?e.of(c):this;var
b=new
eT(this,null,-1)["goto"](0),d=0,i=[],g=new
aT();while(b.value||d<c.length)if(d<c.length&&(b.from-c[d].from||b.startSide-c[d].value.startSide)>=0){var
h=c[d++];if(!g.addInner(h.from,h.to,h.value))i.push(h)}else
if(b.rangeIndex==1&&b.chunkIndex<this.chunk.length&&(d==c.length||this.chunkEnd(b.chunkIndex)<c[d].from)&&(!f||j>this.chunkEnd(b.chunkIndex)||k<this.chunkPos[b.chunkIndex])&&g.addChunk(this.chunkPos[b.chunkIndex],this.chunk[b.chunkIndex]))b.nextChunk();else{if(!f||j>b.to||k<b.from||f(b.from,b.to,b.value))if(!g.addInner(b.from,b.to,b.value))i.push(c1.create(b.from,b.to,b.value));b.next()}return g.finishInner(this.nextLayer.isEmpty&&!i.length?e.empty:this.nextLayer.update({add:i,filter:f,filterFrom:j,filterTo:k}))}},{key:"map",value:function(b){if(b.empty||this.isEmpty)return this;var
a=[],h=[],c=-1;for(var
d=0;d<this.chunk.length;d++){var
g=this.chunkPos[d],f=this.chunk[d],l=b.touchesRange(g,g+f.length);if(l===false){c=Math.max(c,f.maxPoint);a.push(f);h.push(b.mapPos(g))}else
if(l===true){var
j=f.map(g,b),i=j.mapped,m=j.pos;if(i){c=Math.max(c,i.maxPoint);a.push(i);h.push(m)}}}var
k=this.nextLayer.map(b);return a.length==0?k:new
e(h,a,k||e.empty,c)}},{key:"between",value:function(d,e,a){if(this.isEmpty)return;for(var
c=0;c<this.chunk.length;c++){var
b=this.chunkPos[c],f=this.chunk[c];if(e>=b&&d<=b+f.length&&f.between(b,d-b,e-b,a)===false)return}this.nextLayer.between(d,e,a)}},{key:"iter",value:function(){var
b=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;return cS.from([this])["goto"](b)}},{key:"isEmpty",get:function(){return this.nextLayer==this}}],[{key:"create",value:function(c,b,f,d){return new
e(c,b,f,d)}},{key:"iter",value:function(c){var
b=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;return cS.from(c)["goto"](b)}},{key:"compare",value:function(j,i,c,f){var
b=arguments.length>4&&arguments[4]!==undefined?arguments[4]:-1,d=j.filter(function(c){return c.maxPoint>0||!c.isEmpty&&c.maxPoint>=b}),e=i.filter(function(c){return c.maxPoint>0||!c.isEmpty&&c.maxPoint>=b}),a=hi(d,e,c),g=new
be(d,a,b),h=new
be(e,a,b);c.iterGaps(function(b,c,d){return ft(g,b,h,c,d,f)});if(c.empty&&c.length==0)ft(g,0,h,0,0,f)}},{key:"eq",value:function(h,g){var
a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0,f=arguments.length>3?arguments[3]:undefined;if(f==null)f=1e9;var
d=h.filter(function(b){return!b.isEmpty&&g.indexOf(b)<0}),e=g.filter(function(b){return!b.isEmpty&&h.indexOf(b)<0});if(d.length!=e.length)return false;if(!d.length)return true;var
i=hi(d,e),b=new
be(d,i,0)["goto"](a),c=new
be(e,i,0)["goto"](a);for(;;){if(b.to!=c.to||!ec(b.active,c.active)||b.point&&(!c.point||!b.point.eq(c.point)))return false;if(b.to>f)return true;b.next();c.next()}}},{key:"spans",value:function(i,f,g,a){var
h=arguments.length>4&&arguments[4]!==undefined?arguments[4]:-1,b=new
be(i,null,h)["goto"](f),e=f,d=b.openStart;for(;;){var
c=Math.min(b.to,g);if(b.point){a.point(e,c,b.point,b.activeForPoint(b.to),d,b.pointRank);d=b.openEnd(c)+(b.to>c?1:0)}else
if(c>e){a.span(e,c,b.active,d);d=b.openEnd(c)}if(b.to>g)break;e=b.to;b.next()}return d}},{key:"of",value:function(d){var
g=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false,a=new
aT(),c=b(d
instanceof
c1?[d]:g?ng(d):d),f;try{for(c.s();!(f=c.n()).done;){var
e=f.value;a.add(e.from,e.to,e.value)}}catch(b){c.e(b)}finally{c.f()}return a.finish()}}]);return e}();q.empty=new
q([],[],null,-1);function
ng(b){if(b.length>1)for(var
e=b[0],c=1;c<b.length;c++){var
d=b[c];if(dx(e,d)>0)return b.slice().sort(dx);e=d}return b}q.empty.nextLayer=q.empty;var
aT=function(){function
b(){c(this,b);this.chunks=[];this.chunkPos=[];this.chunkStart=-1;this.last=null;this.lastFrom=-1e9;this.lastTo=-1e9;this.from=[];this.to=[];this.value=[];this.maxPoint=-1;this.setMaxPoint=-1;this.nextLayer=null}d(b,[{key:"finishChunk",value:function(b){this.chunks.push(new
jx(this.from,this.to,this.value,this.maxPoint));this.chunkPos.push(this.chunkStart);this.chunkStart=-1;this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint);this.maxPoint=-1;if(b){this.from=[];this.to=[];this.value=[]}}},{key:"add",value:function(c,d,e){if(!this.addInner(c,d,e))(this.nextLayer||(this.nextLayer=new
b())).add(c,d,e)}},{key:"addInner",value:function(b,d,c){var
e=b-this.lastTo||c.startSide-this.last.endSide;if(e<=0&&(b-this.lastFrom||c.startSide-this.last.startSide)<0)throw new
Error("Ranges must be added sorted by `from` position and `startSide`");if(e<0)return false;if(this.from.length==250)this.finishChunk(true);if(this.chunkStart<0)this.chunkStart=b;this.from.push(b-this.chunkStart);this.to.push(d-this.chunkStart);this.last=c;this.lastFrom=b;this.lastTo=d;this.value.push(c);if(c.point)this.maxPoint=Math.max(this.maxPoint,d-b);return true}},{key:"addChunk",value:function(c,b){if((c-this.lastTo||b.value[0].startSide-this.last.endSide)<0)return false;if(this.from.length)this.finishChunk(true);this.setMaxPoint=Math.max(this.setMaxPoint,b.maxPoint);this.chunks.push(b);this.chunkPos.push(c);var
d=b.value.length-1;this.last=b.value[d];this.lastFrom=b.from[d]+c;this.lastTo=b.to[d]+c;return true}},{key:"finish",value:function(){return this.finishInner(q.empty)}},{key:"finishInner",value:function(b){if(this.from.length)this.finishChunk(false);if(this.chunks.length==0)return b;var
c=q.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(b):b,this.setMaxPoint);this.from=null;return c}}]);return b}();function
hi(n,o,a){var
l=new
Map(),g=b(n),j;try{for(g.s();!(j=g.n()).done;){var
i=j.value;for(var
d=0;d<i.chunk.length;d++)if(i.chunk[d].maxPoint<=0)l.set(i.chunk[d],i.chunkPos[d])}}catch(b){g.e(b)}finally{g.f()}var
m=new
Set(),h=b(o),k;try{for(h.s();!(k=h.n()).done;){var
e=k.value;for(var
c=0;c<e.chunk.length;c++){var
f=l.get(e.chunk[c]);if(f!=null&&(a?a.mapPos(f):f)==e.chunkPos[c]&&!(a===null||a===void
0?void
0:a.touchesRange(f,f+e.chunk[c].length)))m.add(e.chunk[c])}}}catch(b){h.e(b)}finally{h.f()}return m}var
eT=function(){function
b(d,a,e){var
f=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;c(this,b);this.layer=d;this.skip=a;this.minPoint=e;this.rank=f}d(b,[{key:"startSide",get:function(){return this.value?this.value.startSide:0}},{key:"endSide",get:function(){return this.value?this.value.endSide:0}},{key:"goto",value:function(b){var
c=arguments.length>1&&arguments[1]!==undefined?arguments[1]:-1e9;this.chunkIndex=this.rangeIndex=0;this.gotoInner(b,c,false);return this}},{key:"gotoInner",value:function(d,f,b){while(this.chunkIndex<this.layer.chunk.length){var
c=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(c)||this.layer.chunkEnd(this.chunkIndex)<d||c.maxPoint<this.minPoint))break;this.chunkIndex++;b=false}if(this.chunkIndex<this.layer.chunk.length){var
e=this.layer.chunk[this.chunkIndex].findIndex(d-this.layer.chunkPos[this.chunkIndex],f,true);if(!b||this.rangeIndex<e)this.setRangeIndex(e)}this.next()}},{key:"forward",value:function(b,c){if((this.to-b||this.endSide-c)<0)this.gotoInner(b,c,true)}},{key:"next",value:function(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9;this.value=null;break}else{var
c=this.layer.chunkPos[this.chunkIndex],b=this.layer.chunk[this.chunkIndex],d=c+b.from[this.rangeIndex];this.from=d;this.to=c+b.to[this.rangeIndex];this.value=b.value[this.rangeIndex];this.setRangeIndex(this.rangeIndex+1);if(this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}},{key:"setRangeIndex",value:function(b){if(b==this.layer.chunk[this.chunkIndex].value.length){this.chunkIndex++;if(this.skip)while(this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]))this.chunkIndex++;this.rangeIndex=0}else
this.rangeIndex=b}},{key:"nextChunk",value:function(){this.chunkIndex++;this.rangeIndex=0;this.next()}},{key:"compare",value:function(b){return this.from-b.from||this.startSide-b.startSide||this.rank-b.rank||this.to-b.to||this.endSide-b.endSide}}]);return b}(),cS=function(){function
e(b){c(this,e);this.heap=b}d(e,[{key:"startSide",get:function(){return this.value?this.value.startSide:0}},{key:"goto",value:function(a){var
g=arguments.length>1&&arguments[1]!==undefined?arguments[1]:-1e9,c=b(this.heap),e;try{for(c.s();!(e=c.n()).done;){var
f=e.value;f["goto"](a,g)}}catch(b){c.e(b)}finally{c.f()}for(var
d=this.heap.length>>1;d>=0;d--)dW(this.heap,d);this.next();return this}},{key:"forward",value:function(f,a){var
c=b(this.heap),e;try{for(c.s();!(e=c.n()).done;){var
g=e.value;g.forward(f,a)}}catch(b){c.e(b)}finally{c.f()}for(var
d=this.heap.length>>1;d>=0;d--)dW(this.heap,d);if((this.to-f||this.value.endSide-a)<0)this.next()}},{key:"next",value:function(){if(this.heap.length==0){this.from=this.to=1e9;this.value=null;this.rank=-1}else{var
b=this.heap[0];this.from=b.from;this.to=b.to;this.value=b.value;this.rank=b.rank;if(b.value)b.next();dW(this.heap,0)}}}],[{key:"from",value:function(a){var
g=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null,f=arguments.length>2&&arguments[2]!==undefined?arguments[2]:-1,d=[];for(var
c=0;c<a.length;c++)for(var
b=a[c];!b.isEmpty;b=b.nextLayer)if(b.maxPoint>=f)d.push(new
eT(b,g,f,c));return d.length==1?d[0]:new
e(d)}}]);return e}();function
dW(c,e){for(var
f=c[e];;){var
b=(e<<1)+1;if(b>=c.length)break;var
d=c[b];if(b+1<c.length&&d.compare(c[b+1])>=0){d=c[b+1];b++}if(f.compare(d)<0)break;c[b]=f;c[e]=d;e=b}}var
be=function(){function
b(e,f,d){c(this,b);this.minPoint=d;this.active=[];this.activeTo=[];this.activeRank=[];this.minActive=-1;this.point=null;this.pointFrom=0;this.pointRank=0;this.to=-1e9;this.endSide=0;this.openStart=-1;this.cursor=cS.from(e,f,d)}d(b,[{key:"goto",value:function(b){var
c=arguments.length>1&&arguments[1]!==undefined?arguments[1]:-1e9;this.cursor["goto"](b,c);this.active.length=this.activeTo.length=this.activeRank.length=0;this.minActive=-1;this.to=b;this.endSide=c;this.openStart=-1;this.next();return this}},{key:"forward",value:function(b,c){while(this.minActive>-1&&(this.activeTo[this.minActive]-b||this.active[this.minActive].endSide-c)<0)this.removeActive(this.minActive);this.cursor.forward(b,c)}},{key:"removeActive",value:function(b){cA(this.active,b);cA(this.activeTo,b);cA(this.activeRank,b);this.minActive=hh(this.active,this.activeTo)}},{key:"addActive",value:function(e){var
b=0,c=this.cursor,a=c.value,f=c.to,d=c.rank;while(b<this.activeRank.length&&this.activeRank[b]<=d)b++;cn(this.active,b,a);cn(this.activeTo,b,f);cn(this.activeRank,b,d);if(e)cn(e,b,this.cursor.from);this.minActive=hh(this.active,this.activeTo)}},{key:"next",value:function(){var
d=this.to,g=this.point;this.point=null;var
c=this.openStart<0?[]:null,a=0;for(;;){var
b=this.minActive;if(b>-1&&(this.activeTo[b]-this.cursor.from||this.active[b].endSide-this.cursor.startSide)<0){if(this.activeTo[b]>d){this.to=this.activeTo[b];this.endSide=this.active[b].endSide;break}this.removeActive(b);if(c)cA(c,b)}else
if(!this.cursor.value){this.to=this.endSide=1e9;break}else
if(this.cursor.from>d){this.to=this.cursor.from;this.endSide=this.cursor.startSide;break}else{var
f=this.cursor.value;if(!f.point){this.addActive(c);this.cursor.next()}else
if(g&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=f;this.pointFrom=this.cursor.from;this.pointRank=this.cursor.rank;this.to=this.cursor.to;this.endSide=f.endSide;if(this.cursor.from<d)a=1;this.cursor.next();this.forward(this.to,this.endSide);break}}}if(c){var
e=0;while(e<c.length&&c[e]<d)e++;this.openStart=e+a}}},{key:"activeForPoint",value:function(d){if(!this.active.length)return this.active;var
c=[];for(var
b=this.active.length-1;b>=0;b--){if(this.activeRank[b]<this.pointRank)break;if(this.activeTo[b]>d||this.activeTo[b]==d&&this.active[b].endSide>=this.point.endSide)c.push(this.active[b])}return c.reverse()}},{key:"openEnd",value:function(d){var
c=0;for(var
b=this.activeTo.length-1;b>=0&&this.activeTo[b]>d;b--)c++;return c}}]);return b}();function
ft(b,k,c,e,l,i){b["goto"](k);c["goto"](e);var
j=e+l,d=e,a=e-k;for(;;){var
g=b.to+a-c.to||b.endSide-c.endSide,h=g<0?b.to+a:c.to,f=Math.min(h,j);if(b.point||c.point){if(!(b.point&&c.point&&(b.point==c.point||b.point.eq(c.point))&&ec(b.activeForPoint(b.to+a),c.activeForPoint(c.to))))i.comparePoint(d,f,b.point,c.point)}else
if(f>d&&!ec(b.active,c.active))i.compareRange(d,f,b.active,c.active);if(h>j)break;d=h;if(g<=0)b.next();if(g>=0)c.next()}}function
ec(c,d){if(c.length!=d.length)return false;for(var
b=0;b<c.length;b++)if(c[b]!=d[b]&&!c[b].eq(d[b]))return false;return true}function
cA(c,e){for(var
b=e,d=c.length-1;b<d;b++)c[b]=c[b+1];c.pop()}function
cn(c,d,e){for(var
b=c.length-1;b>=d;b--)c[b+1]=c[b];c[d]=e}function
hh(f,c){var
d=-1,e=1e9;for(var
b=0;b<c.length;b++)if((c[b]-e||f[b].endSide-f[d].endSide)<0){d=b;e=c[b]}return d}function
bi(d,e){var
f=arguments.length>2&&arguments[2]!==undefined?arguments[2]:d.length,c=0;for(var
b=0;b<f;)if(d.charCodeAt(b)==9){c+=e-c%e;b++}else{c++;b=Q(d,b)}return c}function
dL(c,f,e,a){for(var
b=0,d=0;;){if(d>=f)return b;if(b==c.length)break;d+=c.charCodeAt(b)==9?e-d%e:1;b=Q(c,b)}return a===true?-1:c.length}var
cO="\u037C",ez=typeof
Symbol=="undefined"?"__"+cO:Symbol["for"](cO),c3=typeof
Symbol=="undefined"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),ja=typeof
cK!="undefined"?cK:typeof
window!="undefined"?window:{},au=function(){function
b(e,g){c(this,b);this.rules=[];var
f=g||{},i=f.finish;function
j(b){return/^@/.test(b)?[b]:b.split(/,\s*/)}function
a(e,g,h,l){var
f=[],d=/^@(\w+)\b/.exec(e[0]),k=d&&d[1]=="keyframes";if(d&&g==null)return h.push(e[0]+";");for(var
b
in
g){var
c=g[b];if(/&/.test(b))a(b.split(/,\s*/).map(function(b){return e.map(function(c){return b.replace(/&/,c)})}).reduce(function(b,c){return b.concat(c)}),c,h);else
if(c&&ar(c)=="object"){if(!d)throw new
RangeError("The value of a property ("+b+") should be a primitive value.");a(j(b),c,f,k)}else
if(c!=null)f.push(b.replace(/_.*/,"").replace(/[A-Z]/g,function(b){return"-"+b.toLowerCase()})+": "+c+";")}if(f.length||k)h.push((i&&!d&&!l?e.map(i):e).join(", ")+" {"+f.join(" ")+"}")}for(var
d
in
e)a(j(d),e[d],this.rules)}d(b,[{key:"getRules",value:function(){return this.rules.join("\n")}}],[{key:"newName",value:function(){var
b=ja[ez]||1;ja[ez]=b+1;return cO+b.toString(36)}},{key:"mount",value:function(c,b){(c[c3]||new
kn(c)).mount(Array.isArray(b)?b:[b])}}]);return b}(),b3=null,kn=function(){function
e(b){c(this,e);if(!b.head&&b.adoptedStyleSheets&&typeof
CSSStyleSheet!="undefined"){if(b3){b.adoptedStyleSheets=[b3.sheet].concat(b.adoptedStyleSheets);return b[c3]=b3}this.sheet=new
CSSStyleSheet();b.adoptedStyleSheets=[this.sheet].concat(b.adoptedStyleSheets);b3=this}else{this.styleTag=(b.ownerDocument||b).createElement("style");var
d=b.head||b;d.insertBefore(this.styleTag,d.firstChild)}this.modules=[];b[c3]=this}d(e,[{key:"mount",value:function(j){var
h=this.sheet,g=0,c=0;for(var
e=0;e<j.length;e++){var
d=j[e],b=this.modules.indexOf(d);if(b<c&&b>-1){this.modules.splice(b,1);c--;b=-1}if(b==-1){this.modules.splice(c++,0,d);if(h)for(var
a=0;a<d.rules.length;a++)h.insertRule(d.rules[a],g++)}else{while(c<b)g+=this.modules[c++].rules.length;g+=d.rules.length;c++}}if(!h){var
i="";for(var
f=0;f<this.modules.length;f++)i+=this.modules[f].getRules()+"\n";this.styleTag.textContent=i}}}]);return e}(),ay={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},a5={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},gj=typeof
navigator!="undefined"&&/Chrome\/(\d+)/.exec(navigator.userAgent),ob=typeof
navigator!="undefined"&&/Apple Computer/.test(navigator.vendor),mp=typeof
navigator!="undefined"&&/Gecko\/\d+/.test(navigator.userAgent),hX=typeof
navigator!="undefined"&&/Mac/.test(navigator.platform),mN=typeof
navigator!="undefined"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),lk=gj&&(hX||+gj[1]<57)||mp&&hX;for(z=0;z<10;z++)ay[48+z]=ay[96+z]=String(z);var
z;for(z=1;z<=24;z++)ay[z+111]="F"+z;var
z;for(z=65;z<=90;z++){ay[z]=String.fromCharCode(z+32);a5[z]=String.fromCharCode(z)}var
z;for(b7
in
ay)if(!a5.hasOwnProperty(b7))a5[b7]=ay[b7];var
b7;function
ne(c){var
d=lk&&(c.ctrlKey||c.altKey||c.metaKey)||(ob||mN)&&c.shiftKey&&c.key&&c.key.length==1||c.key=="Unidentified",b=!d&&c.key||(c.shiftKey?a5:ay)[c.keyCode]||c.key||"Unidentified";if(b=="Esc")b="Escape";if(b=="Del")b="Delete";if(b=="Left")b="ArrowLeft";if(b=="Up")b="ArrowUp";if(b=="Right")b="ArrowRight";if(b=="Down")b="ArrowDown";return b}function
cj(b){var
c;if(b.nodeType==11)c=b.getSelection?b:b.ownerDocument;else
c=b;return c.getSelection()}function
aY(c,b){return b?c==b||c.contains(b.nodeType!=1?b.parentNode:b):false}function
lP(){var
b=document.activeElement;while(b&&b.shadowRoot)b=b.shadowRoot.activeElement;return b}function
cl(c,b){if(!b.anchorNode)return false;try{return aY(c,b.anchorNode)}catch(a){return false}}function
br(b){if(b.nodeType==3)return a7(b,0,b.nodeValue.length).getClientRects();else
if(b.nodeType==1)return b.getClientRects();else
return[]}function
co(c,d,b,e){return b?iJ(c,d,b,e,-1)||iJ(c,d,b,e,1):false}function
ca(b){for(var
c=0;;c++){b=b.previousSibling;if(!b)return c}}function
iJ(b,c,f,a,d){for(;;){if(b==f&&c==a)return true;if(c==(d<0?0:by(b))){if(b.nodeName=="DIV")return false;var
e=b.parentNode;if(!e||e.nodeType!=1)return false;c=ca(b)+(d<0?0:1);b=e}else
if(b.nodeType==1){b=b.childNodes[c+(d<0?-1:0)];if(b.nodeType==1&&b.contentEditable=="false")return false;c=d<0?by(b):0}else
return false}}function
by(b){return b.nodeType==3?b.nodeValue.length:b.childNodes.length}var
e8={left:0,right:0,top:0,bottom:0};function
cg(b,d){var
c=d?b.left:b.right;return{left:c,right:c,top:b.top,bottom:b.bottom}}function
o5(b){return{left:0,right:b.innerWidth,top:0,bottom:b.innerHeight}}function
oi(o,b,h,k,i,a,g,s){var
n=o.ownerDocument,q=n.defaultView;for(var
d=o;d;)if(d.nodeType==1){var
c=void
0,m=d==n.body;if(m)c=o5(q);else{if(d.scrollHeight<=d.clientHeight&&d.scrollWidth<=d.clientWidth){d=d.parentNode;continue}var
j=d.getBoundingClientRect();c={left:j.left,right:j.left+d.clientWidth,top:j.top,bottom:j.top+d.clientHeight}}var
e=0,f=0;if(i=="nearest"){if(b.top<c.top){f=-(c.top-b.top+g);if(h>0&&b.bottom>c.bottom+f)f=b.bottom-c.bottom+f+g}else
if(b.bottom>c.bottom){f=b.bottom-c.bottom+g;if(h<0&&b.top-f<c.top)f=-(c.top+f-b.top+g)}}else{var
p=b.bottom-b.top,l=c.bottom-c.top,v=i=="center"&&p<=l?b.top+p/2-l/2:i=="start"||i=="center"&&h<0?b.top-g:b.bottom-l+g;f=v-c.top}if(k=="nearest"){if(b.left<c.left){e=-(c.left-b.left+a);if(h>0&&b.right>c.right+e)e=b.right-c.right+e+a}else
if(b.right>c.right){e=b.right-c.right+a;if(h<0&&b.left<c.left+e)e=-(c.left+e-b.left+a)}}else{var
u=k=="center"?b.left+(b.right-b.left)/2-(c.right-c.left)/2:k=="start"==s?b.left-a:b.right-(c.right-c.left)+a;e=u-c.left}if(e||f)if(m)q.scrollBy(e,f);else{if(f){var
t=d.scrollTop;d.scrollTop+=f;f=d.scrollTop-t}if(e){var
r=d.scrollLeft;d.scrollLeft+=e;e=d.scrollLeft-r}b={left:b.left-e,top:b.top-f,right:b.right-e,bottom:b.bottom-f}}if(m)break;d=d.assignedSlot||d.parentNode;k=i="nearest"}else
if(d.nodeType==11)d=d.host;else
break}var
jE=function(){function
b(){c(this,b);this.anchorNode=null;this.anchorOffset=0;this.focusNode=null;this.focusOffset=0}d(b,[{key:"eq",value:function(b){return this.anchorNode==b.anchorNode&&this.anchorOffset==b.anchorOffset&&this.focusNode==b.focusNode&&this.focusOffset==b.focusOffset}},{key:"setRange",value:function(b){this.set(b.anchorNode,b.anchorOffset,b.focusNode,b.focusOffset)}},{key:"set",value:function(b,c,d,e){this.anchorNode=b;this.anchorOffset=c;this.focusNode=d;this.focusOffset=e}}]);return b}(),a2=null;function
hj(c){if(c.setActive)return c.setActive();if(a2)return c.focus(a2);var
d=[];for(var
b=c;b;b=b.parentNode){d.push(b,b.scrollTop,b.scrollLeft);if(b==b.ownerDocument)break}c.focus(a2==null?Object.defineProperties({},{preventScroll:{get:function(){a2={preventScroll:true};return true},configurable:true,enumerable:true}}):void
0);if(!a2){a2=false;for(var
e=0;e<d.length;){var
f=d[e++],g=d[e++],a=d[e++];if(f.scrollTop!=g)f.scrollTop=g;if(f.scrollLeft!=a)f.scrollLeft=a}}}var
iL;function
a7(d,c){var
e=arguments.length>2&&arguments[2]!==undefined?arguments[2]:c,b=iL||(iL=document.createRange());b.setEnd(d,e);b.setStart(d,c);return b}function
bu(e,f,d){var
a={key:f,code:f,keyCode:d,which:d,cancelable:true},b=new
KeyboardEvent("keydown",a);b.synthetic=true;e.dispatchEvent(b);var
c=new
KeyboardEvent("keyup",a);c.synthetic=true;e.dispatchEvent(c);return b.defaultPrevented||c.defaultPrevented}function
mq(b){while(b){if(b&&(b.nodeType==9||b.nodeType==11&&b.host))return b;b=b.assignedSlot||b.parentNode}return null}function
gk(b){while(b.attributes.length)b.removeAttributeNode(b.attributes[0])}function
k7(f,d){var
b=d.focusNode,c=d.focusOffset;if(!b||d.anchorNode!=b||d.anchorOffset!=c)return false;for(;;)if(c){if(b.nodeType!=1)return false;var
e=b.childNodes[c-1];if(e.contentEditable=="false")c--;else{b=e;c=by(b)}}else
if(b==f)return true;else{c=ca(b);b=b.parentNode}}var
M=function(){function
b(d,e){var
f=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;c(this,b);this.node=d;this.offset=e;this.precise=f}d(b,null,[{key:"before",value:function(c,d){return new
b(c.parentNode,ca(c),d)}},{key:"after",value:function(c,d){return new
b(c.parentNode,ca(c)+1,d)}}]);return b}(),d7=[],v=function(){function
g(){c(this,g);this.parent=null;this.dom=null;this.dirty=2}d(g,[{key:"editorView",get:function(){if(!this.parent)throw new
Error("Accessing view in orphan content view");return this.parent.editorView}},{key:"overrideDOMText",get:function(){return null}},{key:"posAtStart",get:function(){return this.parent?this.parent.posBefore(this):0}},{key:"posAtEnd",get:function(){return this.posAtStart+this.length}},{key:"posBefore",value:function(a){var
f=this.posAtStart,c=b(this.children),e;try{for(c.s();!(e=c.n()).done;){var
d=e.value;if(d==a)return f;f+=d.length+d.breakAfter}}catch(b){c.e(b)}finally{c.f()}throw new
RangeError("Invalid child in posBefore")}},{key:"posAfter",value:function(b){return this.posBefore(b)+b.length}},{key:"coordsAt",value:function(b,c){return null}},{key:"sync",value:function(e){if(this.dirty&2){var
f=this.dom,a=null,c,h=b(this.children),l;try{for(h.s();!(l=h.n()).done;){var
d=l.value;if(d.dirty){if(!d.dom&&(c=a?a.nextSibling:f.firstChild)){var
k=g.get(c);if(!k||!k.parent&&k.constructor==d.constructor)d.reuseDOM(c)}d.sync(e);d.dirty=0}c=a?a.nextSibling:f.firstChild;if(e&&!e.written&&e.node==f&&c!=d.dom)e.written=true;if(d.dom.parentNode==f)while(c&&c!=d.dom)c=iF(c);else
f.insertBefore(d.dom,c);a=d.dom}}catch(b){h.e(b)}finally{h.f()}c=a?a.nextSibling:f.firstChild;if(c&&e&&e.node==f)e.written=true;while(c)c=iF(c)}else
if(this.dirty&1){var
i=b(this.children),m;try{for(i.s();!(m=i.n()).done;){var
j=m.value;if(j.dirty){j.sync(e);j.dirty=0}}}catch(b){i.e(b)}finally{i.f()}}}},{key:"reuseDOM",value:function(b){}},{key:"localPosFromDOM",value:function(c,h){var
b;if(c==this.dom)b=this.dom.childNodes[h];else{var
e=by(c)==0?0:h==0?-1:1;for(;;){var
d=c.parentNode;if(d==this.dom)break;if(e==0&&d.firstChild!=d.lastChild)if(c==d.firstChild)e=-1;else
e=1;c=d}if(e<0)b=c;else
b=c.nextSibling}if(b==this.dom.firstChild)return 0;while(b&&!g.get(b))b=b.nextSibling;if(!b)return this.length;for(var
a=0,i=0;;a++){var
f=this.children[a];if(f.dom==b)return i;i+=f.length+f.breakAfter}}},{key:"domBoundsAround",value:function(g,i){var
h=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0,f=-1,k=-1,a=-1,j=-1;for(var
c=0,b=h,l=h;c<this.children.length;c++){var
d=this.children[c],e=b+d.length;if(b<g&&e>i)return d.domBoundsAround(g,i,b);if(e>=g&&f==-1){f=c;k=b}if(b>i&&d.dom.parentNode==this.dom){a=c;j=l;break}l=e;b=e+d.breakAfter}return{from:k,to:j<0?h+this.length:j,startDOM:(f?this.children[f-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:a<this.children.length&&a>=0?this.children[a].dom:null}}},{key:"markDirty",value:function(){var
b=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;this.dirty|=2;this.markParentsDirty(b)}},{key:"markParentsDirty",value:function(c){for(var
b=this.parent;b;b=b.parent){if(c)b.dirty|=2;if(b.dirty&1)return;b.dirty|=1;c=false}}},{key:"setParent",value:function(b){if(this.parent!=b){this.parent=b;if(this.dirty)this.markParentsDirty(true)}}},{key:"setDOM",value:function(b){if(this.dom)this.dom.cmView=null;this.dom=b;b.cmView=this}},{key:"rootView",get:function(){for(var
b=this;;){var
c=b.parent;if(!c)return b;b=c}}},{key:"replaceChildren",value:function(e,g){var
f,d=arguments.length>2&&arguments[2]!==undefined?arguments[2]:d7;this.markDirty();for(var
b=e;b<g;b++){var
a=this.children[b];if(a.parent==this)a.destroy()}(f=this.children).splice.apply(f,[e,g-e].concat(aq(d)));for(var
c=0;c<d.length;c++)d[c].setParent(this)}},{key:"ignoreMutation",value:function(b){return false}},{key:"ignoreEvent",value:function(b){return false}},{key:"childCursor",value:function(){var
b=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.length;return new
eD(this.children,b,this.children.length)}},{key:"childPos",value:function(c){var
b=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;return this.childCursor().findPos(c,b)}},{key:"toString",value:function(){var
b=this.constructor.name.replace("View","");return b+(this.children.length?"("+this.children.join()+")":this.length?"["+(b=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}},{key:"isEditable",get:function(){return true}},{key:"merge",value:function(b,a,f,c,e,d){return false}},{key:"become",value:function(b){return false}},{key:"getSide",value:function(){return 0}},{key:"destroy",value:function(){this.parent=null}}],[{key:"get",value:function(b){return b.cmView}}]);return g}();v.prototype.breakAfter=0;function
iF(b){var
c=b.nextSibling;b.parentNode.removeChild(b);return c}var
eD=function(){function
b(d,f,e){c(this,b);this.children=d;this.pos=f;this.i=e;this.off=0}d(b,[{key:"findPos",value:function(b){var
d=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;for(;;){if(b>this.pos||b==this.pos&&(d>0||this.i==0||this.children[this.i-1].breakAfter)){this.off=b-this.pos;return this}var
c=this.children[--this.i];this.pos-=c.length+c.breakAfter}}}]);return b}();function
iB(n,d,i,e,h,b,l,k,j){var
a=n.children,c=a.length?a[d]:null,g=b.length?b[b.length-1]:null,m=g?g.breakAfter:l;if(d==e&&c&&!l&&!m&&b.length<2&&c.merge(i,h,b.length?g:null,i==0,k,j))return;if(e<a.length){var
f=a[e];if(f&&h<f.length){if(d==e){f=f.split(h);h=0}if(!m&&g&&f.merge(0,h,g,true,0,j))b[b.length-1]=f;else{if(h)f.merge(0,h,null,false,0,j);b.push(f)}}else
if(f===null||f===void
0?void
0:f.breakAfter)if(g)g.breakAfter=1;else
l=1;e++}if(c){c.breakAfter=l;if(i>0){if(!l&&b.length&&c.merge(i,c.length,b[0],false,k,0))c.breakAfter=b.shift().breakAfter;else
if(i<c.length||c.children.length&&c.children[c.children.length-1].length==0)c.merge(i,c.length,null,false,k,0);d++}}while(d<e&&b.length)if(a[e-1].become(b[b.length-1])){e--;b.pop();j=b.length?0:k}else
if(a[d].become(b[0])){d++;b.shift();k=b.length?0:j}else
break;if(!b.length&&d&&e<a.length&&!a[d-1].breakAfter&&a[e].merge(0,0,a[d-1],false,k,j))d--;if(d<e||b.length)n.replaceChildren(d,e,b)}function
h4(d,i,k,j,o,n){var
g=d.childCursor(),e=g.findPos(k,1),p=e.i,q=e.off,f=g.findPos(i,-1),l=f.i,m=f.off,h=i-k,c=b(j),a;try{for(c.s();!(a=c.n()).done;){var
r=a.value;h+=r.length}}catch(b){c.e(b)}finally{c.f()}d.length+=h;iB(d,l,m,p,q,j,0,o,n)}var
S=typeof
navigator!="undefined"?navigator:{userAgent:"",vendor:"",platform:""},dH=typeof
document!="undefined"?document:{documentElement:{style:{}}},d0=/Edge\/(\d+)/.exec(S.userAgent),hz=/MSIE \d/.test(S.userAgent),dZ=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(S.userAgent),cm=!!(hz||dZ||d0),hn=!cm&&/gecko\/(\d+)/i.test(S.userAgent),dv=!cm&&/Chrome\/(\d+)/.exec(S.userAgent),jk="webkitFontSmoothing"in
dH.documentElement.style,iI=!cm&&/Apple Computer/.test(S.vendor),hH=iI&&(/Mobile\/\w+/.test(S.userAgent)||S.maxTouchPoints>2),g={mac:hH||/Mac/.test(S.platform),windows:/Win/.test(S.platform),linux:/Linux|X11/.test(S.platform),ie:cm,ie_version:hz?dH.documentMode||6:dZ?+dZ[1]:d0?+d0[1]:0,gecko:hn,gecko_version:hn?+(/Firefox\/(\d+)/.exec(S.userAgent)||[0,0])[1]:0,chrome:!!dv,chrome_version:dv?+dv[1]:0,ios:hH,android:/Android\b/.test(S.userAgent),webkit:jk,safari:iI,webkit_version:jk?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:dH.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"},j2=256,bf=function(e){l(b,e);var
f=k(b);function
b(e){var
d;c(this,b);d=f.call(this);d.text=e;return d}d(b,[{key:"length",get:function(){return this.text.length}},{key:"createDOM",value:function(b){this.setDOM(b||document.createTextNode(this.text))}},{key:"sync",value:function(b){if(!this.dom)this.createDOM();if(this.dom.nodeValue!=this.text){if(b&&b.node==this.dom)b.written=true;this.dom.nodeValue=this.text}}},{key:"reuseDOM",value:function(b){if(b.nodeType==3)this.createDOM(b)}},{key:"merge",value:function(d,e,c){if(c&&(!(c
instanceof
b)||this.length-(e-d)+c.length>j2))return false;this.text=this.text.slice(0,d)+(c?c.text:"")+this.text.slice(e);this.markDirty();return true}},{key:"split",value:function(c){var
d=new
b(this.text.slice(c));this.text=this.text.slice(0,c);this.markDirty();return d}},{key:"localPosFromDOM",value:function(c,b){return c==this.dom?b:b?this.text.length:0}},{key:"domAtPos",value:function(b){return new
M(this.dom,b)}},{key:"domBoundsAround",value:function(c,d,b){return{from:b,to:b+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}},{key:"coordsAt",value:function(b,c){return el(this.dom,b,c)}}]);return b}(v),aF=function(f){l(e,f);var
h=k(e);function
e(k){var
d,g=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[],j=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;c(this,e);d=h.call(this);d.mark=k;d.children=g;d.length=j;var
f=b(g),a;try{for(f.s();!(a=f.n()).done;){var
i=a.value;i.setParent(bK(d))}}catch(b){f.e(b)}finally{f.f()}return d}d(e,[{key:"setAttrs",value:function(b){gk(b);if(this.mark["class"])b.className=this.mark["class"];if(this.mark.attrs)for(var
c
in
this.mark.attrs)b.setAttribute(c,this.mark.attrs[c]);return b}},{key:"reuseDOM",value:function(b){if(b.nodeName==this.mark.tagName.toUpperCase()){this.setDOM(b);this.dirty|=4|2}}},{key:"sync",value:function(b){if(!this.dom)this.setDOM(this.setAttrs(document.createElement(this.mark.tagName)));else
if(this.dirty&4)this.setAttrs(this.dom);L(F(e.prototype),"sync",this).call(this,b)}},{key:"merge",value:function(c,a,b,g,f,d){if(b&&(!(b
instanceof
e&&b.mark.eq(this.mark))||c&&f<=0||a<this.length&&d<=0))return false;h4(this,c,a,b?b.children:[],f-1,d-1);this.markDirty();return true}},{key:"split",value:function(c){var
k=[],d=0,a=-1,j=0,f=b(this.children),h;try{for(f.s();!(h=f.n()).done;){var
g=h.value,i=d+g.length;if(i>c)k.push(d<c?g.split(c-d):g);if(a<0&&d>=c)a=j;d=i;j++}}catch(b){f.e(b)}finally{f.f()}var
l=this.length-c;this.length=c;if(a>-1){this.children.length=a;this.markDirty()}return new
e(this.mark,k,l)}},{key:"domAtPos",value:function(b){return hC(this.dom,this.children,b)}},{key:"coordsAt",value:function(b,c){return gx(this,b,c)}}]);return e}(v);function
el(j,c,h){var
d=j.nodeValue.length;if(c>d)c=d;var
i=c,f=c,b=0;if(c==0&&h<0||c==d&&h>=0){if(!(g.chrome||g.gecko))if(c){i--;b=1}else
if(f<d){f++;b=-1}}else
if(h<0)i--;else
if(f<d)f++;var
a=a7(j,i,f).getClientRects();if(!a.length)return e8;var
e=a[(b?b<0:h>=0)?0:a.length-1];if(g.safari&&!b&&e.width==0)e=Array.prototype.find.call(a,function(b){return b.width})||e;return b?cg(e,b<0):e||null}var
c7=function(e){l(b,e);var
f=k(b);function
b(g,e,a){var
d;c(this,b);d=f.call(this);d.widget=g;d.length=e;d.side=a;d.prevWidget=null;return d}d(b,[{key:"split",value:function(c){var
d=b.create(this.widget,this.length-c,this.side);this.length-=c;return d}},{key:"sync",value:function(){if(!this.dom||!this.widget.updateDOM(this.dom)){if(this.dom&&this.prevWidget)this.prevWidget.destroy(this.dom);this.prevWidget=null;this.setDOM(this.widget.toDOM(this.editorView));this.dom.contentEditable="false"}}},{key:"getSide",value:function(){return this.side}},{key:"merge",value:function(d,e,c,g,a,f){if(c&&(!(c
instanceof
b)||!this.widget.compare(c.widget)||d>0&&a<=0||e<this.length&&f<=0))return false;this.length=d+(c?c.length:0)+(this.length-e);return true}},{key:"become",value:function(c){if(c.length==this.length&&c
instanceof
b&&c.side==this.side)if(this.widget.constructor==c.widget.constructor){if(!this.widget.eq(c.widget))this.markDirty(true);if(this.dom&&!this.prevWidget)this.prevWidget=this.widget;this.widget=c.widget;return true}return false}},{key:"ignoreMutation",value:function(){return true}},{key:"ignoreEvent",value:function(b){return this.widget.ignoreEvent(b)}},{key:"overrideDOMText",get:function(){if(this.length==0)return o.empty;var
b=this;while(b.parent)b=b.parent;var
e=b.editorView,d=e&&e.state.doc,c=this.posAtStart;return d?d.slice(c,c+this.length):o.empty}},{key:"domAtPos",value:function(b){return b==0?M.before(this.dom):M.after(this.dom,b==this.length)}},{key:"domBoundsAround",value:function(){return null}},{key:"coordsAt",value:function(b,f){var
e=this.dom.getClientRects(),c=null;if(!e.length)return e8;for(var
d=b>0?e.length-1:0;;d+=b>0?-1:1){c=e[d];if(b>0?d==0:d==e.length-1||c.top<c.bottom)break}return b==0&&f>0||b==this.length&&f<=0?c:cg(c,b==0)}},{key:"isEditable",get:function(){return false}},{key:"destroy",value:function(){L(F(b.prototype),"destroy",this).call(this);if(this.dom)this.widget.destroy(this.dom)}}],[{key:"create",value:function(c,d,e){return new(c.customView||b)(c,d,e)}}]);return b}(v),eG=function(e){l(b,e);var
f=k(b);function
b(){c(this,b);return f.apply(this,arguments)}d(b,[{key:"domAtPos",value:function(d){var
c=this.widget,e=c.topView,b=c.text;if(!e)return new
M(b,Math.min(d,b.nodeValue.length));return ed(d,0,e,b,function(c,b){return c.domAtPos(b)},function(c){return new
M(b,Math.min(c,b.nodeValue.length))})}},{key:"sync",value:function(){this.setDOM(this.widget.toDOM())}},{key:"localPosFromDOM",value:function(e,c){var
b=this.widget,d=b.topView,f=b.text;if(!d)return Math.min(c,this.length);return ir(e,c,d,f)}},{key:"ignoreMutation",value:function(){return false}},{key:"overrideDOMText",get:function(){return null}},{key:"coordsAt",value:function(d,e){var
c=this.widget,f=c.topView,b=c.text;if(!f)return el(b,d,e);return ed(d,e,f,b,function(d,b,c){return d.coordsAt(b,c)},function(c,d){return el(b,c,d)})}},{key:"destroy",value:function(){var
c;L(F(b.prototype),"destroy",this).call(this);(c=this.widget.topView)===null||c===void
0?void
0:c.destroy()}},{key:"isEditable",get:function(){return true}}]);return b}(c7);function
ed(c,g,d,h,a,k){if(d
instanceof
aF){var
f=b(d.children),j;try{for(f.s();!(j=f.n()).done;){var
e=j.value,l=aY(e.dom,h),i=l?h.nodeValue.length:e.length;if(c<i||c==i&&e.getSide()<=0)return l?ed(c,g,e,h,a,k):a(e,c,g);c-=i}}catch(b){f.e(b)}finally{f.f()}return a(d,d.length,-1)}else
if(d.dom==h)return k(c,g);else
return a(d,c,g)}function
ir(f,a,g,d){if(g
instanceof
aF){var
e=b(g.children),h;try{for(e.s();!(h=e.n()).done;){var
c=h.value,j=0,i=aY(c.dom,d);if(aY(c.dom,f))return j+(i?ir(f,a,c,d):c.localPosFromDOM(f,a));j+=i?d.nodeValue.length:c.length}}catch(b){e.e(b)}finally{e.f()}}else
if(g.dom==d)return Math.min(a,d.nodeValue.length);return g.localPosFromDOM(f,a)}var
c6=function(e){l(b,e);var
f=k(b);function
b(e){var
d;c(this,b);d=f.call(this);d.side=e;return d}d(b,[{key:"length",get:function(){return 0}},{key:"merge",value:function(){return false}},{key:"become",value:function(c){return c
instanceof
b&&c.side==this.side}},{key:"split",value:function(){return new
b(this.side)}},{key:"sync",value:function(){if(!this.dom){var
b=document.createElement("img");b.className="cm-widgetBuffer";b.setAttribute("aria-hidden","true");this.setDOM(b)}}},{key:"getSide",value:function(){return this.side}},{key:"domAtPos",value:function(b){return M.before(this.dom)}},{key:"localPosFromDOM",value:function(){return 0}},{key:"domBoundsAround",value:function(){return null}},{key:"coordsAt",value:function(d){var
b=this.dom.getBoundingClientRect(),c=mU(this,this.side>0?-1:1);return c&&c.top<b.bottom&&c.bottom>b.top?{left:b.left,right:b.right,top:c.top,bottom:c.bottom}:b}},{key:"overrideDOMText",get:function(){return o.empty}}]);return b}(v);bf.prototype.children=c7.prototype.children=c6.prototype.children=d7;function
mU(g,d){var
b=g.parent,c=b?b.children.indexOf(g):-1;while(b&&c>=0)if(d<0?c>0:c<b.children.length){var
f=b.children[c+d];if(f
instanceof
bf){var
a=f.coordsAt(d<0?f.length:0,d);if(a)return a}c+=d}else
if(b
instanceof
aF&&b.parent){c=b.parent.children.indexOf(b)+(d<0?0:1);b=b.parent}else{var
e=b.dom.lastChild;if(e&&e.nodeName=="BR")return e.getClientRects()[0];break}return void
0}function
hC(a,f,e){var
b=0;for(var
c=0;b<f.length;b++){var
d=f[b],g=c+d.length;if(g==c&&d.getSide()<=0)continue;if(e>c&&e<g&&d.dom.parentNode==a)return d.domAtPos(e-c);if(e<=c)break;c=g}for(;b>0;b--){var
h=f[b-1].dom;if(h.parentNode==a)return M.after(h)}return new
M(a,0)}function
hL(e,b,f){var
d,c=e.children;if(f>0&&b
instanceof
aF&&c.length&&(d=c[c.length-1])instanceof
aF&&d.mark.eq(b.mark))hL(d,b.children[0],f-1);else{c.push(b);b.setParent(e)}e.length+=b.length}function
gx(b,a,g){for(var
f=0,d=0;d<b.children.length;d++){var
e=b.children[d],c=f+e.length,k=void
0;if((g<=0||c==b.length||e.getSide()>0?c>=a:c>a)&&(a<c||d+1==b.children.length||(k=b.children[d+1]).length||k.getSide()>0)){var
i=0;if(c==f){if(e.getSide()<=0)continue;i=g=-e.getSide()}var
h=e.coordsAt(Math.max(0,a-f),g);return i&&h?cg(h,g<0):h}f=c}var
j=b.dom.lastChild;if(!j)return b.dom.getBoundingClientRect();var
l=br(j);return l[l.length-1]||null}function
dy(d,b){for(var
c
in
d)if(c=="class"&&b["class"])b["class"]+=" "+d["class"];else
if(c=="style"&&b.style)b.style+=";"+d.style;else
b[c]=d[c];return b}function
dp(b,c){if(b==c)return true;if(!b||!c)return false;var
a=Object.keys(b),g=Object.keys(c);if(a.length!=g.length)return false;for(var
d=0,f=a;d<f.length;d++){var
e=f[d];if(g.indexOf(e)==-1||b[e]!==c[e])return false}return true}function
dk(f,d,b){var
e=null;if(d)for(var
a
in
d)if(!(b&&a
in
b))f.removeAttribute(e=a);if(b)for(var
c
in
b)if(!(d&&d[c]==b[c]))f.setAttribute(e=c,b[c]);return!!e}var
am=function(){function
b(){c(this,b)}d(b,[{key:"eq",value:function(b){return false}},{key:"updateDOM",value:function(b){return false}},{key:"compare",value:function(b){return this==b||this.constructor==b.constructor&&this.eq(b)}},{key:"estimatedHeight",get:function(){return-1}},{key:"ignoreEvent",value:function(b){return true}},{key:"customView",get:function(){return null}},{key:"destroy",value:function(b){}}]);return b}(),p=function(b){b[b["Text"]=0]="Text";b[b["WidgetBefore"]=1]="WidgetBefore";b[b["WidgetAfter"]=2]="WidgetAfter";b[b["WidgetRange"]=3]="WidgetRange";return b}(p||(p={})),i=function(b){l(e,b);var
f=k(e);function
e(g,d,h,a){var
b;c(this,e);b=f.call(this);b.startSide=g;b.endSide=d;b.widget=h;b.spec=a;return b}d(e,[{key:"heightRelevant",get:function(){return false}},{key:"hasHeight",value:function(){return this.widget?this.widget.estimatedHeight>-1:false}}],[{key:"mark",value:function(b){return new
eW(b)}},{key:"widget",value:function(c){var
b=c.side||0,d=!!c.block;b+=d?b>0?3e8:-4e8:b>0?1e8:-1e8;return new
ba(c,b,b,d,c.widget||null,false)}},{key:"replace",value:function(b){var
c=!!b.block,e,d;if(b.isBlockGap){e=-5e8;d=4e8}else{var
f=hp(b,c),g=f.start,a=f.end;e=(g?c?-3e8:-1:5e8)-1;d=(a?c?2e8:1:-6e8)+1}return new
ba(b,e,d,c,b.widget||null,true)}},{key:"line",value:function(b){return new
cV(b)}},{key:"set",value:function(b){var
c=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;return q.of(b,c)}}]);return e}(aH);i.none=q.empty;var
eW=function(e){l(b,e);var
a=k(b);function
b(e){var
d;c(this,b);var
f=hp(e),h=f.start,g=f.end;d=a.call(this,h?-1:5e8,g?1:-6e8,null,e);d.tagName=e.tagName||"span";d["class"]=e["class"]||"";d.attrs=e.attributes||null;return d}d(b,[{key:"eq",value:function(c){return this==c||c
instanceof
b&&this.tagName==c.tagName&&this["class"]==c["class"]&&dp(this.attrs,c.attrs)}},{key:"range",value:function(c){var
d=arguments.length>1&&arguments[1]!==undefined?arguments[1]:c;if(c>=d)throw new
RangeError("Mark decorations may not be empty");return L(F(b.prototype),"range",this).call(this,c,d)}}]);return b}(i);eW.prototype.point=false;var
cV=function(e){l(b,e);var
f=k(b);function
b(d){c(this,b);return f.call(this,-2e8,-2e8,null,d)}d(b,[{key:"eq",value:function(c){return c
instanceof
b&&dp(this.spec.attributes,c.spec.attributes)}},{key:"range",value:function(c){var
d=arguments.length>1&&arguments[1]!==undefined?arguments[1]:c;if(d!=c)throw new
RangeError("Line decoration ranges must be zero-length");return L(F(b.prototype),"range",this).call(this,c,d)}}]);return b}(i);cV.prototype.mapMode=C.TrackBefore;cV.prototype.point=true;var
ba=function(e){l(b,e);var
a=k(b);function
b(i,f,g,e,j,h){var
d;c(this,b);d=a.call(this,f,g,j,i);d.block=e;d.isReplace=h;d.mapMode=!e?C.TrackDel:f<=0?C.TrackBefore:C.TrackAfter;return d}d(b,[{key:"type",get:function(){return this.startSide<this.endSide?p.WidgetRange:this.startSide<=0?p.WidgetBefore:p.WidgetAfter}},{key:"heightRelevant",get:function(){return this.block||!!this.widget&&this.widget.estimatedHeight>=5}},{key:"eq",value:function(c){return c
instanceof
b&&o4(this.widget,c.widget)&&this.block==c.block&&this.startSide==c.startSide&&this.endSide==c.endSide}},{key:"range",value:function(c){var
d=arguments.length>1&&arguments[1]!==undefined?arguments[1]:c;if(this.isReplace&&(c>d||c==d&&this.startSide>0&&this.endSide<=0))throw new
RangeError("Invalid range for replacement decoration");if(!this.isReplace&&d!=c)throw new
RangeError("Widget decorations can only have zero-length ranges");return L(F(b.prototype),"range",this).call(this,c,d)}}]);return b}(i);ba.prototype.point=true;function
hp(d){var
e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false,c=d.inclusiveStart,b=d.inclusiveEnd;if(c==null)c=d.inclusive;if(b==null)b=d.inclusive;return{start:c!==null&&c!==void
0?c:e,end:b!==null&&b!==void
0?b:e}}function
o4(b,c){return b==c||!!(b&&c&&b.compare(c))}function
dm(d,e,b){var
f=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0,c=b.length-1;if(c>=0&&b[c]+f>=d)b[c]=Math.max(b[c],e);else
b.push(d,e)}var
Y=function(f){l(e,f);var
a=k(e);function
e(){var
b;c(this,e);b=a.apply(this,arguments);b.children=[];b.length=0;b.prevAttrs=void
0;b.attrs=null;b.breakAfter=0;return b}d(e,[{key:"merge",value:function(c,g,b,d,a,f){if(b){if(!(b
instanceof
e))return false;if(!this.dom)b.transferDOM(this)}if(d)this.setDeco(b?b.attrs:null);h4(this,c,g,b?b.children:[],a,f);return true}},{key:"split",value:function(g){var
c=new
e();c.breakAfter=this.breakAfter;if(this.length==0)return c;var
a=this.childPos(g),b=a.i,f=a.off;if(f){c.append(this.children[b].split(f),0);this.children[b].merge(f,this.children[b].length,null,false,0,0);b++}for(var
d=b;d<this.children.length;d++)c.append(this.children[d],0);while(b>0&&this.children[b-1].length==0)this.children[--b].destroy();this.children.length=b;this.markDirty();this.length=g;return c}},{key:"transferDOM",value:function(b){if(!this.dom)return;this.markDirty();b.setDOM(this.dom);b.prevAttrs=this.prevAttrs===void
0?this.attrs:this.prevAttrs;this.prevAttrs=void
0;this.dom=null}},{key:"setDeco",value:function(b){if(!dp(this.attrs,b)){if(this.dom){this.prevAttrs=this.attrs;this.markDirty()}this.attrs=b}}},{key:"append",value:function(b,c){hL(this,b,c)}},{key:"addLineDeco",value:function(d){var
b=d.spec.attributes,c=d.spec["class"];if(b)this.attrs=dy(b,this.attrs||{});if(c)this.attrs=dy({"class":c},this.attrs||{})}},{key:"domAtPos",value:function(b){return hC(this.dom,this.children,b)}},{key:"reuseDOM",value:function(b){if(b.nodeName=="DIV"){this.setDOM(b);this.dirty|=4|2}}},{key:"sync",value:function(f){var
c;if(!this.dom){this.setDOM(document.createElement("div"));this.dom.className="cm-line";this.prevAttrs=this.attrs?null:void
0}else
if(this.dirty&4){gk(this.dom);this.dom.className="cm-line";this.prevAttrs=this.attrs?null:void
0}if(this.prevAttrs!==void
0){dk(this.dom,this.prevAttrs,this.attrs);this.dom.classList.add("cm-line");this.prevAttrs=void
0}L(F(e.prototype),"sync",this).call(this,f);var
b=this.dom.lastChild;while(b&&v.get(b)instanceof
aF)b=b.lastChild;if(!b||!this.length||b.nodeName!="BR"&&((c=v.get(b))===null||c===void
0?void
0:c.isEditable)==false&&(!g.ios||!this.children.some(function(b){return b
instanceof
bf}))){var
d=document.createElement("BR");d.cmIgnore=true;this.dom.appendChild(d)}}},{key:"measureTextSize",value:function(){if(this.children.length==0||this.length>20)return null;var
a=0,c=b(this.children),d;try{for(c.s();!(d=c.n()).done;){var
e=d.value;if(!(e
instanceof
bf))return null;var
f=br(e.dom);if(f.length!=1)return null;a+=f[0].width}}catch(b){c.e(b)}finally{c.f()}return{lineHeight:this.dom.getBoundingClientRect().height,charWidth:a/this.length}}},{key:"coordsAt",value:function(b,c){return gx(this,b,c)}},{key:"become",value:function(b){return false}},{key:"type",get:function(){return p.Text}}],[{key:"find",value:function(f,g){for(var
c=0,a=0;c<f.children.length;c++){var
b=f.children[c],d=a+b.length;if(d>=g){if(b
instanceof
e)return b;if(d>g)break}a=d+b.breakAfter}return null}}]);return e}(v),cL=function(e){l(b,e);var
f=k(b);function
b(g,e,a){var
d;c(this,b);d=f.call(this);d.widget=g;d.length=e;d.type=a;d.breakAfter=0;d.prevWidget=null;return d}d(b,[{key:"merge",value:function(d,e,c,g,a,f){if(c&&(!(c
instanceof
b)||!this.widget.compare(c.widget)||d>0&&a<=0||e<this.length&&f<=0))return false;this.length=d+(c?c.length:0)+(this.length-e);return true}},{key:"domAtPos",value:function(b){return b==0?M.before(this.dom):M.after(this.dom,b==this.length)}},{key:"split",value:function(c){var
e=this.length-c;this.length=c;var
d=new
b(this.widget,e,this.type);d.breakAfter=this.breakAfter;return d}},{key:"children",get:function(){return d7}},{key:"sync",value:function(){if(!this.dom||!this.widget.updateDOM(this.dom)){if(this.dom&&this.prevWidget)this.prevWidget.destroy(this.dom);this.prevWidget=null;this.setDOM(this.widget.toDOM(this.editorView));this.dom.contentEditable="false"}}},{key:"overrideDOMText",get:function(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):o.empty}},{key:"domBoundsAround",value:function(){return null}},{key:"become",value:function(c){if(c
instanceof
b&&c.type==this.type&&c.widget.constructor==this.widget.constructor){if(!c.widget.eq(this.widget))this.markDirty(true);if(this.dom&&!this.prevWidget)this.prevWidget=this.widget;this.widget=c.widget;this.length=c.length;this.breakAfter=c.breakAfter;return true}return false}},{key:"ignoreMutation",value:function(){return true}},{key:"ignoreEvent",value:function(b){return this.widget.ignoreEvent(b)}},{key:"destroy",value:function(){L(F(b.prototype),"destroy",this).call(this);if(this.dom)this.widget.destroy(this.dom)}}]);return b}(v),jC=function(){function
e(b,d,a,f){c(this,e);this.doc=b;this.pos=d;this.end=a;this.disallowBlockEffectsFor=f;this.content=[];this.curLine=null;this.breakAtStart=0;this.pendingBuffer=0;this.atCursorPos=true;this.openStart=-1;this.openEnd=-1;this.text="";this.textOff=0;this.cursor=b.iter();this.skip=d}d(e,[{key:"posCovered",value:function(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;var
b=this.content[this.content.length-1];return!b.breakAfter&&!(b
instanceof
cL&&b.type==p.WidgetBefore)}},{key:"getLine",value:function(){if(!this.curLine){this.content.push(this.curLine=new
Y());this.atCursorPos=true}return this.curLine}},{key:"flushBuffer",value:function(b){if(this.pendingBuffer){this.curLine.append(cJ(new
c6(-1),b),b.length);this.pendingBuffer=0}}},{key:"addBlockWidget",value:function(b){this.flushBuffer([]);this.curLine=null;this.content.push(b)}},{key:"finish",value:function(b){if(!b)this.flushBuffer([]);else
this.pendingBuffer=0;if(!this.posCovered())this.getLine()}},{key:"buildText",value:function(b,f,d){while(b>0){if(this.textOff==this.text.length){var
c=this.cursor.next(this.skip),h=c.value,g=c.lineBreak,a=c.done;this.skip=0;if(a)throw new
Error("Ran out of text content when drawing inline views");if(g){if(!this.posCovered())this.getLine();if(this.content.length)this.content[this.content.length-1].breakAfter=1;else
this.breakAtStart=1;this.flushBuffer([]);this.curLine=null;b--;continue}else{this.text=h;this.textOff=0}}var
e=Math.min(this.text.length-this.textOff,b,512);this.flushBuffer(f.slice(0,d));this.getLine().append(cJ(new
bf(this.text.slice(this.textOff,this.textOff+e)),f),d);this.atCursorPos=true;this.textOff+=e;b-=e;d=0}}},{key:"span",value:function(e,c,d,b){this.buildText(c-e,d,b);this.pos=c;if(this.openStart<0)this.openStart=b}},{key:"point",value:function(a,f,b,c,e,l){if(this.disallowBlockEffectsFor[l]&&b
instanceof
ba){if(b.block)throw new
RangeError("Block decorations may not be specified via plugins");if(f>this.doc.lineAt(this.pos).to)throw new
RangeError("Decorations that replace line breaks may not be specified via plugins")}var
d=f-a;if(b
instanceof
ba)if(b.block){var
k=b.type;if(k==p.WidgetAfter&&!this.posCovered())this.getLine();this.addBlockWidget(new
cL(b.widget||new
eZ("div"),d,k))}else{var
g=c7.create(b.widget||new
eZ("span"),d,b.startSide),i=this.atCursorPos&&!g.isEditable&&e<=c.length&&(a<f||b.startSide>0),h=!g.isEditable&&(a<f||b.startSide<=0),j=this.getLine();if(this.pendingBuffer==2&&!i)this.pendingBuffer=0;this.flushBuffer(c);if(i){j.append(cJ(new
c6(1),c),e);e=c.length+Math.max(0,e-c.length)}j.append(cJ(g,c),e);this.atCursorPos=h;this.pendingBuffer=!h?0:a<f?1:2}else
if(this.doc.lineAt(this.pos).from==this.pos)this.getLine().addLineDeco(b);if(d){if(this.textOff+d<=this.text.length)this.textOff+=d;else{this.skip+=d-(this.text.length-this.textOff);this.text="";this.textOff=0}this.pos=f}if(this.openStart<0)this.openStart=e}}],[{key:"build",value:function(g,c,d,f,a){var
b=new
e(g,c,d,a);b.openEnd=q.spans(f,c,d,b);if(b.openStart<0)b.openStart=b.openEnd;b.finish(b.openEnd);return b}}]);return e}();function
cJ(d,f){var
c=b(f),e;try{for(c.s();!(e=c.n()).done;){var
a=e.value;d=new
aF(a,[d],d.length)}}catch(b){c.e(b)}finally{c.f()}return d}var
eZ=function(e){l(b,e);var
f=k(b);function
b(e){var
d;c(this,b);d=f.call(this);d.tag=e;return d}d(b,[{key:"eq",value:function(b){return b.tag==this.tag}},{key:"toDOM",value:function(){return document.createElement(this.tag)}},{key:"updateDOM",value:function(b){return b.nodeName.toLowerCase()==this.tag}}]);return b}(am),gl=h.define(),g9=h.define(),h8=h.define(),hd=h.define(),es=h.define(),hD=h.define(),io=h.define({combine:function(b){return b.some(function(b){return b})}}),e_=function(){function
b(d){var
a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"nearest",e=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"nearest",g=arguments.length>3&&arguments[3]!==undefined?arguments[3]:5,f=arguments.length>4&&arguments[4]!==undefined?arguments[4]:5;c(this,b);this.range=d;this.y=a;this.x=e;this.yMargin=g;this.xMargin=f}d(b,[{key:"map",value:function(c){return c.empty?this:new
b(this.range.map(c),this.y,this.x,this.yMargin,this.xMargin)}}]);return b}(),fT=m.define({map:function(c,b){return c.map(b)}});function
R(e,b,c){var
d=e.facet(hd);if(d.length)d[0](b);else
if(window.onerror)window.onerror(String(b),c,void
0,void
0,b);else
if(c)console.error(c+":",b);else
console.error(b)}var
cb=h.define({combine:function(b){return b.length?b[0]:true}}),nK=0,bJ=h.define(),D=function(){function
b(a,e,f,d){c(this,b);this.id=a;this.create=e;this.domEventHandlers=f;this.extension=d(this)}d(b,null,[{key:"define",value:function(f,g){var
c=g||{},a=c.eventHandlers,e=c.provide,d=c.decorations;return new
b(nK++,f,a,function(c){var
b=[bJ.of(c)];if(d)b.push(bt.of(function(e){var
b=e.plugin(c);return b?d(b):i.none}));if(e)b.push(e(c));return b})}},{key:"fromClass",value:function(c,d){return b.define(function(b){return new
c(b)},d)}}]);return b}(),c0=function(){function
b(d){c(this,b);this.spec=d;this.mustUpdate=null;this.value=null}d(b,[{key:"update",value:function
b(c){if(!this.value){if(this.spec)try{this.value=this.spec.create(c)}catch(b){R(c.state,b,"CodeMirror plugin crashed");this.deactivate()}}else
if(this.mustUpdate){var
b=this.mustUpdate;this.mustUpdate=null;if(this.value.update)try{this.value.update(b)}catch(c){R(b.state,c,"CodeMirror plugin crashed");if(this.value.destroy)try{this.value.destroy()}catch(a){}this.deactivate()}}return this}},{key:"destroy",value:function(c){var
b;if((b=this.value)===null||b===void
0?void
0:b.destroy)try{this.value.destroy()}catch(b){R(c.state,b,"CodeMirror plugin crashed")}}},{key:"deactivate",value:function(){this.spec=this.value=null}}]);return b}(),g$=h.define(),gw=h.define(),bt=h.define(),f6=h.define(),iM=h.define(),bH=h.define(),a9=function(){function
e(b,f,d,a){c(this,e);this.fromA=b;this.toA=f;this.fromB=d;this.toB=a}d(e,[{key:"join",value:function(b){return new
e(Math.min(this.fromA,b.fromA),Math.max(this.toA,b.toA),Math.min(this.fromB,b.fromB),Math.max(this.toB,b.toB))}},{key:"addToSet",value:function(d){var
b=d.length,c=this;for(;b>0;b--){var
e=d[b-1];if(e.fromA>c.toA)continue;if(e.toA<c.fromA)break;c=c.join(e);d.splice(b-1,1)}d.splice(b,0,c);return d}}],[{key:"extendWithRanges",value:function(a,d){if(d.length==0)return a;var
j=[];for(var
f=0,c=0,m=0,i=0;;f++){var
b=f==a.length?null:a[f],l=m-i,g=b?b.fromB:1e9;while(c<d.length&&d[c]<g){var
o=d[c],n=d[c+1],h=Math.max(i,o),k=Math.min(g,n);if(h<=k)new
e(h+l,k+l,h,k).addToSet(j);if(n>g)break;else
c+=2}if(!b)return j;new
e(b.fromA,b.toA,b.fromB,b.toB).addToSet(j);m=b.toA;i=b.toB}}}]);return e}(),ff=function(){function
e(d,j,i){c(this,e);this.view=d;this.state=j;this.transactions=i;this.flags=0;this.startState=d.state;this.changes=X.empty(this.startState.doc.length);var
f=b(i),a;try{for(f.s();!(a=f.n()).done;){var
k=a.value;this.changes=this.changes.compose(k.changes)}}catch(b){f.e(b)}finally{f.f()}var
g=[];this.changes.iterChangedRanges(function(b,d,c,e){return g.push(new
a9(b,d,c,e))});this.changedRanges=g;var
h=d.hasFocus;if(h!=d.inputState.notifiedFocused){d.inputState.notifiedFocused=h;this.flags|=1}}d(e,[{key:"viewportChanged",get:function(){return(this.flags&4)>0}},{key:"heightChanged",get:function(){return(this.flags&2)>0}},{key:"geometryChanged",get:function(){return this.docChanged||(this.flags&(8|2))>0}},{key:"focusChanged",get:function(){return(this.flags&1)>0}},{key:"docChanged",get:function(){return!this.changes.empty}},{key:"selectionSet",get:function(){return this.transactions.some(function(b){return b.selection})}},{key:"empty",get:function(){return this.flags==0&&this.transactions.length==0}}],[{key:"create",value:function(d,b,c){return new
e(d,b,c)}}]);return e}(),t=function(b){b[b["LTR"]=0]="LTR";b[b["RTL"]=1]="RTL";return b}(t||(t={})),cT=t.LTR,kb=t.RTL;function
gT(d){var
c=[];for(var
b=0;b<d.length;b++)c.push(1<<+d[b]);return c}var
jZ=gT("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),js=gT("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),cM=Object.create(null),$=[];for(var
de=0,fk=["()","[]","{}"];de<fk.length;de++){var
ii=fk[de],hM=ii.charCodeAt(0),iu=ii.charCodeAt(1);cM[hM]=iu;cM[iu]=-hM}function
lt(b){return b<=247?jZ[b]:1424<=b&&b<=1524?2:1536<=b&&b<=1785?js[b-1536]:1774<=b&&b<=2220?4:8192<=b&&b<=8203?256:b==8204?256:1}var
ju=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,aO=function(){function
b(d,f,e){c(this,b);this.from=d;this.to=f;this.level=e}d(b,[{key:"dir",get:function(){return this.level%2?kb:cT}},{key:"side",value:function(c,b){return this.dir==b==c?this.to:this.from}}],[{key:"find",value:function(f,e,g,a){var
d=-1;for(var
c=0;c<f.length;c++){var
b=f[c];if(b.from<=e&&b.to>=e){if(b.level==g)return c;if(d<0||(a!=0?a<0?b.from<e:b.to>e:f[d].level>b.level))d=c}}if(d<0)throw new
RangeError("Index out of range");return d}}]);return b}(),u=[];function
lA(q,H){var
b=q.length,d=H==cT?1:2,R=H==cT?2:1;if(!q||d==1&&!ju.test(q))return jd(b);for(var
r=0,J=d,K=d;r<b;r++){var
e=lt(q.charCodeAt(r));if(e==512)e=J;else
if(e==8&&K==4)e=16;u[r]=e==4?2:e;if(e&7)K=e;J=e}for(var
c=0,o=d,v=d;c<b;c++){var
j=u[c];if(j==128)if(c<b-1&&o==u[c+1]&&o&24)j=u[c]=o;else
u[c]=256;else
if(j==64){var
k=c+1;while(k<b&&u[k]==64)k++;var
S=c&&o==8||k<b&&u[k]==8?v==1?1:8:256;for(var
z=c;z<k;z++)u[z]=S;c=k-1}else
if(j==8&&v==1)u[c]=1;o=j;if(j&7)v=j}for(var
l=0,m=0,F=0,E,x,w;l<b;l++)if(x=cM[E=q.charCodeAt(l)])if(x<0){for(var
n=m-3;n>=0;n-=3)if($[n+1]==-x){var
y=$[n+2],M=y&2?d:!(y&4)?0:y&1?R:d;if(M)u[l]=u[$[n]]=M;m=n;break}}else
if($.length==189)break;else{$[m++]=l;$[m++]=E;$[m++]=F}else
if((w=u[l])==2||w==1){var
I=w==d;F=I?0:1;for(var
p=m-3;p>=0;p-=3){var
G=$[p+2];if(G&2)break;if(I)$[p+2]|=2;else{if(G&4)break;$[p+2]|=4}}}for(var
f=0;f<b;f++)if(u[f]==256){var
g=f+1;while(g<b&&u[g]==256)g++;var
D=(f?u[f-1]:d)==1,Q=(g<b?u[g]:d)==1,O=D==Q?D?1:2:d;for(var
t=f;t<g;t++)u[t]=O;f=g-1}var
s=[];if(d==1)for(var
a=0;a<b;){var
A=a,L=u[a++]!=1;while(a<b&&L==(u[a]!=1))a++;if(L)for(var
i=a;i>A;){var
N=i,B=u[--i]!=2;while(i>A&&B==(u[i-1]!=2))i--;s.push(new
aO(i,N,B?2:1))}else
s.push(new
aO(A,a,0))}else
for(var
h=0;h<b;){var
P=h,C=u[h++]==2;while(h<b&&C==(u[h]==2))h++;s.push(new
aO(P,h,C?1:2))}return s}function
jd(b){return[new
aO(0,b,0)]}var
ia="";function
nH(d,e,c,l,b){var
k,a=l.head-d.from,h=-1;if(a==0){if(!b||!d.length)return null;if(e[0].level!=c){a=e[0].side(false,c);h=0}}else
if(a==d.length){if(b)return null;var
n=e[e.length-1];if(n.level!=c){a=n.side(true,c);h=e.length-1}}if(h<0)h=aO.find(e,a,(k=l.bidiLevel)!==null&&k!==void
0?k:-1,l.assoc);var
g=e[h];if(a==g.side(b,c)){g=e[h+=b?1:-1];a=g.side(!b,c)}var
m=b==(g.dir==c),i=Q(d.text,a,m);ia=d.text.slice(Math.min(a,i),Math.max(a,i));if(i!=g.side(b,c))return f.cursor(i+d.from,m?-1:1,g.level);var
j=h==(b?e.length-1:0)?null:e[h+(b?1:-1)];if(!j&&g.level!=c)return f.cursor(b?d.to:d.from,b?-1:1,c);if(j&&j.level<g.level)return f.cursor(j.side(!b,c)+d.from,b?1:-1,j.level);return f.cursor(i+d.from,b?-1:1,g.level)}var
at="\uFFFF",eJ=function(){function
e(b,d){c(this,e);this.points=b;this.text="";this.lineSeparator=d.facet(w.lineSeparator)}d(e,[{key:"append",value:function(b){this.text+=b}},{key:"lineBreak",value:function(){this.text+=at}},{key:"readRange",value:function(e,f){if(!e)return this;var
a=e.parentNode;for(var
b=e;;){this.findPointBefore(a,b);this.readNode(b);var
c=b.nextSibling;if(c==f)break;var
d=v.get(b),g=v.get(c);if(d&&g?d.breakAfter:(d?d.breakAfter:hI(b))||hI(c)&&(b.nodeName!="BR"||b.cmIgnore))this.lineBreak();b=c}this.findPointBefore(a,f);return this}},{key:"readTextNode",value:function(i){var
e=i.nodeValue,f=b(this.points),l;try{for(f.s();!(l=f.n()).done;){var
g=l.value;if(g.node==i)g.pos=this.text.length+Math.min(g.offset,e.length)}}catch(b){f.e(b)}finally{f.f()}for(var
j=0,n=this.lineSeparator?null:/\r\n?|\n/g;;){var
c=-1,d=1,h=void
0;if(this.lineSeparator){c=e.indexOf(this.lineSeparator,j);d=this.lineSeparator.length}else
if(h=n.exec(e)){c=h.index;d=h[0].length}this.append(e.slice(j,c<0?e.length:c));if(c<0)break;this.lineBreak();if(d>1){var
a=b(this.points),m;try{for(a.s();!(m=a.n()).done;){var
k=m.value;if(k.node==i&&k.pos>this.text.length)k.pos-=d-1}}catch(b){a.e(b)}finally{a.f()}}j=c+d}}},{key:"readNode",value:function(b){if(b.cmIgnore)return;var
e=v.get(b),d=e&&e.overrideDOMText;if(d!=null){this.findPointInside(b,d.length);for(var
c=d.iter();!c.next().done;)if(c.lineBreak)this.lineBreak();else
this.append(c.value)}else
if(b.nodeType==3)this.readTextNode(b);else
if(b.nodeName=="BR"){if(b.nextSibling)this.lineBreak()}else
if(b.nodeType==1)this.readRange(b.firstChild,null)}},{key:"findPointBefore",value:function(f,a){var
c=b(this.points),e;try{for(c.s();!(e=c.n()).done;){var
d=e.value;if(d.node==f&&f.childNodes[d.offset]==a)d.pos=this.text.length}}catch(b){c.e(b)}finally{c.f()}}},{key:"findPointInside",value:function(e,a){var
c=b(this.points),f;try{for(c.s();!(f=c.n()).done;){var
d=f.value;if(e.nodeType==3?d.node==e:e.contains(d.node))d.pos=this.text.length+Math.min(a,d.offset)}}catch(b){c.e(b)}finally{c.f()}}}]);return e}();function
hI(b){return b.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(b.nodeName)}var
eI=d(function
b(d,e){c(this,b);this.node=d;this.offset=e;this.pos=-1}),eN=function(f){l(e,f);var
a=k(e);function
e(d){var
b;c(this,e);b=a.call(this);b.view=d;b.compositionDeco=i.none;b.decorations=[];b.dynamicDecorationMap=[];b.minWidth=0;b.minWidthFrom=0;b.minWidthTo=0;b.impreciseAnchor=null;b.impreciseHead=null;b.forceSelection=false;b.lastUpdate=Date.now();b.setDOM(d.contentDOM);b.children=[new
Y()];b.children[0].setParent(bK(b));b.updateDeco();b.updateInner([new
a9(0,0,0,d.state.doc.length)],0);return b}d(e,[{key:"root",get:function(){return this.view.root}},{key:"editorView",get:function(){return this.view}},{key:"length",get:function(){return this.view.state.doc.length}},{key:"update",value:function(b){var
d=this,c=b.changedRanges;if(this.minWidth>0&&c.length)if(!c.every(function(b){var
c=b.fromA,e=b.toA;return e<d.minWidthFrom||c>d.minWidthTo}))this.minWidth=this.minWidthFrom=this.minWidthTo=0;else{this.minWidthFrom=b.changes.mapPos(this.minWidthFrom,1);this.minWidthTo=b.changes.mapPos(this.minWidthTo,1)}if(this.view.inputState.composing<0)this.compositionDeco=i.none;else
if(b.transactions.length||this.dirty)this.compositionDeco=lz(this.view,b.changes);if((g.ie||g.chrome)&&!this.compositionDeco.size&&b&&b.state.doc.lines!=b.startState.doc.lines)this.forceSelection=true;var
a=this.decorations,e=this.updateDeco(),f=mf(a,e,b.changes);c=a9.extendWithRanges(c,f);if(this.dirty==0&&c.length==0)return false;else{this.updateInner(c,b.startState.doc.length);if(b.transactions.length)this.lastUpdate=Date.now();return true}}},{key:"updateInner",value:function(i,j){var
c=this;this.view.viewState.mustMeasureContent=true;this.updateChildren(i,j);var
e=this.view.observer;e.ignore(function(){c.dom.style.height=c.view.viewState.contentHeight+"px";c.dom.style.flexBasis=c.minWidth?c.minWidth+"px":"";var
b=g.chrome||g.ios?{node:e.selectionRange.focusNode,written:false}:void
0;c.sync(b);c.dirty=0;if(b&&(b.written||e.selectionRange.focusNode!=b.node))c.forceSelection=true;c.dom.style.height=""});var
h=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length){var
d=b(this.children),a;try{for(d.s();!(a=d.n()).done;){var
f=a.value;if(f
instanceof
cL&&f.widget
instanceof
ey)h.push(f.dom)}}catch(b){d.e(b)}finally{d.f()}}e.updateGaps(h)}},{key:"updateChildren",value:function(a,n){var
g=this.childCursor(n);for(var
d=a.length-1;;d--){var
b=d>=0?a[d]:null;if(!b)break;var
j=b.fromA,q=b.toA,k=b.fromB,r=b.toB,c=jC.build(this.view.state.doc,k,r,this.decorations,this.dynamicDecorationMap),i=c.content,h=c.breakAtStart,p=c.openStart,o=c.openEnd,e=g.findPos(q,1),s=e.i,t=e.off,f=g.findPos(j,-1),l=f.i,m=f.off;iB(this,l,m,s,t,i,h,p,o)}}},{key:"updateSelection",value:function(){var
a=this,j=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false,i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(j||!this.view.observer.selectionRange.focusNode)this.view.observer.readSelectionRange();if(!(i||this.mayControlSelection())||g.ios&&this.view.inputState.rapidCompositionStart)return;var
h=this.forceSelection;this.forceSelection=false;var
e=this.view.state.selection.main,b=this.domAtPos(e.anchor),d=e.empty?b:this.domAtPos(e.head);if(g.gecko&&e.empty&&lg(b)){var
f=document.createTextNode("");this.view.observer.ignore(function(){return b.node.insertBefore(f,b.node.childNodes[b.offset]||null)});b=d=new
M(f,0);h=true}var
c=this.view.observer.selectionRange;if(h||!c.focusNode||!co(b.node,b.offset,c.anchorNode,c.anchorOffset)||!co(d.node,d.offset,c.focusNode,c.focusOffset)){this.view.observer.ignore(function(){if(g.android&&g.chrome&&a.dom.contains(c.focusNode)&&mP(c.focusNode,a.dom)){a.dom.blur();a.dom.focus({preventScroll:true})}var
f=cj(a.root);if(!f);else
if(e.empty){if(g.gecko){var
h=nN(b.node,b.offset);if(h&&h!=(1|2)){var
i=ib(b.node,b.offset,h==1?1:-1);if(i)b=new
M(i,h==1?0:i.nodeValue.length)}}f.collapse(b.node,b.offset);if(e.bidiLevel!=null&&c.cursorBidiLevel!=null)c.cursorBidiLevel=e.bidiLevel}else
if(f.extend){f.collapse(b.node,b.offset);f.extend(d.node,d.offset)}else{var
j=document.createRange();if(e.anchor>e.head){var
k=[d,b];b=k[0];d=k[1]}j.setEnd(d.node,d.offset);j.setStart(b.node,b.offset);f.removeAllRanges();f.addRange(j)}});this.view.observer.setSelectionRange(b,d)}this.impreciseAnchor=b.precise?null:new
M(c.anchorNode,c.anchorOffset);this.impreciseHead=d.precise?null:new
M(c.focusNode,c.focusOffset)}},{key:"enforceCursorAssoc",value:function(){if(this.compositionDeco.size)return;var
b=this.view.state.selection.main,c=cj(this.root);if(!c||!b.empty||!b.assoc||!c.modify)return;var
d=Y.find(this,b.head);if(!d)return;var
g=d.posAtStart;if(b.head==g||b.head==g+d.length)return;var
f=this.coordsAt(b.head,-1),e=this.coordsAt(b.head,1);if(!f||!e||f.bottom>e.top)return;var
a=this.domAtPos(b.head+b.assoc);c.collapse(a.node,a.offset);c.modify("move",b.assoc<0?"forward":"backward","lineboundary")}},{key:"mayControlSelection",value:function(){var
b=this.root.activeElement;return b==this.dom||cl(this.dom,this.view.observer.selectionRange)&&!(b&&this.dom.contains(b))}},{key:"nearest",value:function(d){for(var
b=d;b;){var
c=v.get(b);if(c&&c.rootView==this)return c;b=b.parentNode}return null}},{key:"posFromDOM",value:function(c,d){var
b=this.nearest(c);if(!b)throw new
RangeError("Trying to find position for a DOM position outside of the document");return b.localPosFromDOM(c,d)+b.posAtStart}},{key:"domAtPos",value:function(f){var
d=this.childCursor().findPos(f,-1),b=d.i,c=d.off;for(;b<this.children.length-1;){var
e=this.children[b];if(c<e.length||e
instanceof
Y)break;b++;c=0}return this.children[b].domAtPos(c)}},{key:"coordsAt",value:function(e,f){for(var
a=this.length,b=this.children.length-1;;b--){var
c=this.children[b],d=a-c.breakAfter-c.length;if(e>d||e==d&&c.type!=p.WidgetBefore&&c.type!=p.WidgetAfter&&(!b||f==2||this.children[b-1].breakAfter||this.children[b-1].type==p.WidgetBefore&&f>-2))return c.coordsAt(e-d,f);a=d}}},{key:"measureVisibleLineHeights",value:function(k){var
j=[],n=k.from,q=k.to,g=this.view.contentDOM.clientWidth,o=g>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,l=-1,p=this.view.textDirection==t.LTR;for(var
c=0,d=0;d<this.children.length;d++){var
b=this.children[d],f=c+b.length;if(f>q)break;if(c>=n){var
e=b.dom.getBoundingClientRect();j.push(e.height);if(o){var
h=b.dom.lastChild,a=h?br(h):[];if(a.length){var
i=a[a.length-1],m=p?i.right-e.left:e.right-i.left;if(m>l){l=m;this.minWidth=g;this.minWidthFrom=c;this.minWidthTo=f}}}}c=f+b.breakAfter}return j}},{key:"textDirectionAt",value:function(d){var
b=this.childPos(d,1),c=b.i;return getComputedStyle(this.children[c].dom).direction=="rtl"?t.RTL:t.LTR}},{key:"measureTextSize",value:function(){var
i=this,d=b(this.children),e;try{for(d.s();!(e=d.n()).done;){var
a=e.value;if(a
instanceof
Y){var
h=a.measureTextSize();if(h)return h}}}catch(b){d.e(b)}finally{d.f()}var
c=document.createElement("div"),g,f;c.className="cm-line";c.style.width="99999px";c.textContent="abc def ghi jkl mno pqr stu";this.view.observer.ignore(function(){i.dom.appendChild(c);var
b=br(c.firstChild)[0];g=c.getBoundingClientRect().height;f=b?b.width/27:7;c.remove()});return{lineHeight:g,charWidth:f}}},{key:"childCursor",value:function(){var
c=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.length,b=this.children.length;if(b)c-=this.children[--b].length;return new
eD(this.children,c,b)}},{key:"computeBlockGapDeco",value:function(){var
a=[],d=this.view.viewState;for(var
c=0,e=0;;e++){var
b=e==d.viewports.length?null:d.viewports[e],f=b?b.from-1:this.length;if(f>c){var
g=d.lineBlockAt(f).bottom-d.lineBlockAt(c).top;a.push(i.replace({widget:new
ey(g),block:true,inclusive:true,isBlockGap:true}).range(c,f))}if(!b)break;c=b.to+1}return i.set(a)}},{key:"updateDeco",value:function(){var
d=this,c=this.view.state.facet(bt).map(function(b,e){var
c=d.dynamicDecorationMap[e]=typeof
b=="function";return c?b(d.view):b});for(var
b=c.length;b<c.length+3;b++)this.dynamicDecorationMap[b]=false;return this.decorations=[].concat(aq(c),[this.compositionDeco,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco])}},{key:"scrollIntoView",value:function(a){var
q=this,c=a.range,d=this.coordsAt(c.head,c.empty?c.assoc:c.head>c.anchor?-1:1),f;if(!d)return;if(!c.empty&&(f=this.coordsAt(c.anchor,c.anchor>c.head?-1:1)))d={left:Math.min(d.left,f.left),top:Math.min(d.top,f.top),right:Math.max(d.right,f.right),bottom:Math.max(d.bottom,f.bottom)};var
i=0,j=0,k=0,h=0,g=b(this.view.state.facet(iM).map(function(b){return b(q.view)})),l;try{for(g.s();!(l=g.n()).done;){var
e=l.value;if(e){var
n=e.left,o=e.right,p=e.top,m=e.bottom;if(n!=null)i=Math.max(i,n);if(o!=null)j=Math.max(j,o);if(p!=null)k=Math.max(k,p);if(m!=null)h=Math.max(h,m)}}}catch(b){g.e(b)}finally{g.f()}var
r={left:d.left-i,top:d.top-k,right:d.right+j,bottom:d.bottom+h};oi(this.view.scrollDOM,r,c.head<c.anchor?-1:1,a.x,a.y,a.xMargin,a.yMargin,this.view.textDirection==t.LTR)}}]);return e}(v);function
lg(b){return b.node.nodeType==1&&b.node.firstChild&&(b.offset==0||b.node.childNodes[b.offset-1].contentEditable=="false")&&(b.offset==b.node.childNodes.length||b.node.childNodes[b.offset].contentEditable=="false")}var
ey=function(e){l(b,e);var
f=k(b);function
b(e){var
d;c(this,b);d=f.call(this);d.height=e;return d}d(b,[{key:"toDOM",value:function(){var
b=document.createElement("div");this.updateDOM(b);return b}},{key:"eq",value:function(b){return b.height==this.height}},{key:"updateDOM",value:function(b){b.style.height=this.height+"px";return true}},{key:"estimatedHeight",get:function(){return this.height}}]);return b}(am);function
gt(i){var
a=i.observer.selectionRange,d=a.focusNode&&ib(a.focusNode,a.focusOffset,0);if(!d)return null;var
b=i.docView.nearest(d);if(!b)return null;if(b
instanceof
Y){var
e=d;while(e.parentNode!=b.dom)e=e.parentNode;var
c=e.previousSibling;while(c&&!v.get(c))c=c.previousSibling;var
h=c?v.get(c).posAtEnd:b.posAtStart;return{from:h,to:h,node:e,text:d}}else{for(;;){var
j=b,f=j.parent;if(!f)return null;if(f
instanceof
Y)break;b=f}var
g=b.posAtStart;return{from:g,to:g+b.length,node:b.dom,text:d}}}function
lz(j,h){var
g=gt(j);if(!g)return i.none;var
k=g.from,m=g.to,f=g.node,l=g.text,b=h.mapPos(k,1),d=Math.max(b,h.mapPos(m,-1)),a=j.state,c=f.nodeType==3?f.nodeValue:new
eJ([],a).readRange(f.firstChild,null).text;if(d-b<c.length)if(a.doc.sliceString(b,Math.min(a.doc.length,b+c.length),at)==c)d=b+c.length;else
if(a.doc.sliceString(Math.max(0,d-c.length),d,at)==c)b=d-c.length;else
return i.none;else
if(a.doc.sliceString(b,d,at)!=c)return i.none;var
e=v.get(f);if(e
instanceof
eG)e=e.widget.topView;else
if(e)e.parent=null;return i.set(i.replace({widget:new
jB(f,l,e),inclusive:true}).range(b,d))}var
jB=function(e){l(b,e);var
f=k(b);function
b(a,e,g){var
d;c(this,b);d=f.call(this);d.top=a;d.text=e;d.topView=g;return d}d(b,[{key:"eq",value:function(b){return this.top==b.top&&this.text==b.text}},{key:"toDOM",value:function(){return this.top}},{key:"ignoreEvent",value:function(){return false}},{key:"customView",get:function(){return eG}}]);return b}(am);function
ib(b,c,d){for(;;){if(b.nodeType==3)return b;if(b.nodeType==1&&c>0&&d<=0){b=b.childNodes[c-1];c=by(b)}else
if(b.nodeType==1&&c<b.childNodes.length&&d>=0){b=b.childNodes[c];c=0}else
return null}}function
nN(b,c){if(b.nodeType!=1)return 0;return(c&&b.childNodes[c-1].contentEditable=="false"?1:0)|(c<b.childNodes.length&&b.childNodes[c].contentEditable=="false"?2:0)}var
jG=function(){function
b(){c(this,b);this.changes=[]}d(b,[{key:"compareRange",value:function(b,c){dm(b,c,this.changes)}},{key:"comparePoint",value:function(b,c){dm(b,c,this.changes)}}]);return b}();function
mf(c,d,e){var
b=new
jG();q.compare(c,d,e,b);return b.changes}function
mP(d,c){for(var
b=d;b&&b!=c;b=b.assignedSlot||b.parentNode)if(b.nodeType==1&&b.contentEditable=="false")return true;return false}function
mv(l,a){var
g=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1,h=l.charCategorizer(a),b=l.doc.lineAt(a),e=a-b.from;if(b.length==0)return f.cursor(a);if(e==0)g=1;else
if(e==b.length)g=-1;var
c=e,d=e;if(g<0)c=Q(b.text,e,false);else
d=Q(b.text,e);var
i=h(b.text.slice(c,d));while(c>0){var
k=Q(b.text,c,false);if(h(b.text.slice(k,c))!=i)break;c=k}while(d<b.length){var
j=Q(b.text,d);if(h(b.text.slice(d,j))!=i)break;d=j}return f.range(c+b.from,d+b.from)}function
ms(c,b){return b.left>c?b.left-c:Math.max(0,c-b.right)}function
mt(c,b){return b.top>c?b.top-c:Math.max(0,c-b.bottom)}function
ew(b,c){return b.top<c.bottom-1&&b.bottom>c.top+1}function
jh(b,c){return c<b.top?{top:c,left:b.left,right:b.right,bottom:b.bottom}:b}function
jg(b,c){return c>b.bottom?{top:b.top,left:b.left,right:b.right,bottom:c}:b}function
dI(k,h,g){var
a,c,m,n,o,p,d,e;for(var
f=k.firstChild;f;f=f.nextSibling){var
r=br(f);for(var
l=0;l<r.length;l++){var
b=r[l];if(c&&ew(c,b))b=jh(jg(b,c.bottom),c.top);var
i=ms(h,b),j=mt(g,b);if(i==0&&j==0)return f.nodeType==3?g8(f,h,g):dI(f,h,g);if(!a||n>j||n==j&&m>i){a=f;c=b;m=i;n=j}if(i==0){if(g>b.bottom&&(!d||d.bottom<b.bottom)){o=f;d=b}else
if(g<b.top&&(!e||e.top>b.top)){p=f;e=b}}else
if(d&&ew(d,b))d=jg(d,b.bottom);else
if(e&&ew(e,b))e=jh(e,b.top)}}if(d&&d.bottom>=g){a=o;c=d}else
if(e&&e.top<=g){a=p;c=e}if(!a)return{node:k,offset:0};var
q=Math.max(c.left,Math.min(c.right,h));if(a.nodeType==3)return g8(a,q,g);if(!m&&a.contentEditable=="true")return dI(a,q,g);var
s=Array.prototype.indexOf.call(k.childNodes,a)+(h>=(c.left+c.right)/2?1:0);return{node:k,offset:s}}function
g8(d,e,k){var
o=d.nodeValue.length,a=-1,l=1e9,i=0;for(var
c=0;c<o;c++){var
m=a7(d,c,c+1).getClientRects();for(var
j=0;j<m.length;j++){var
b=m[j];if(b.top==b.bottom)continue;if(!i)i=e-b.left;var
h=(b.top>k?b.top-k:k-b.bottom)-1;if(b.left-1<=e&&b.right+1>=e&&h<l){var
n=e>=(b.left+b.right)/2,f=n;if(g.chrome||g.gecko){var
p=a7(d,c).getBoundingClientRect();if(p.left==b.right)f=!n}if(h<=0)return{node:d,offset:c+(f?1:0)};a=c+(f?1:0);l=h}}}return{node:d,offset:a>-1?a:i>0?d.nodeValue.length:0}}function
fR(b,t,q){var
d=t.x,a=t.y,m=arguments.length>3&&arguments[3]!==undefined?arguments[3]:-1,l,j=b.contentDOM.getBoundingClientRect(),w=j.top+b.viewState.paddingTop,c,v=b.viewState.docHeight,h=a-w;if(h<0)return 0;if(h>v)return b.state.doc.length;for(var
x=b.defaultLineHeight/2,u=false;;){c=b.elementAtHeight(h);if(c.type==p.Text)break;for(;;){h=m>0?c.bottom+x:c.top-x;if(h>=0&&h<=v)break;if(u)return q?null:0;u=true;m=-m}}a=w+h;var
n=c.from;if(n<b.viewport.from)return b.viewport.from==0?0:q?null:iq(b,j,c,d,a);if(n>b.viewport.to)return b.viewport.to==b.state.doc.length?b.state.doc.length:q?null:iq(b,j,c,d,a);var
k=b.dom.ownerDocument,z=b.root.elementFromPoint?b.root:k,e=z.elementFromPoint(d,a);if(e&&!b.contentDOM.contains(e))e=null;if(!e){d=Math.max(j.left+1,Math.min(j.right-1,d));e=z.elementFromPoint(d,a);if(e&&!b.contentDOM.contains(e))e=null}var
f,i=-1;if(e&&((l=b.docView.nearest(e))===null||l===void
0?void
0:l.isEditable)!=false)if(k.caretPositionFromPoint){var
o=k.caretPositionFromPoint(d,a);if(o){f=o.offsetNode;i=o.offset}}else
if(k.caretRangeFromPoint){var
r=k.caretRangeFromPoint(d,a);if(r){f=r.startContainer;i=r.startOffset;if(g.safari&&m_(f,i,d)||g.chrome&&m9(f,i,d))f=void
0}}if(!f||!b.docView.dom.contains(f)){var
y=Y.find(b.docView,n);if(!y)return h>c.top+c.height/2?c.to:c.from;var
s=dI(y.dom,d,a);f=s.node;i=s.offset}return b.docView.posFromDOM(f,i)}function
iq(b,f,c,g,h){var
d=Math.round((g-f.left)*b.defaultCharacterWidth);if(b.lineWrapping&&c.height>b.defaultLineHeight*1.5){var
a=Math.floor((h-c.top)/b.defaultLineHeight);d+=a*b.viewState.heightOracle.lineLength}var
e=b.state.sliceDoc(c.from,c.to);return c.from+dL(e,d,b.state.tabSize)}function
m_(c,e,f){var
d;if(c.nodeType!=3||e!=(d=c.nodeValue.length))return false;for(var
b=c.nextSibling;b;b=b.nextSibling)if(b.nodeType!=1||b.nodeName!="BR")return false;return a7(c,d-1,d).getBoundingClientRect().left>f}function
m9(b,e,a){if(e!=0)return false;for(var
d=b;;){var
c=d.parentNode;if(!c||c.nodeType!=1||c.firstChild!=d)return false;if(c.classList.contains("cm-line"))break;d=c}var
f=b.nodeType==1?b.getBoundingClientRect():a7(b,0,Math.max(b.nodeValue.length,1)).getBoundingClientRect();return a-f.left>5}function
kN(b,c,d,l){var
e=b.state.doc.lineAt(c.head),a=!l||!b.lineWrapping?null:b.coordsAtPos(c.assoc<0&&c.head>e.from?c.head-1:c.head);if(a){var
h=b.dom.getBoundingClientRect(),j=b.textDirectionAt(e.from),i=b.posAtCoords({x:d==(j==t.LTR)?h.right-1:h.left+1,y:(a.top+a.bottom)/2});if(i!=null)return f.cursor(i,d?-1:1)}var
g=Y.find(b.docView,c.head),k=g?d?g.posAtEnd:g.posAtStart:d?e.to:e.from;return f.cursor(k,d?-1:1)}function
fK(c,k,e,i){var
b=c.state.doc.lineAt(k.head),j=c.bidiSpans(b),l=c.textDirectionAt(b.from);for(var
d=k,h=null;;){var
a=nH(b,j,l,d,e),g=ia;if(!a){if(b.number==(e?c.state.doc.lines:1))return d;g="\n";b=c.state.doc.line(b.number+(e?1:-1));j=c.bidiSpans(b);a=f.cursor(e?b.from:b.to)}if(!h){if(!i)return a;h=i(g)}else
if(!h(g))return d;d=a}}function
ln(f,d,e){var
c=f.state.charCategorizer(d),b=c(e);return function(e){var
d=c(e);if(b==J.Space)b=d;return b==d}}function
kO(b,g,o,j){var
c=g.head,a=o?1:-1;if(c==(o?b.state.doc.length:0))return f.cursor(c,g.assoc);var
d=g.goalColumn,m,e=b.contentDOM.getBoundingClientRect(),h=b.coordsAtPos(c),q=b.documentTop;if(h){if(d==null)d=h.left-e.left;m=a<0?h.top:h.bottom}else{var
k=b.viewState.lineBlockAt(c);if(d==null)d=Math.min(e.right-e.left,b.defaultCharacterWidth*(c-k.from));m=(a<0?k.top:k.bottom)+q}var
r=e.left+d,p=j!==null&&j!==void
0?j:b.defaultLineHeight>>1;for(var
n=0;;n+=10){var
i=m+(p+n)*a,l=fR(b,{x:r,y:i},false,a);if(i<e.top||i>e.bottom||(a<0?l<c:l>c))return f.cursor(l,g.assoc,void
0,d)}}function
eh(g,i,c){var
h=g.state.facet(f6).map(function(b){return b(g)});for(;;){var
a=false,d=b(h),e;try{for(d.s();!(e=d.n()).done;){var
j=e.value;j.between(c.from-1,c.from+1,function(b,d,e){if(c.from>b&&c.from<d){c=i.from>c.from?f.cursor(b,1):f.cursor(d,-1);a=true}})}}catch(b){d.e(b)}finally{d.f()}if(!a)return c}}var
jV=function(){function
e(b){var
d=this;c(this,e);this.lastKeyCode=0;this.lastKeyTime=0;this.lastTouchTime=0;this.lastFocusTime=0;this.lastScrollTop=0;this.lastScrollLeft=0;this.chromeScrollHack=-1;this.pendingIOSKey=void
0;this.lastSelectionOrigin=null;this.lastSelectionTime=0;this.lastEscPress=0;this.lastContextMenu=0;this.scrollHandlers=[];this.registeredEvents=[];this.customHandlers=[];this.composing=-1;this.compositionFirstChange=null;this.compositionEndedAt=0;this.rapidCompositionStart=false;this.mouseSelection=null;var
f=function(e){var
f=B[e];b.contentDOM.addEventListener(e,function(c){if(!hc(b,c)||d.ignoreDuringComposition(c))return;if(e=="keydown"&&d.keydown(b,c))return;if(d.mustFlushObserver(c))b.observer.forceFlush();if(d.runCustomHandlers(e,b,c))c.preventDefault();else
f(b,c)},dU[e]);d.registeredEvents.push(e)};for(var
a
in
B)f(a);if(g.chrome&&g.chrome_version==102)b.scrollDOM.addEventListener("wheel",function(){if(d.chromeScrollHack<0)b.contentDOM.style.pointerEvents="none";else
window.clearTimeout(d.chromeScrollHack);d.chromeScrollHack=setTimeout(function(){d.chromeScrollHack=-1;b.contentDOM.style.pointerEvents=""},100)},{passive:true});this.notifiedFocused=b.hasFocus;if(g.safari)b.contentDOM.addEventListener("input",function(){return null})}d(e,[{key:"setSelectionOrigin",value:function(b){this.lastSelectionOrigin=b;this.lastSelectionTime=Date.now()}},{key:"ensureHandlers",value:function(d,j){var
f=this,e,a;this.customHandlers=[];var
c=b(j),g;try{for(c.s();!(g=c.n()).done;){var
h=g.value;if(a=(e=h.update(d).spec)===null||e===void
0?void
0:e.domEventHandlers){this.customHandlers.push({plugin:h.value,handlers:a});var
i=function(b){if(f.registeredEvents.indexOf(b)<0&&b!="scroll"){f.registeredEvents.push(b);d.contentDOM.addEventListener(b,function(c){if(!hc(d,c))return;if(f.runCustomHandlers(b,d,c))c.preventDefault()})}};for(var
k
in
a)i(k)}}}catch(b){c.e(b)}finally{c.f()}}},{key:"runCustomHandlers",value:function(h,g,e){var
c=b(this.customHandlers),d;try{for(c.s();!(d=c.n()).done;){var
a=d.value,f=a.handlers[h];if(f)try{if(f.call(a.plugin,e,g)||e.defaultPrevented)return true}catch(b){R(g.state,b)}}}catch(b){c.e(b)}finally{c.f()}return false}},{key:"runScrollHandlers",value:function(d,g){this.lastScrollTop=d.scrollDOM.scrollTop;this.lastScrollLeft=d.scrollDOM.scrollLeft;var
c=b(this.customHandlers),e;try{for(c.s();!(e=c.n()).done;){var
a=e.value,f=a.handlers.scroll;if(f)try{f.call(a.plugin,g,d)}catch(b){R(d.state,b)}}}catch(b){c.e(b)}finally{c.f()}}},{key:"keydown",value:function(d,b){var
e=this;this.lastKeyCode=b.keyCode;this.lastKeyTime=Date.now();if(b.keyCode==9&&Date.now()<this.lastEscPress+2e3)return true;if(g.android&&g.chrome&&!b.synthetic&&(b.keyCode==13||b.keyCode==8)){d.observer.delayAndroidKey(b.key,b.keyCode);return true}var
c;if(g.ios&&(c=e4.find(function(c){return c.keyCode==b.keyCode}))&&!(b.ctrlKey||b.altKey||b.metaKey)&&!b.synthetic){this.pendingIOSKey=c;setTimeout(function(){return e.flushIOSKey(d)},250);return true}return false}},{key:"flushIOSKey",value:function(c){var
b=this.pendingIOSKey;if(!b)return false;this.pendingIOSKey=void
0;return bu(c.contentDOM,b.key,b.keyCode)}},{key:"ignoreDuringComposition",value:function(b){if(!/^key/.test(b.type))return false;if(this.composing>0)return true;if(g.safari&&!g.ios&&Date.now()-this.compositionEndedAt<100){this.compositionEndedAt=0;return true}return false}},{key:"mustFlushObserver",value:function(b){return b.type=="keydown"&&b.keyCode!=229||b.type=="compositionend"&&!g.ios}},{key:"startMouseSelection",value:function(b){if(this.mouseSelection)this.mouseSelection.destroy();this.mouseSelection=b}},{key:"update",value:function(b){if(this.mouseSelection)this.mouseSelection.update(b);if(b.transactions.length)this.lastKeyCode=this.lastSelectionTime=0}},{key:"destroy",value:function(){if(this.mouseSelection)this.mouseSelection.destroy()}}]);return e}(),e4=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],h7=[16,17,18,20,91,92,224,225],j7=function(){function
e(d,b,g,a){c(this,e);this.view=d;this.style=g;this.mustSelect=a;this.lastEvent=b;var
f=d.contentDOM.ownerDocument;f.addEventListener("mousemove",this.move=this.move.bind(this));f.addEventListener("mouseup",this.up=this.up.bind(this));this.extend=b.shiftKey;this.multiple=d.state.facet(w.allowMultipleSelections)&&k3(d,b);this.dragMove=l3(d,b);this.dragging=m5(d,b)&&dR(b)==1?null:false;if(this.dragging===false){b.preventDefault();this.select(b)}}d(e,[{key:"move",value:function(b){if(b.buttons==0)return this.destroy();if(this.dragging!==false)return;this.select(this.lastEvent=b)}},{key:"up",value:function(b){if(this.dragging==null)this.select(this.lastEvent);if(!this.dragging)b.preventDefault();this.destroy()}},{key:"destroy",value:function(){var
b=this.view.contentDOM.ownerDocument;b.removeEventListener("mousemove",this.move);b.removeEventListener("mouseup",this.up);this.view.inputState.mouseSelection=null}},{key:"select",value:function(c){var
b=this.style.get(c,this.extend,this.multiple);if(this.mustSelect||!b.eq(this.view.state.selection)||b.main.assoc!=this.view.state.selection.main.assoc)this.view.dispatch({selection:b,userEvent:"select.pointer",scrollIntoView:true});this.mustSelect=false}},{key:"update",value:function(b){var
c=this;if(b.docChanged&&this.dragging)this.dragging=this.dragging.map(b.changes);if(this.style.update(b))setTimeout(function(){return c.select(c.lastEvent)},20)}}]);return e}();function
k3(d,b){var
c=d.state.facet(gl);return c.length?c[0](b):g.mac?b.metaKey:b.ctrlKey}function
l3(d,b){var
c=d.state.facet(g9);return c.length?c[0](b):g.mac?!b.altKey:!b.ctrlKey}function
m5(a,b){var
g=a.state.selection.main;if(g.empty)return false;var
e=cj(a.root);if(!e||e.rangeCount==0)return true;var
f=e.getRangeAt(0).getClientRects();for(var
d=0;d<f.length;d++){var
c=f[d];if(c.left<=b.clientX&&c.right>=b.clientX&&c.top<=b.clientY&&c.bottom>=b.clientY)return true}return false}function
hc(e,c){if(!c.bubbles)return true;if(c.defaultPrevented)return false;for(var
b=c.target,d;b!=e.contentDOM;b=b.parentNode)if(!b||b.nodeType==11||(d=v.get(b))&&d.ignoreEvent(c))return false;return true}var
B=Object.create(null),dU=Object.create(null),ge=g.ie&&g.ie_version<15||g.ios&&g.webkit_version<604;function
lp(c){var
d=c.dom.parentNode;if(!d)return;var
b=d.appendChild(document.createElement("textarea"));b.style.cssText="position: fixed; left: -10000px; top: 10px";b.focus();setTimeout(function(){c.focus();b.remove();g7(c,b.value)},50)}function
g7(e,h){var
b=e.state,d,g=1,c=b.toText(h),a=c.lines==b.selection.ranges.length,j=d2!=null&&b.selection.ranges.every(function(b){return b.empty})&&d2==c.toString();if(j){var
i=-1;d=b.changeByRange(function(e){var
d=b.doc.lineAt(e.from);if(d.from==i)return{range:e};i=d.from;var
j=b.toText((a?c.line(g++).text:h)+b.lineBreak);return{changes:{from:d.from,insert:j},range:f.cursor(e.from+j.length)}})}else
if(a)d=b.changeByRange(function(b){var
d=c.line(g++);return{changes:{from:b.from,to:b.to,insert:d.text},range:f.cursor(b.from+d.length)}});else
d=b.replaceSelection(c);e.dispatch(d,{userEvent:"input.paste",scrollIntoView:true})}B.keydown=function(b,c){b.inputState.setSelectionOrigin("select");if(c.keyCode==27)b.inputState.lastEscPress=Date.now();else
if(h7.indexOf(c.keyCode)<0)b.inputState.lastEscPress=0};B.touchstart=function(b,c){b.inputState.lastTouchTime=Date.now();b.inputState.setSelectionOrigin("select.pointer")};B.touchmove=function(b){b.inputState.setSelectionOrigin("select.pointer")};dU.touchstart=dU.touchmove={passive:true};B.mousedown=function(c,e){c.observer.flush();if(c.inputState.lastTouchTime>Date.now()-2e3&&dR(e)==1)return;var
d=null,f=b(c.state.facet(h8)),a;try{for(f.s();!(a=f.n()).done;){var
h=a.value;d=h(c,e);if(d)break}}catch(b){f.e(b)}finally{f.f()}if(!d&&e.button==0)d=le(c,e);if(d){var
g=c.root.activeElement!=c.contentDOM;if(g)c.observer.ignore(function(){return hj(c.contentDOM)});c.inputState.startMouseSelection(new
j7(c,e,d,g))}};function
iw(e,c,g,h){if(h==1)return f.cursor(c,g);else
if(h==2)return mv(e.state,c,g);else{var
b=Y.find(e.docView,c),a=e.state.doc.lineAt(b?b.posAtEnd:c),i=b?b.posAtStart:a.from,d=b?b.posAtEnd:a.to;if(d<e.state.doc.length&&d==a.to)d++;return f.range(i,d)}}var
hG=function(c,b){return c>=b.top&&c<=b.bottom},hE=function(c,d,b){return hG(d,b)&&c>=b.left&&c<=b.right};function
mi(h,a,g,e){var
b=Y.find(h.docView,a);if(!b)return 1;var
d=a-b.posAtStart;if(d==0)return 1;if(d==b.length)return-1;var
c=b.coordsAt(d,-1);if(c&&hE(g,e,c))return-1;var
f=b.coordsAt(d,1);if(f&&hE(g,e,f))return 1;return c&&hG(e,c)?-1:1}function
it(d,b){var
c=d.posAtCoords({x:b.clientX,y:b.clientY},false);return{pos:c,bias:mi(d,c,b.clientX,b.clientY)}}var
jt=g.ie&&g.ie_version<=11,hP=null,hQ=0,hR=0;function
dR(b){if(!jt)return b.detail;var
c=hP,d=hR;hP=b;hR=Date.now();return hQ=!c||d>Date.now()-400&&Math.abs(c.clientX-b.clientX)<2&&Math.abs(c.clientY-b.clientY)<2?(hQ+1)%3:1}function
le(g,b){var
d=it(g,b),k=dR(b),c=g.state.selection,j=d,a=b;return{update:function(b){if(b.docChanged){if(d)d.pos=b.changes.mapPos(d.pos);c=c.map(b.changes);a=null}},get:function(h,l,m){var
e;if(a&&h.clientX==a.clientX&&h.clientY==a.clientY)e=j;else{e=j=it(g,h);a=h}if(!e||!d)return c;var
b=iw(g,e.pos,e.bias,k);if(d.pos!=e.pos&&!l){var
n=iw(g,d.pos,d.bias,k),i=Math.min(n.from,b.from),o=Math.max(n.to,b.to);b=i<b.from?f.range(i,o):f.range(o,i)}if(l)return c.replaceRange(c.main.extend(b.from,b.to));else
if(m&&c.ranges.length>1&&c.ranges.some(function(c){return c.eq(b)}))return n_(c,b);else
if(m)return c.addRange(b);else
return f.create([b])}}}function
n_(c,d){for(var
b=0;;b++)if(c.ranges[b].eq(d))return f.create(c.ranges.slice(0,b).concat(c.ranges.slice(b+1)),c.mainIndex==b?0:c.mainIndex-(c.mainIndex>b?1:0))}B.dragstart=function(d,b){var
c=d.state.selection.main,e=d.inputState.mouseSelection;if(e)e.dragging=c;if(b.dataTransfer){b.dataTransfer.setData("Text",d.state.sliceDoc(c.from,c.to));b.dataTransfer.effectAllowed="copyMove"}};function
g_(c,a,h,i){if(!h)return;var
f=c.posAtCoords({x:a.clientX,y:a.clientY},false);a.preventDefault();var
b=c.inputState.mouseSelection,e=i&&b&&b.dragging&&b.dragMove?{from:b.dragging.from,to:b.dragging.to}:null,g={from:f,insert:h},d=c.state.changes(e?[e,g]:g);c.focus();c.dispatch({changes:d,selection:{anchor:d.mapPos(f,-1),head:d.mapPos(f,1)},userEvent:e?"move.drop":"input.drop"})}B.drop=function(d,b){if(!b.dataTransfer)return;if(d.state.readOnly)return b.preventDefault();var
c=b.dataTransfer.files;if(c&&c.length)(function(){b.preventDefault();var
a=Array(c.length),h=0,f=function(){if(++h==c.length)g_(d,b,a.filter(function(b){return b!=null}).join(d.state.lineBreak),false)},g=function(d){var
b=new
FileReader();b.onerror=f;b.onload=function(){if(!/[\x00-\x08\x0e-\x1f]{2}/.test(b.result))a[d]=b.result;f()};b.readAsText(c[d])};for(var
e=0;e<c.length;e++)g(e)}());else
g_(d,b,b.dataTransfer.getData("Text"),true)};B.paste=function(b,c){if(b.state.readOnly)return c.preventDefault();b.observer.flush();var
d=ge?null:c.clipboardData;if(d){g7(b,d.getData("text/plain"));c.preventDefault()}else
lp(b)};function
lo(e,d){var
c=e.dom.parentNode;if(!c)return;var
b=c.appendChild(document.createElement("textarea"));b.style.cssText="position: fixed; left: -10000px; top: 10px";b.value=d;b.focus();b.selectionEnd=d.length;b.selectionStart=0;setTimeout(function(){b.remove();e.focus()},50)}function
lB(c){var
a=[],h=[],k=false,e=b(c.selection.ranges),i;try{for(e.s();!(i=e.n()).done;){var
g=i.value;if(!g.empty){a.push(c.sliceDoc(g.from,g.to));h.push(g)}}}catch(b){e.e(b)}finally{e.f()}if(!a.length){var
l=-1,f=b(c.selection.ranges),j;try{for(f.s();!(j=f.n()).done;){var
m=j.value.from,d=c.doc.lineAt(m);if(d.number>l){a.push(d.text);h.push({from:d.from,to:Math.min(c.doc.length,d.to+1)})}l=d.number}}catch(b){f.e(b)}finally{f.f()}k=true}return{text:a.join(c.lineBreak),ranges:h,linewise:k}}var
d2=null;B.copy=B.cut=function(c,f){var
d=lB(c.state),b=d.text,g=d.ranges,a=d.linewise;if(!b&&!a)return;d2=a?b:null;var
e=ge?null:f.clipboardData;if(e){f.preventDefault();e.clearData();e.setData("text/plain",b)}else
lo(c,b);if(f.type=="cut"&&!c.state.readOnly)c.dispatch({changes:g,scrollIntoView:true,userEvent:"delete.cut"})};function
ji(b){setTimeout(function(){if(b.hasFocus!=b.inputState.notifiedFocused)b.update([])},10)}B.focus=function(b){b.inputState.lastFocusTime=Date.now();if(!b.scrollDOM.scrollTop&&(b.inputState.lastScrollTop||b.inputState.lastScrollLeft)){b.scrollDOM.scrollTop=b.inputState.lastScrollTop;b.scrollDOM.scrollLeft=b.inputState.lastScrollLeft}ji(b)};B.blur=function(b){b.observer.clearSelectionRange();ji(b)};function
hm(b,c){if(b.docView.compositionDeco.size){b.inputState.rapidCompositionStart=c;try{b.update([])}finally{b.inputState.rapidCompositionStart=false}}}B.compositionstart=B.compositionupdate=function(b){if(b.inputState.compositionFirstChange==null)b.inputState.compositionFirstChange=true;if(b.inputState.composing<0){b.inputState.composing=0;if(b.docView.compositionDeco.size){b.observer.flush();hm(b,true)}}};B.compositionend=function(b){b.inputState.composing=-1;b.inputState.compositionEndedAt=Date.now();b.inputState.compositionFirstChange=null;setTimeout(function(){if(b.inputState.composing<0)hm(b,false)},50)};B.contextmenu=function(b){b.inputState.lastContextMenu=Date.now()};B.beforeinput=function(c,e){var
d,b;if(g.chrome&&g.android&&(b=e4.find(function(b){return b.inputType==e.inputType}))){c.observer.delayAndroidKey(b.key,b.keyCode);if(b.key=="Backspace"||b.key=="Delete"){var
f=((d=window.visualViewport)===null||d===void
0?void
0:d.height)||0;setTimeout(function(){var
b;if((((b=window.visualViewport)===null||b===void
0?void
0:b.height)||0)>f+10&&c.hasFocus){c.contentDOM.blur();c.focus()}},100)}}};var
jo=["pre-wrap","normal","pre-line","break-spaces"],jR=function(){function
b(){c(this,b);this.doc=o.empty;this.lineWrapping=false;this.heightSamples={};this.lineHeight=14;this.charWidth=7;this.lineLength=30;this.heightChanged=false}d(b,[{key:"heightForGap",value:function(c,d){var
b=this.doc.lineAt(d).number-this.doc.lineAt(c).number+1;if(this.lineWrapping)b+=Math.ceil((d-c-b*this.lineLength*0.5)/this.lineLength);return this.lineHeight*b}},{key:"heightForLine",value:function(b){if(!this.lineWrapping)return this.lineHeight;var
c=1+Math.max(0,Math.ceil((b-this.lineLength)/(this.lineLength-5)));return c*this.lineHeight}},{key:"setDoc",value:function(b){this.doc=b;return this}},{key:"mustRefreshForWrapping",value:function(b){return jo.indexOf(b)>-1!=this.lineWrapping}},{key:"mustRefreshForHeights",value:function(d){var
e=false;for(var
b=0;b<d.length;b++){var
c=d[b];if(c<0)b++;else
if(!this.heightSamples[Math.floor(c*10)]){e=true;this.heightSamples[Math.floor(c*10)]=true}}return e}},{key:"refresh",value:function(i,f,g,h,e){var
a=jo.indexOf(i)>-1,c=Math.round(f)!=Math.round(this.lineHeight)||this.lineWrapping!=a;this.lineWrapping=a;this.lineHeight=f;this.charWidth=g;this.lineLength=h;if(c){this.heightSamples={};for(var
b=0;b<e.length;b++){var
d=e[b];if(d<0)b++;else
this.heightSamples[Math.floor(d*10)]=true}}return c}}]);return b}(),j5=function(){function
b(d,e){c(this,b);this.from=d;this.heights=e;this.index=0}d(b,[{key:"more",get:function(){return this.index<this.heights.length}}]);return b}(),aP=function(){function
e(b,f,a,d,g){c(this,e);this.from=b;this.length=f;this.top=a;this.height=d;this.type=g}d(e,[{key:"to",get:function(){return this.from+this.length}},{key:"bottom",get:function(){return this.top+this.height}},{key:"join",value:function(b){var
c=(Array.isArray(this.type)?this.type:[this]).concat(Array.isArray(b.type)?b.type:[b]);return new
e(this.from,this.length+b.length,this.top,this.height+b.height,c)}}]);return e}(),r=function(b){b[b["ByPos"]=0]="ByPos";b[b["ByHeight"]=1]="ByHeight";b[b["ByPosNoHeight"]=2]="ByPosNoHeight";return b}(r||(r={})),bP=1e-3,ab=function(){function
a(e,d){var
b=arguments.length>2&&arguments[2]!==undefined?arguments[2]:2;c(this,a);this.length=e;this.height=d;this.flags=b}d(a,[{key:"outdated",get:function(){return(this.flags&2)>0},set:function(b){this.flags=(b?2:0)|this.flags&~2}},{key:"setHeight",value:function(c,b){if(this.height!=b){if(Math.abs(this.height-b)>bP)c.heightChanged=true;this.height=b}}},{key:"replace",value:function(c,d,b){return a.of(b)}},{key:"decomposeLeft",value:function(c,b){b.push(this)}},{key:"decomposeRight",value:function(c,b){b.push(this)}},{key:"applyChanges",value:function(m,i,k,f){var
e=this;for(var
b=f.length-1;b>=0;b--){var
g=f[b],c=g.fromA,a=g.toA,h=g.fromB,l=g.toB,d=e.lineAt(c,r.ByPosNoHeight,i,0,0),j=d.to>=a?d:e.lineAt(a,r.ByPosNoHeight,i,0,0);l+=j.to-a;a=j.to;while(b>0&&d.from<=f[b-1].toA){c=f[b-1].fromA;h=f[b-1].fromB;b--;if(c<d.from)d=e.lineAt(c,r.ByPosNoHeight,i,0,0)}h+=d.from-c;c=d.from;var
n=j9.build(k,m,h,l);e=e.replace(c,a,n)}return e.updateHeight(k,0)}}],[{key:"empty",value:function(){return new
ac(0,0)}},{key:"of",value:function(b){if(b.length==1)return b[0];var
c=0,d=b.length,h=0,g=0;for(;;)if(c==d)if(h>g*2){var
f=b[c-1];if(f["break"])b.splice(--c,1,f.left,null,f.right);else
b.splice(--c,1,f.left,f.right);d+=1+f["break"];h-=f.size}else
if(g>h*2){var
e=b[d];if(e["break"])b.splice(d,1,e.left,null,e.right);else
b.splice(d,1,e.left,e.right);d+=2+e["break"];g-=e.size}else
break;else
if(h<g){var
k=b[c++];if(k)h+=k.size}else{var
j=b[--d];if(j)g+=j.size}var
i=0;if(b[c-1]==null){i=1;c--}else
if(b[c]==null){i=1;d++}return new
jQ(a.of(b.slice(0,c)),i,a.of(b.slice(d)))}}]);return a}();ab.prototype.size=1;var
eQ=function(e){l(b,e);var
f=k(b);function
b(a,e,g){var
d;c(this,b);d=f.call(this,a,e);d.type=g;return d}d(b,[{key:"blockAt",value:function(e,d,c,b){return new
aP(b,this.length,c,this.height,this.type)}},{key:"lineAt",value:function(f,e,b,d,c){return this.blockAt(0,b,d,c)}},{key:"forEachLine",value:function(e,f,c,a,b,d){if(e<=b+this.length&&f>=b)d(this.blockAt(0,c,a,b))}},{key:"updateHeight",value:function(d){var
c=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0,e=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false,b=arguments.length>3?arguments[3]:undefined;if(b&&b.from<=c&&b.more)this.setHeight(d,b.heights[b.index++]);this.outdated=false;return this}},{key:"toString",value:function(){return"block(".concat(this.length,")")}}]);return b}(ab),ac=function(b){l(e,b);var
f=k(e);function
e(a,d){var
b;c(this,e);b=f.call(this,a,d,p.Text);b.collapsed=0;b.widgetHeight=0;return b}d(e,[{key:"replace",value:function(d,f,c){var
b=c[0];if(c.length==1&&(b
instanceof
e||b
instanceof
aR&&b.flags&4)&&Math.abs(this.length-b.length)<10){if(b
instanceof
aR)b=new
e(b.length,this.height);else
b.height=this.height;if(!this.outdated)b.outdated=false;return b}else
return ab.of(c)}},{key:"updateHeight",value:function(c){var
e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0,d=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false,b=arguments.length>3?arguments[3]:undefined;if(b&&b.from<=e&&b.more)this.setHeight(c,b.heights[b.index++]);else
if(d||this.outdated)this.setHeight(c,Math.max(this.widgetHeight,c.heightForLine(this.length-this.collapsed)));this.outdated=false;return this}},{key:"toString",value:function(){return"line(".concat(this.length).concat(this.collapsed?-this.collapsed:"").concat(this.widgetHeight?":"+this.widgetHeight:"",")")}}]);return e}(eQ),aR=function(e){l(b,e);var
f=k(b);function
b(d){c(this,b);return f.call(this,d,0)}d(b,[{key:"lines",value:function(b,e){var
c=b.lineAt(e).number,d=b.lineAt(e+this.length).number;return{firstLine:c,lastLine:d,lineHeight:this.height/(d-c+1)}}},{key:"blockAt",value:function(i,e,g,l){var
b=this.lines(e,l),f=b.firstLine,j=b.lastLine,c=b.lineHeight,a=Math.max(0,Math.min(j-f,Math.floor((i-g)/c))),d=e.line(f+a),h=d.from,k=d.length;return new
aP(h,k,g+c*a,c,p.Text)}},{key:"lineAt",value:function(d,j,b,i,h){if(j==r.ByHeight)return this.blockAt(d,b,i,h);if(j==r.ByPosNoHeight){var
e=b.lineAt(d),a=e.from,o=e.to;return new
aP(a,o-a,0,0,p.Text)}var
f=this.lines(b,h),k=f.firstLine,g=f.lineHeight,c=b.lineAt(d),l=c.from,m=c.length,n=c.number;return new
aP(l,m,i+g*(n-k),g,p.Text)}},{key:"forEachLine",value:function(h,l,g,f,e,j){var
a=this.lines(g,e),k=a.firstLine,d=a.lineHeight;for(var
c=Math.max(h,e),i=Math.min(e+this.length,l);c<=i;){var
b=g.lineAt(c);if(c==h)f+=d*(b.number-k);j(new
aP(b.from,b.length,f,d,p.Text));f+=d;c=b.to+1}}},{key:"replace",value:function(e,g,c){var
d=this.length-g;if(d>0){var
a=c[c.length-1];if(a
instanceof
b)c[c.length-1]=new
b(a.length+d);else
c.push(null,new
b(d-1))}if(e>0){var
f=c[0];if(f
instanceof
b)c[0]=new
b(e+f.length);else
c.unshift(new
b(e-1),null)}return ab.of(c)}},{key:"decomposeLeft",value:function(d,c){c.push(new
b(d-1),null)}},{key:"decomposeRight",value:function(c,d){d.push(null,new
b(this.length-c-1))}},{key:"updateHeight",value:function(e){var
d=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0,m=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false,c=arguments.length>3?arguments[3]:undefined,h=d+this.length;if(c&&c.from<=d+this.length&&c.more){var
f=[],a=Math.max(d,c.from),g=-1,n=e.heightChanged;if(c.from>d)f.push(new
b(c.from-d-1).updateHeight(e,d));while(a<=h&&c.more){var
j=e.doc.lineAt(a).length;if(f.length)f.push(null);var
i=c.heights[c.index++];if(g==-1)g=i;else
if(Math.abs(i-g)>=bP)g=-2;var
k=new
ac(j,i);k.outdated=false;f.push(k);a+=j+1}if(a<=h)f.push(null,new
b(h-a).updateHeight(e,a));var
l=ab.of(f);e.heightChanged=n||g<0||Math.abs(l.height-this.height)>=bP||Math.abs(g-this.lines(e.doc,d).lineHeight)>=bP;return l}else
if(m||this.outdated){this.setHeight(e,e.heightForGap(d,d+this.length));this.outdated=false}return this}},{key:"toString",value:function(){return"gap(".concat(this.length,")")}}]);return b}(ab),jQ=function(f){l(e,f);var
g=k(e);function
e(d,a,f){var
b;c(this,e);b=g.call(this,d.length+a+f.length,d.height+f.height,a|(d.outdated||f.outdated?2:0));b.left=d;b.right=f;b.size=d.size+f.size;return b}d(e,[{key:"break",get:function(){return this.flags&1}},{key:"blockAt",value:function(b,c,f,e){var
d=f+this.left.height;return b<d?this.left.blockAt(b,c,f,e):this.right.blockAt(b,c,d,e+this.left.length+this["break"])}},{key:"lineAt",value:function(f,e,d,i,g){var
h=i+this.left.height,b=g+this.left.length+this["break"],a=e==r.ByHeight?f<h:f<b,c=a?this.left.lineAt(f,e,d,i,g):this.right.lineAt(f,e,d,h,b);if(this["break"]||(a?c.to<b:c.from>b))return c;var
j=e==r.ByPosNoHeight?r.ByPosNoHeight:r.ByPos;return a?c.join(this.right.lineAt(b,j,d,h,b)):this.left.lineAt(b,j,d,i,g).join(c)}},{key:"forEachLine",value:function(c,d,e,h,g,f){var
i=h+this.left.height,a=g+this.left.length+this["break"];if(this["break"]){if(c<a)this.left.forEachLine(c,d,e,h,g,f);if(d>=a)this.right.forEachLine(c,d,e,i,a,f)}else{var
b=this.lineAt(a,r.ByPos,e,h,g);if(c<b.from)this.left.forEachLine(c,b.from-1,e,h,g,f);if(b.to>=c&&b.from<=d)f(b);if(d>b.to)this.right.forEachLine(b.to+1,d,e,i,a,f)}}},{key:"replace",value:function(d,e,a){var
g=this.left.length+this["break"];if(e<g)return this.balanced(this.left.replace(d,e,a),this.right);if(d>this.left.length)return this.balanced(this.left,this.right.replace(d-g,e-g,a));var
c=[];if(d>0)this.decomposeLeft(d,c);var
i=c.length,f=b(a),h;try{for(f.s();!(h=f.n()).done;){var
j=h.value;c.push(j)}}catch(b){f.e(b)}finally{f.f()}if(d>0)h5(c,i-1);if(e<this.length){var
k=c.length;this.decomposeRight(e,c);h5(c,k)}return ab.of(c)}},{key:"decomposeLeft",value:function(c,d){var
b=this.left.length;if(c<=b)return this.left.decomposeLeft(c,d);d.push(this.left);if(this["break"]){b++;if(c>=b)d.push(null)}if(c>b)this.right.decomposeLeft(c-b,d)}},{key:"decomposeRight",value:function(b,c){var
e=this.left.length,d=e+this["break"];if(b>=d)return this.right.decomposeRight(b-d,c);if(b<e)this.left.decomposeRight(b,c);if(this["break"]&&b<d)c.push(null);c.push(this.right)}},{key:"balanced",value:function(b,c){if(b.size>2*c.size||c.size>2*b.size)return ab.of(this["break"]?[b,null,c]:[b,c]);this.left=b;this.right=c;this.height=b.height+c.height;this.outdated=b.outdated||c.outdated;this.size=b.size+c.size;this.length=b.length+this["break"]+c.length;return this}},{key:"updateHeight",value:function(a){var
f=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0,e=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false,b=arguments.length>3?arguments[3]:undefined,c=this.left,d=this.right,h=f+c.length+this["break"],g=null;if(b&&b.from<=f+c.length&&b.more)g=c=c.updateHeight(a,f,e,b);else
c.updateHeight(a,f,e);if(b&&b.from<=h+d.length&&b.more)g=d=d.updateHeight(a,h,e,b);else
d.updateHeight(a,h,e);if(g)return this.balanced(c,d);this.height=this.left.height+this.right.height;this.outdated=false;return this}},{key:"toString",value:function(){return this.left+(this["break"]?" ":"-")+this.right}}]);return e}(ab);function
h5(c,b){var
e,d;if(c[b]==null&&(e=c[b-1])instanceof
aR&&(d=c[b+1])instanceof
aR)c.splice(b-1,3,new
aR(e.length+1+d.length))}var
n9=5,j9=function(){function
e(b,d){c(this,e);this.pos=b;this.oracle=d;this.nodes=[];this.lineStart=-1;this.lineEnd=-1;this.covering=null;this.writtenTo=b}d(e,[{key:"isCovered",get:function(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}},{key:"span",value:function(e,c){if(this.lineStart>-1){var
b=Math.min(c,this.lineEnd),d=this.nodes[this.nodes.length-1];if(d
instanceof
ac)d.length+=b-this.pos;else
if(b>this.pos||!this.isCovered)this.nodes.push(new
ac(b-this.pos,-1));this.writtenTo=b;if(c>b){this.nodes.push(null);this.writtenTo++;this.lineStart=-1}}this.pos=c}},{key:"point",value:function(d,e,b){if(d<e||b.heightRelevant){var
c=b.widget?b.widget.estimatedHeight:0;if(c<0)c=this.oracle.lineHeight;var
f=e-d;if(b.block)this.addBlock(new
eQ(f,c,b.type));else
if(f||c>=n9)this.addLineDeco(c,f)}else
if(e>d)this.span(d,e);if(this.lineEnd>-1&&this.lineEnd<this.pos)this.lineEnd=this.oracle.doc.lineAt(this.pos).to}},{key:"enterLine",value:function(){if(this.lineStart>-1)return;var
c=this.oracle.doc.lineAt(this.pos),b=c.from,d=c.to;this.lineStart=b;this.lineEnd=d;if(this.writtenTo<b){if(this.writtenTo<b-1||this.nodes[this.nodes.length-1]==null)this.nodes.push(this.blankContent(this.writtenTo,b-1));this.nodes.push(null)}if(this.pos>b)this.nodes.push(new
ac(this.pos-b,-1));this.writtenTo=this.pos}},{key:"blankContent",value:function(b,d){var
c=new
aR(d-b);if(this.oracle.doc.lineAt(b).to==d)c.flags|=4;return c}},{key:"ensureLine",value:function(){this.enterLine();var
b=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(b
instanceof
ac)return b;var
c=new
ac(0,-1);this.nodes.push(c);return c}},{key:"addBlock",value:function(b){this.enterLine();if(b.type==p.WidgetAfter&&!this.isCovered)this.ensureLine();this.nodes.push(b);this.writtenTo=this.pos=this.pos+b.length;if(b.type!=p.WidgetBefore)this.covering=b}},{key:"addLineDeco",value:function(d,c){var
b=this.ensureLine();b.length+=c;b.collapsed+=c;b.widgetHeight=Math.max(b.widgetHeight,d);this.writtenTo=this.pos=this.pos+c}},{key:"finish",value:function(g){var
f=this.nodes.length==0?null:this.nodes[this.nodes.length-1];if(this.lineStart>-1&&!(f
instanceof
ac)&&!this.isCovered)this.nodes.push(new
ac(0,-1));else
if(this.writtenTo<this.pos||f==null)this.nodes.push(this.blankContent(this.writtenTo,this.pos));var
a=g,c=b(this.nodes),e;try{for(c.s();!(e=c.n()).done;){var
d=e.value;if(d
instanceof
ac)d.updateHeight(this.oracle,a);a+=d?d.length:1}}catch(b){c.e(b)}finally{c.f()}return this.nodes}}],[{key:"build",value:function(f,d,b,a){var
c=new
e(b,f);q.spans(d,b,a,c,0);return c.finish(b)}}]);return e}();function
mD(c,d,e){var
b=new
jF();q.compare(c,d,e,b,0);return b.changes}var
jF=function(){function
b(){c(this,b);this.changes=[]}d(b,[{key:"compareRange",value:function(){}},{key:"comparePoint",value:function(d,e,b,c){if(d<e||b&&b.heightRelevant||c&&c.heightRelevant)dm(d,e,this.changes,5)}}]);return b}();function
o3(h,k){var
d=h.getBoundingClientRect(),e=Math.max(0,d.left),i=Math.min(innerWidth,d.right),a=Math.max(0,d.top),g=Math.min(innerHeight,d.bottom),l=h.ownerDocument.body;for(var
c=h.parentNode;c&&c!=l;)if(c.nodeType==1){var
b=c,j=window.getComputedStyle(b);if((b.scrollHeight>b.clientHeight||b.scrollWidth>b.clientWidth)&&j.overflow!="visible"){var
f=b.getBoundingClientRect();e=Math.max(e,f.left);i=Math.min(i,f.right);a=Math.max(a,f.top);g=Math.min(g,f.bottom)}c=j.position=="absolute"||j.position=="fixed"?b.offsetParent:b.parentNode}else
if(c.nodeType==11)c=c.host;else
break;return{left:e-d.left,right:Math.max(e,i)-d.left,top:a-(d.top+k),bottom:Math.max(a,g)-(d.top+k)}}function
mo(d,c){var
b=d.getBoundingClientRect();return{left:0,right:b.right-b.left,top:c,bottom:b.bottom-(b.top+c)}}var
cW=function(){function
b(d,f,e){c(this,b);this.from=d;this.to=f;this.size=e}d(b,[{key:"draw",value:function(b){return i.replace({widget:new
jX(this.size,b)}).range(this.from,this.to)}}],[{key:"same",value:function(c,f){if(c.length!=f.length)return false;for(var
b=0;b<c.length;b++){var
d=c[b],e=f[b];if(d.from!=e.from||d.to!=e.to||d.size!=e.size)return false}return true}}]);return b}(),jX=function(e){l(b,e);var
f=k(b);function
b(e,a){var
d;c(this,b);d=f.call(this);d.size=e;d.vertical=a;return d}d(b,[{key:"eq",value:function(b){return b.size==this.size&&b.vertical==this.vertical}},{key:"toDOM",value:function(){var
b=document.createElement("div");if(this.vertical)b.style.height=this.size+"px";else{b.style.width=this.size+"px";b.style.height="2px";b.style.display="inline-block"}return b}},{key:"estimatedHeight",get:function(){return this.vertical?this.size:-1}}]);return b}(am),fe=function(){function
e(b){c(this,e);this.state=b;this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0};this.inView=true;this.paddingTop=0;this.paddingBottom=0;this.contentDOMWidth=0;this.contentDOMHeight=0;this.editorHeight=0;this.editorWidth=0;this.heightOracle=new
jR();this.scaler=eR;this.scrollTarget=null;this.printing=false;this.mustMeasureContent=true;this.defaultTextDirection=t.RTL;this.visibleRanges=[];this.mustEnforceCursorAssoc=false;this.stateDeco=b.facet(bt).filter(function(b){return typeof
b!="function"});this.heightMap=ab.empty().applyChanges(this.stateDeco,o.empty,this.heightOracle.setDoc(b.doc),[new
a9(0,0,0,b.doc.length)]);this.viewport=this.getViewport(0,null);this.updateViewportLines();this.updateForViewport();this.lineGaps=this.ensureLineGaps([]);this.lineGapDeco=i.set(this.lineGaps.map(function(b){return b.draw(false)}));this.computeVisibleRanges()}d(e,[{key:"updateForViewport",value:function(){var
f=this,c=[this.viewport],d=this.state.selection.main,e=function(a){var
b=a?d.head:d.anchor;if(!c.some(function(c){var
d=c.from,e=c.to;return b>=d&&b<=e})){var
e=f.lineBlockAt(b),g=e.from,h=e.to;c.push(new
bW(g,h))}};for(var
b=0;b<=1;b++)e(b);this.viewports=c.sort(function(b,c){return b.from-c.from});this.scaler=this.heightMap.height<=7e6?eR:new
jv(this.heightOracle.doc,this.heightMap,this.viewports)}},{key:"updateViewportLines",value:function(){var
b=this;this.viewportLines=[];this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.state.doc,0,0,function(c){b.viewportLines.push(b.scaler.scale==1?c:bA(c,b.scaler))})}},{key:"update",value:function(b){var
d=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;this.state=b.state;var
a=this.stateDeco;this.stateDeco=this.state.facet(bt).filter(function(b){return typeof
b!="function"});var
f=b.changedRanges,e=a9.extendWithRanges(f,mD(a,this.stateDeco,b?b.changes:X.empty(this.state.doc.length))),g=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(this.stateDeco,b.startState.doc,this.heightOracle.setDoc(this.state.doc),e);if(this.heightMap.height!=g)b.flags|=2;var
c=e.length?this.mapViewport(this.viewport,b.changes):this.viewport;if(d&&(d.range.head<c.from||d.range.head>c.to)||!this.viewportIsAppropriate(c))c=this.getViewport(0,d);var
h=!b.changes.empty||b.flags&2||c.from!=this.viewport.from||c.to!=this.viewport.to;this.viewport=c;this.updateForViewport();if(h)this.updateViewportLines();if(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,b.changes)));b.flags|=this.computeVisibleRanges();if(d)this.scrollTarget=d;if(!this.mustEnforceCursorAssoc&&b.selectionSet&&b.view.lineWrapping&&b.state.selection.main.empty&&b.state.selection.main.assoc)this.mustEnforceCursorAssoc=true}},{key:"measure",value:function(c){var
a=c.contentDOM,l=window.getComputedStyle(a),d=this.heightOracle,y=l.whiteSpace;this.defaultTextDirection=l.direction=="rtl"?t.RTL:t.LTR;var
f=this.heightOracle.mustRefreshForWrapping(y),o=f||this.mustMeasureContent||this.contentDOMHeight!=a.clientHeight;this.contentDOMHeight=a.clientHeight;this.mustMeasureContent=false;var
e=0,h=0,w=parseInt(l.paddingTop)||0,v=parseInt(l.paddingBottom)||0;if(this.paddingTop!=w||this.paddingBottom!=v){this.paddingTop=w;this.paddingBottom=v;e|=8|2}if(this.editorWidth!=c.scrollDOM.clientWidth){if(d.lineWrapping)o=true;this.editorWidth=c.scrollDOM.clientWidth;e|=8}var
p=(this.printing?mo:o3)(a,this.paddingTop),k=p.top-this.pixelViewport.top,j=p.bottom-this.pixelViewport.bottom;this.pixelViewport=p;var
m=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(m!=this.inView){this.inView=m;if(m)o=true}if(!this.inView)return 0;var
i=a.clientWidth;if(this.contentDOMWidth!=i||this.editorHeight!=c.scrollDOM.clientHeight){this.contentDOMWidth=i;this.editorHeight=c.scrollDOM.clientHeight;e|=8}if(o){var
n=c.docView.measureVisibleLineHeights(this.viewport);if(d.mustRefreshForHeights(n))f=true;if(f||d.lineWrapping&&Math.abs(i-this.contentDOMWidth)>d.charWidth){var
s=c.docView.measureTextSize(),A=s.lineHeight,u=s.charWidth;f=d.refresh(y,A,u,i/u,n);if(f){c.docView.minWidth=0;e|=8}}if(k>0&&j>0)h=Math.max(k,j);else
if(k<0&&j<0)h=Math.min(k,j);d.heightChanged=false;var
g=b(this.viewports),r;try{for(g.s();!(r=g.n()).done;){var
q=r.value,z=q.from==this.viewport.from?n:c.docView.measureVisibleLineHeights(q);this.heightMap=this.heightMap.updateHeight(d,0,f,new
j5(q.from,z))}}catch(b){g.e(b)}finally{g.f()}if(d.heightChanged)e|=2}var
x=!this.viewportIsAppropriate(this.viewport,h)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);if(x)this.viewport=this.getViewport(h,this.scrollTarget);this.updateForViewport();if(e&2||x)this.updateViewportLines();if(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)this.updateLineGaps(this.ensureLineGaps(f?[]:this.lineGaps));e|=this.computeVisibleRanges();if(this.mustEnforceCursorAssoc){this.mustEnforceCursorAssoc=false;c.docView.enforceCursorAssoc()}return e}},{key:"visibleTop",get:function(){return this.scaler.fromDOM(this.pixelViewport.top)}},{key:"visibleBottom",get:function(){return this.scaler.fromDOM(this.pixelViewport.bottom)}},{key:"getViewport",value:function(j,d){var
i=0.5-Math.max(-0.5,Math.min(0.5,j/1e3/2)),c=this.heightMap,b=this.state.doc,l=this.visibleTop,k=this.visibleBottom,f=new
bW(c.lineAt(l-i*1e3,r.ByHeight,b,0,0).from,c.lineAt(k+(1-i)*1e3,r.ByHeight,b,0,0).to);if(d){var
g=d.range.head;if(g<f.from||g>f.to){var
h=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),a=c.lineAt(g,r.ByPos,b,0,0),e;if(d.y=="center")e=(a.top+a.bottom)/2-h/2;else
if(d.y=="start"||d.y=="nearest"&&g<f.from)e=a.top;else
e=a.bottom-h;f=new
bW(c.lineAt(e-1e3/2,r.ByHeight,b,0,0).from,c.lineAt(e+h+1e3/2,r.ByHeight,b,0,0).to)}}return f}},{key:"mapViewport",value:function(c,b){var
d=b.mapPos(c.from,-1),e=b.mapPos(c.to,1);return new
bW(this.heightMap.lineAt(d,r.ByPos,this.state.doc,0,0).from,this.heightMap.lineAt(e,r.ByPos,this.state.doc,0,0).to)}},{key:"viewportIsAppropriate",value:function(b){var
e=b.from,f=b.to,c=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;if(!this.inView)return true;var
i=this.heightMap.lineAt(e,r.ByPos,this.state.doc,0,0),a=i.top,j=this.heightMap.lineAt(f,r.ByPos,this.state.doc,0,0),d=j.bottom,h=this.visibleTop,g=this.visibleBottom;return(e==0||a<=h-Math.max(10,Math.min(-c,250)))&&(f==this.state.doc.length||d>=g+Math.max(10,Math.min(c,250)))&&a>h-2*1e3&&d<g+2*1e3}},{key:"mapLineGaps",value:function(f,e){if(!f.length||e.empty)return f;var
g=[],d=b(f),a;try{for(d.s();!(a=d.n()).done;){var
c=a.value;if(!e.touchesRange(c.from,c.to))g.push(new
cW(e.mapPos(c.from),e.mapPos(c.to),c.size))}}catch(b){d.e(b)}finally{d.f()}return g}},{key:"ensureLineGaps",value:function(o){var
c=this,h=[];if(this.defaultTextDirection!=t.LTR)return h;var
d=b(this.viewportLines),j;try{var
e=function(){var
b=j.value;if(b.length<4e3)return"continue";var
e=nm(b.from,b.to,c.stateDeco);if(e.total<4e3)return"continue";var
a=void
0,g=void
0;if(c.heightOracle.lineWrapping){var
l=2e3/c.heightOracle.lineLength*c.heightOracle.lineHeight;a=ce(e,(c.visibleTop-b.top-l)/b.height);g=ce(e,(c.visibleBottom-b.top+l)/b.height)}else{var
n=e.total*c.heightOracle.charWidth,m=2e3*c.heightOracle.charWidth;a=ce(e,(c.pixelViewport.left-m)/n);g=ce(e,(c.pixelViewport.right+m)/n)}var
f=[];if(a>b.from)f.push({from:b.from,to:a});if(g<b.to)f.push({from:g,to:b.to});var
d=c.state.selection.main;if(d.from>=b.from&&d.from<=b.to)gR(f,d.from-10,d.from+10);if(!d.empty&&d.to>=b.from&&d.to<=b.to)gR(f,d.to-10,d.to+10);var
p=function(){var
a=k[i],d=a.from,f=a.to;if(f-d>1e3)h.push(md(o,function(c){return c.from>=b.from&&c.to<=b.to&&Math.abs(c.from-d)<1e3&&Math.abs(c.to-f)<1e3})||new
cW(d,f,c.gapSize(b,d,f,e)))};for(var
i=0,k=f;i<k.length;i++)p()};for(d.s();!(j=d.n()).done;){var
f=e();if(f==="continue")continue}}catch(b){d.e(b)}finally{d.f()}return h}},{key:"gapSize",value:function(e,d,f,b){var
c=hg(b,f)-hg(b,d);return this.heightOracle.lineWrapping?e.height*c:b.total*this.heightOracle.charWidth*c}},{key:"updateLineGaps",value:function(b){var
c=this;if(!cW.same(b,this.lineGaps)){this.lineGaps=b;this.lineGapDeco=i.set(b.map(function(b){return b.draw(c.heightOracle.lineWrapping)}))}}},{key:"computeVisibleRanges",value:function(){var
c=this.stateDeco;if(this.lineGaps.length)c=c.concat(this.lineGapDeco);var
b=[];q.spans(c,this.viewport.from,this.viewport.to,{span:function(c,d){b.push({from:c,to:d})},point:function(){}},20);var
d=b.length!=this.visibleRanges.length||this.visibleRanges.some(function(d,c){return d.from!=b[c].from||d.to!=b[c].to});this.visibleRanges=b;return d?4:0}},{key:"lineBlockAt",value:function(b){return b>=this.viewport.from&&b<=this.viewport.to&&this.viewportLines.find(function(c){return c.from<=b&&c.to>=b})||bA(this.heightMap.lineAt(b,r.ByPos,this.state.doc,0,0),this.scaler)}},{key:"lineBlockAtHeight",value:function(b){return bA(this.heightMap.lineAt(this.scaler.fromDOM(b),r.ByHeight,this.state.doc,0,0),this.scaler)}},{key:"elementAtHeight",value:function(b){return bA(this.heightMap.blockAt(this.scaler.fromDOM(b),this.state.doc,0,0),this.scaler)}},{key:"docHeight",get:function(){return this.scaler.toDOM(this.heightMap.height)}},{key:"contentHeight",get:function(){return this.docHeight+this.paddingTop+this.paddingBottom}}]);return e}(),bW=d(function
b(d,e){c(this,b);this.from=d;this.to=e});function
nm(f,c,a){var
d=[],b=f,e=0;q.spans(a,f,c,{span:function(){},point:function(c,f){if(c>b){d.push({from:b,to:c});e+=c-b}b=f}},20);if(b<c){d.push({from:b,to:c});e+=c-b}return{total:e,ranges:d}}function
ce(a,d){var
j=a.total,b=a.ranges;if(d<=0)return b[0].from;if(d>=1)return b[b.length-1].to;var
c=Math.floor(j*d);for(var
e=0;;e++){var
f=b[e],g=f.from,i=f.to,h=i-g;if(c<=h)return g+c;c-=h}}function
hg(h,g){var
d=0,c=b(h.ranges),e;try{for(c.s();!(e=c.n()).done;){var
f=e.value,a=f.from,i=f.to;if(g<=i){d+=g-a;break}d+=i-a}}catch(b){c.e(b)}finally{c.f()}return d/h.total}function
gR(e,f,a){for(var
c=0;c<e.length;c++){var
b=e[c];if(b.from<a&&b.to>f){var
d=[];if(b.from<f)d.push({from:b.from,to:f});if(b.to>a)d.push({from:a,to:b.to});e.splice.apply(e,[c,1].concat(d));c+=d.length-1}}}function
md(f,a){var
c=b(f),d;try{for(c.s();!(d=c.n()).done;){var
e=d.value;if(a(e))return e}}catch(b){c.e(b)}finally{c.f()}return void
0}var
eR={toDOM:function(b){return b},fromDOM:function(b){return b},scale:1},jv=function(){function
f(j,a,l){c(this,f);var
g=0,i=0,k=0;this.viewports=l.map(function(b){var
d=b.from,e=b.to,f=a.lineAt(d,r.ByPos,j,0,0).top,c=a.lineAt(e,r.ByPos,j,0,0).bottom;g+=c-f;return{from:d,to:e,top:f,bottom:c,domTop:0,domBottom:0}});this.scale=(7e6-g)/(a.height-g);var
e=b(this.viewports),h;try{for(e.s();!(h=e.n()).done;){var
d=h.value;d.domTop=k+(d.top-i)*this.scale;k=d.domBottom=d.domTop+(d.bottom-d.top);i=d.bottom}}catch(b){e.e(b)}finally{e.f()}}d(f,[{key:"toDOM",value:function(c){for(var
d=0,e=0,f=0;;d++){var
b=d<this.viewports.length?this.viewports[d]:null;if(!b||c<b.top)return f+(c-e)*this.scale;if(c<=b.bottom)return b.domTop+(c-b.top);e=b.bottom;f=b.domBottom}}},{key:"fromDOM",value:function(c){for(var
d=0,e=0,f=0;;d++){var
b=d<this.viewports.length?this.viewports[d]:null;if(!b||c<b.domTop)return e+(c-f)/this.scale;if(c<=b.domBottom)return b.top+(c-b.domTop);e=b.bottom;f=b.domBottom}}}]);return f}();function
bA(b,c){if(c.scale==1)return b;var
d=c.toDOM(b.top),e=c.toDOM(b.bottom);return new
aP(b.from,b.length,d,e-d,Array.isArray(b.type)?b.type.map(function(b){return bA(b,c)}):b.type)}var
b2=h.define({combine:function(b){return b.join(" ")}}),dD=h.define({combine:function(b){return b.indexOf(true)>-1}}),ds=au.newName(),f_=au.newName(),f9=au.newName(),hS={"&light":"."+f_,"&dark":"."+f9};function
dt(d,b,c){return new
au(b,{finish:function(b){return/&/.test(b)?b.replace(/&\w*/,function(b){if(b=="&")return d;if(!c||!c[b])throw new
RangeError("Unsupported selector: ".concat(b));return c[b]}):d+" "+b}})}var
k_=dt("."+ds,{"&.cm-editor":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,minHeight:"100%",display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 4px"},".cm-selectionLayer":{zIndex:-1,contain:"size style"},".cm-selectionBackground":{position:"absolute"},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{zIndex:100,contain:"size style",pointerEvents:"none"},"&.cm-focused .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{position:"absolute",borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},"&.cm-focused .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#f3f9ff"},"&dark .cm-activeLine":{backgroundColor:"#223039"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",left:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},hS),nX={childList:true,characterData:true,subtree:true,attributes:true,characterDataOldValue:true},et=g.ie&&g.ie_version<=11,jD=function(){function
f(e,a,h){var
d=this;c(this,f);this.view=e;this.onChange=a;this.onScrollChanged=h;this.active=false;this.selectionRange=new
jE();this.selectionChanged=false;this.delayedFlush=-1;this.resizeTimeout=-1;this.queue=[];this.delayedAndroidKey=null;this.scrollTargets=[];this.intersection=null;this.resize=null;this.intersecting=false;this.gapIntersection=null;this.gaps=[];this.parentCheck=-1;this.dom=e.contentDOM;this.observer=new
MutationObserver(function(a){var
c=b(a),f;try{for(c.s();!(f=c.n()).done;){var
h=f.value;d.queue.push(h)}}catch(b){c.e(b)}finally{c.f()}if((g.ie&&g.ie_version<=11||g.ios&&e.composing)&&a.some(function(b){return b.type=="childList"&&b.removedNodes.length||b.type=="characterData"&&b.oldValue.length>b.target.nodeValue.length}))d.flushSoon();else
d.flush()});if(et)this.onCharData=function(b){d.queue.push({target:b.target,type:"characterData",oldValue:b.prevValue});d.flushSoon()};this.onSelectionChange=this.onSelectionChange.bind(this);window.addEventListener("resize",this.onResize=this.onResize.bind(this));if(typeof
ResizeObserver=="function"){this.resize=new
ResizeObserver(function(){if(d.view.docView.lastUpdate<Date.now()-75)d.onResize()});this.resize.observe(e.scrollDOM)}window.addEventListener("beforeprint",this.onPrint=this.onPrint.bind(this));this.start();window.addEventListener("scroll",this.onScroll=this.onScroll.bind(this));if(typeof
IntersectionObserver=="function"){this.intersection=new
IntersectionObserver(function(b){if(d.parentCheck<0)d.parentCheck=setTimeout(d.listenForScroll.bind(d),1e3);if(b.length>0&&b[b.length-1].intersectionRatio>0!=d.intersecting){d.intersecting=!d.intersecting;if(d.intersecting!=d.view.inView)d.onScrollChanged(document.createEvent("Event"))}},{});this.intersection.observe(this.dom);this.gapIntersection=new
IntersectionObserver(function(b){if(b.length>0&&b[b.length-1].intersectionRatio>0)d.onScrollChanged(document.createEvent("Event"))},{})}this.listenForScroll();this.readSelectionRange();this.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}d(f,[{key:"onScroll",value:function(b){if(this.intersecting)this.flush(false);this.onScrollChanged(b)}},{key:"onResize",value:function(){var
b=this;if(this.resizeTimeout<0)this.resizeTimeout=setTimeout(function(){b.resizeTimeout=-1;b.view.requestMeasure()},50)}},{key:"onPrint",value:function(){var
b=this;this.view.viewState.printing=true;this.view.measure();setTimeout(function(){b.view.viewState.printing=false;b.view.requestMeasure()},500)}},{key:"updateGaps",value:function(d){if(this.gapIntersection&&(d.length!=this.gaps.length||this.gaps.some(function(b,c){return b!=d[c]}))){this.gapIntersection.disconnect();var
c=b(d),e;try{for(c.s();!(e=c.n()).done;){var
f=e.value;this.gapIntersection.observe(f)}}catch(b){c.e(b)}finally{c.f()}this.gaps=d}}},{key:"onSelectionChange",value:function(e){if(!this.readSelectionRange()||this.delayedAndroidKey)return;var
c=this.view,b=this.selectionRange;if(c.state.facet(cb)?c.root.activeElement!=this.dom:!cl(c.dom,b))return;var
d=b.anchorNode&&c.docView.nearest(b.anchorNode);if(d&&d.ignoreEvent(e))return;if((g.ie&&g.ie_version<=11||g.android&&g.chrome)&&!c.state.selection.main.empty&&b.focusNode&&co(b.focusNode,b.focusOffset,b.anchorNode,b.anchorOffset))this.flushSoon();else
this.flush(false)}},{key:"readSelectionRange",value:function(){var
c=this.view,b=g.safari&&c.root.nodeType==11&&lP()==this.dom&&oc(this.view)||cj(c.root);if(!b||this.selectionRange.eq(b))return false;var
d=cl(this.dom,b);if(d&&!this.selectionChanged&&this.selectionRange.focusNode&&c.inputState.lastFocusTime>Date.now()-200&&c.inputState.lastTouchTime<Date.now()-300&&k7(this.dom,b)){c.docView.updateSelection();return false}this.selectionRange.setRange(b);if(d)this.selectionChanged=true;return true}},{key:"setSelectionRange",value:function(b,c){this.selectionRange.set(b.node,b.offset,c.node,c.offset);this.selectionChanged=false}},{key:"clearSelectionRange",value:function(){this.selectionRange.set(null,0,null,0)}},{key:"listenForScroll",value:function(){this.parentCheck=-1;var
e=0,d=null;for(var
c=this.dom;c;)if(c.nodeType==1){if(!d&&e<this.scrollTargets.length&&this.scrollTargets[e]==c)e++;else
if(!d)d=this.scrollTargets.slice(0,e);if(d)d.push(c);c=c.assignedSlot||c.parentNode}else
if(c.nodeType==11)c=c.host;else
break;if(e<this.scrollTargets.length&&!d)d=this.scrollTargets.slice(0,e);if(d){var
f=b(this.scrollTargets),g;try{for(f.s();!(g=f.n()).done;){var
i=g.value;i.removeEventListener("scroll",this.onScroll)}}catch(b){f.e(b)}finally{f.f()}var
a=b(this.scrollTargets=d),h;try{for(a.s();!(h=a.n()).done;){var
j=h.value;j.addEventListener("scroll",this.onScroll)}}catch(b){a.e(b)}finally{a.f()}}}},{key:"ignore",value:function(b){if(!this.active)return b();try{this.stop();return b()}finally{this.start();this.clear()}}},{key:"start",value:function(){if(this.active)return;this.observer.observe(this.dom,nX);if(et)this.dom.addEventListener("DOMCharacterDataModified",this.onCharData);this.active=true}},{key:"stop",value:function(){if(!this.active)return;this.active=false;this.observer.disconnect();if(et)this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData)}},{key:"clear",value:function(){this.processRecords();this.queue.length=0;this.selectionChanged=false}},{key:"delayAndroidKey",value:function(c,d){var
b=this;if(!this.delayedAndroidKey)requestAnimationFrame(function(){var
c=b.delayedAndroidKey;b.delayedAndroidKey=null;b.delayedFlush=-1;if(!b.flush())bu(b.dom,c.key,c.keyCode)});if(!this.delayedAndroidKey||c=="Enter")this.delayedAndroidKey={key:c,keyCode:d}}},{key:"flushSoon",value:function(){var
b=this;if(this.delayedFlush<0)this.delayedFlush=window.setTimeout(function(){b.delayedFlush=-1;b.flush()},20)}},{key:"forceFlush",value:function(){if(this.delayedFlush>=0){window.clearTimeout(this.delayedFlush);this.delayedFlush=-1}this.flush()}},{key:"processRecords",value:function(){var
g=this.queue,e=b(this.observer.takeRecords()),h;try{for(e.s();!(h=e.n()).done;){var
k=h.value;g.push(k)}}catch(b){e.e(b)}finally{e.f()}if(g.length)this.queue=[];var
d=-1,a=-1,j=false,f=b(g),i;try{for(f.s();!(i=f.n()).done;){var
l=i.value,c=this.readMutation(l);if(!c)continue;if(c.typeOver)j=true;if(d==-1){d=c.from;a=c.to}else{d=Math.min(c.from,d);a=Math.max(c.to,a)}}}catch(b){f.e(b)}finally{f.f()}return{from:d,to:a,typeOver:j}}},{key:"flush",value:function(){var
f=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;if(this.delayedFlush>=0||this.delayedAndroidKey)return;if(f)this.readSelectionRange();var
b=this.processRecords(),c=b.from,g=b.to,h=b.typeOver,e=this.selectionChanged&&cl(this.dom,this.selectionRange);if(c<0&&!e)return;this.view.inputState.lastFocusTime=0;this.selectionChanged=false;var
a=this.view.state,d=this.onChange(c,g,h);if(this.view.state==a)this.view.update([]);return d}},{key:"readMutation",value:function(c){var
b=this.view.docView.nearest(c.target);if(!b||b.ignoreMutation(c))return null;b.markDirty(c.type=="attributes");if(c.type=="attributes")b.dirty|=4;if(c.type=="childList"){var
e=hf(b,c.previousSibling||c.target.previousSibling,-1),d=hf(b,c.nextSibling||c.target.nextSibling,1);return{from:e?b.posAfter(e):b.posAtStart,to:d?b.posBefore(d):b.posAtEnd,typeOver:false}}else
if(c.type=="characterData")return{from:b.posAtStart,to:b.posAtEnd,typeOver:c.target.nodeValue==c.oldValue};else
return null}},{key:"destroy",value:function(){var
d,e,f;this.stop();(d=this.intersection)===null||d===void
0?void
0:d.disconnect();(e=this.gapIntersection)===null||e===void
0?void
0:e.disconnect();(f=this.resize)===null||f===void
0?void
0:f.disconnect();var
c=b(this.scrollTargets),a;try{for(c.s();!(a=c.n()).done;){var
g=a.value;g.removeEventListener("scroll",this.onScroll)}}catch(b){c.e(b)}finally{c.f()}window.removeEventListener("scroll",this.onScroll);window.removeEventListener("resize",this.onResize);window.removeEventListener("beforeprint",this.onPrint);this.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange);clearTimeout(this.parentCheck);clearTimeout(this.resizeTimeout)}}]);return f}();function
hf(d,b,f){while(b){var
c=v.get(b);if(c&&c.parent==d)return c;var
e=b.parentNode;b=e!=d.dom?e:f>0?b.nextSibling:b.previousSibling}return null}function
oc(f){var
b=null;function
i(c){c.preventDefault();c.stopImmediatePropagation();b=c.getTargetRanges()[0]}f.contentDOM.addEventListener("beforeinput",i,true);document.execCommand("indent");f.contentDOM.removeEventListener("beforeinput",i,true);if(!b)return null;var
a=b.startContainer,g=b.startOffset,d=b.endContainer,e=b.endOffset,h=f.docView.domAtPos(f.state.selection.main.anchor);if(co(h.node,h.offset,d,e)){var
c=[d,e,a,g];a=c[0];g=c[1];d=c[2];e=c[3]}return{anchorNode:a,anchorOffset:g,focusNode:d,focusOffset:e}}function
k5(c,D,I,L){var
b,e,d=c.state.selection.main;if(D>-1){var
l=c.docView.domBoundsAround(D,I,0);if(!l||c.state.readOnly)return false;var
j=l.from,E=l.to,C=c.docView.impreciseHead||c.docView.impreciseAnchor?[]:oD(c),m=new
eJ(C,c.state);m.readRange(l.startDOM,l.endDOM);var
y=d.from,z=null;if(c.inputState.lastKeyCode===8&&c.inputState.lastKeyTime>Date.now()-100||g.android&&m.text.length<E-j){y=d.to;z="end"}var
a=mg(c.state.doc.sliceString(j,E,at),m.text,y-j,z);if(a){if(g.chrome&&c.inputState.lastKeyCode==13&&a.toB==a.from+2&&m.text.slice(a.from,a.toB)==at+at)a.toB--;b={from:j+a.from,to:j+a.toA,insert:o.of(m.text.slice(a.from,a.toB).split(at))}}e=oC(C,j)}else
if(c.hasFocus||!c.state.facet(cb)){var
h=c.observer.selectionRange,v=c.docView,s=v.impreciseHead,r=v.impreciseAnchor,x=s&&s.node==h.focusNode&&s.offset==h.focusOffset||!aY(c.contentDOM,h.focusNode)?c.state.selection.main.head:c.docView.posFromDOM(h.focusNode,h.focusOffset),w=r&&r.node==h.anchorNode&&r.offset==h.anchorOffset||!aY(c.contentDOM,h.anchorNode)?c.state.selection.main.anchor:c.docView.posFromDOM(h.anchorNode,h.anchorOffset);if(x!=d.head||w!=d.anchor)e=f.single(w,x)}if(!b&&!e)return false;if(!b&&L&&!d.empty&&e&&e.main.empty)b={from:d.from,to:d.to,insert:c.state.doc.slice(d.from,d.to)};else
if(b&&b.from>=d.from&&b.to<=d.to&&(b.from!=d.from||b.to!=d.to)&&d.to-d.from-(b.to-b.from)<=4)b={from:d.from,to:d.to,insert:c.state.doc.slice(d.from,b.from).append(b.insert).append(c.state.doc.slice(b.to,d.to))};else
if((g.mac||g.android)&&b&&b.from==b.to&&b.from==d.head-1&&b.insert.toString()==".")b={from:d.from,to:d.to,insert:o.of([" "])};if(b){var
i=c.state;if(g.ios&&c.inputState.flushIOSKey(c))return true;if(g.android&&(b.from==d.from&&b.to==d.to&&b.insert.length==1&&b.insert.lines==2&&bu(c.contentDOM,"Enter",13)||b.from==d.from-1&&b.to==d.to&&b.insert.length==0&&bu(c.contentDOM,"Backspace",8)||b.from==d.from&&b.to==d.to+1&&b.insert.length==0&&bu(c.contentDOM,"Delete",46)))return true;var
F=b.insert.toString();if(c.state.facet(hD).some(function(d){return d(c,b.from,b.to,F)}))return true;if(c.inputState.composing>=0)c.inputState.composing++;var
p;if(b.from>=d.from&&b.to<=d.to&&b.to-b.from>=(d.to-d.from)/3&&(!e||e.main.empty&&e.main.from==b.from+b.insert.length)&&c.inputState.composing<0){var
H=d.from<b.from?i.sliceDoc(d.from,b.from):"",G=d.to>b.to?i.sliceDoc(b.to,d.to):"";p=i.replaceSelection(c.state.toText(H+b.insert.sliceString(0,void
0,c.state.lineBreak)+G))}else{var
n=i.changes(b),k=e&&!i.selection.main.eq(e.main)&&e.main.to<=n.newLength?e.main:void
0;if(i.selection.ranges.length>1&&c.inputState.composing>=0&&b.to<=d.to&&b.to>=d.to-10){var
A=c.state.sliceDoc(b.from,b.to),q=gt(c)||c.state.doc.lineAt(d.head),J=d.to-b.to,K=d.to-d.from;p=i.changeByRange(function(e){if(e.from==d.from&&e.to==d.to)return{changes:n,range:k||e.map(n)};var
a=e.to-J,g=a-A.length;if(e.to-e.from!=K||c.state.sliceDoc(g,a)!=A||q&&e.to>=q.from&&e.from<=q.to)return{range:e};var
h=i.changes({from:g,to:a,insert:b.insert}),j=e.to-d.to;return{changes:h,range:!k?e.map(h):f.range(Math.max(0,k.anchor+j),Math.max(0,k.head+j))}})}else
p={changes:n,selection:k&&i.selection.replaceRange(k)}}var
t="input.type";if(c.composing){t+=".compose";if(c.inputState.compositionFirstChange){t+=".start";c.inputState.compositionFirstChange=false}}c.dispatch(p,{scrollIntoView:true,userEvent:t});return true}else
if(e&&!e.main.eq(d)){var
B=false,u="select";if(c.inputState.lastSelectionTime>Date.now()-50){if(c.inputState.lastSelectionOrigin=="select")B=true;u=c.inputState.lastSelectionOrigin}c.dispatch({selection:e,scrollIntoView:B,userEvent:u});return true}else
return false}function
mg(f,a,e,k){var
g=Math.min(f.length,a.length),b=0;while(b<g&&f.charCodeAt(b)==a.charCodeAt(b))b++;if(b==g&&f.length==a.length)return null;var
c=f.length,d=a.length;while(c>0&&d>0&&f.charCodeAt(c-1)==a.charCodeAt(d-1)){c--;d--}if(k=="end"){var
i=Math.max(0,b-Math.min(c,d));e-=c+i-b}if(c<b&&f.length<a.length){var
j=e<=b&&e>=c?b-e:0;b-=j;d=b+(d-c);c=b}else
if(d<b){var
h=e<=b&&e>=d?b-e:0;b-=h;c=b+(c-d);d=b}return{from:b,toA:c,toB:d}}function
oD(e){var
c=[];if(e.root.activeElement!=e.contentDOM)return c;var
b=e.observer.selectionRange,d=b.anchorNode,f=b.anchorOffset,a=b.focusNode,g=b.focusOffset;if(d){c.push(new
eI(d,f));if(a!=d||g!=f)c.push(new
eI(a,g))}return c}function
oC(b,d){if(b.length==0)return null;var
c=b[0].pos,e=b.length==2?b[1].pos:c;return c>-1&&e>-1?f.single(c+d,e+d):null}var
j=function(){function
a(){var
e=this,d=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};c(this,a);this.plugins=[];this.pluginMap=new
Map();this.editorAttrs={};this.contentAttrs={};this.bidiCache=[];this.destroyed=false;this.updateState=2;this.measureScheduled=-1;this.measureRequests=[];this.contentDOM=document.createElement("div");this.scrollDOM=document.createElement("div");this.scrollDOM.tabIndex=-1;this.scrollDOM.className="cm-scroller";this.scrollDOM.appendChild(this.contentDOM);this.announceDOM=document.createElement("div");this.announceDOM.style.cssText="position: absolute; top: -10000px";this.announceDOM.setAttribute("aria-live","polite");this.dom=document.createElement("div");this.dom.appendChild(this.announceDOM);this.dom.appendChild(this.scrollDOM);this._dispatch=d.dispatch||function(b){return e.update([b])};this.dispatch=this.dispatch.bind(this);this.root=d.root||mq(d.parent)||document;this.viewState=new
fe(d.state||w.create(d));this.plugins=this.state.facet(bJ).map(function(b){return new
c0(b)});var
f=b(this.plugins),g;try{for(f.s();!(g=f.n()).done;){var
h=g.value;h.update(this)}}catch(b){f.e(b)}finally{f.f()}this.observer=new
jD(this,function(b,c,d){return k5(e,b,c,d)},function(b){e.inputState.runScrollHandlers(e,b);if(e.observer.intersecting)e.measure()});this.inputState=new
jV(this);this.inputState.ensureHandlers(this,this.plugins);this.docView=new
eN(this);this.mountStyles();this.updateAttrs();this.updateState=0;this.requestMeasure();if(d.parent)d.parent.appendChild(this.dom)}d(a,[{key:"state",get:function(){return this.viewState.state}},{key:"viewport",get:function(){return this.viewState.viewport}},{key:"visibleRanges",get:function(){return this.viewState.visibleRanges}},{key:"inView",get:function(){return this.viewState.inView}},{key:"composing",get:function(){return this.inputState.composing>0}},{key:"compositionStarted",get:function(){return this.inputState.composing>=0}},{key:"dispatch",value:function(){var
b;this._dispatch(arguments.length==1&&(arguments.length<=0?undefined:arguments[0])instanceof
N?arguments.length<=0?undefined:arguments[0]:(b=this.state).update.apply(b,arguments))}},{key:"update",value:function
c(g){if(this.updateState!=0)throw new
Error("Calls to EditorView.update are not allowed while an update is in progress");var
m=false,s=false,c,e=this.state,h=b(g),n;try{for(h.s();!(n=h.n()).done;){var
r=n.value;if(r.startState!=e)throw new
RangeError("Trying to update state with a transaction that doesn't start from the previous state.");e=r.state}}catch(b){h.e(b)}finally{h.f()}if(this.destroyed){this.viewState.state=e;return}this.observer.clear();if(e.facet(w.phrases)!=this.state.facet(w.phrases))return this.setState(e);c=ff.create(this,e,g);var
d=this.viewState.scrollTarget;try{this.updateState=2;var
i=b(g),o;try{for(i.s();!(o=i.n()).done;){var
l=o.value;if(d)d=d.map(l.changes);if(l.scrollIntoView){var
a=l.state.selection.main;d=new
e_(a.empty?a:f.cursor(a.head,a.head>a.anchor?-1:1))}var
j=b(l.effects),p;try{for(j.s();!(p=j.n()).done;){var
t=p.value;if(t.is(fT))d=t.value}}catch(b){j.e(b)}finally{j.f()}}}catch(b){i.e(b)}finally{i.f()}this.viewState.update(c,d);this.bidiCache=eB.update(this.bidiCache,c.changes);if(!c.empty){this.updatePlugins(c);this.inputState.update(c)}m=this.docView.update(c);if(this.state.facet(bH)!=this.styleModules)this.mountStyles();s=this.updateAttrs();this.showAnnouncements(g);this.docView.updateSelection(m,g.some(function(b){return b.isUserEvent("select.pointer")}))}finally{this.updateState=0}if(c.startState.facet(b2)!=c.state.facet(b2))this.viewState.mustMeasureContent=true;if(m||s||d||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)this.requestMeasure();if(!c.empty){var
k=b(this.state.facet(es)),q;try{for(k.s();!(q=k.n()).done;){var
u=q.value;u(c)}}catch(b){k.e(b)}finally{k.f()}}}},{key:"setState",value:function(e){if(this.updateState!=0)throw new
Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;var
h=this.hasFocus;try{var
c=b(this.plugins),f;try{for(c.s();!(f=c.n()).done;){var
i=f.value;i.destroy(this)}}catch(b){c.e(b)}finally{c.f()}this.viewState=new
fe(e);this.plugins=e.facet(bJ).map(function(b){return new
c0(b)});this.pluginMap.clear();var
d=b(this.plugins),a;try{for(d.s();!(a=d.n()).done;){var
g=a.value;g.update(this)}}catch(b){d.e(b)}finally{d.f()}this.docView=new
eN(this);this.inputState.ensureHandlers(this,this.plugins);this.mountStyles();this.updateAttrs();this.bidiCache=[]}finally{this.updateState=0}if(h)this.focus();this.requestMeasure()}},{key:"updatePlugins",value:function(c){var
n=c.startState.facet(bJ),p=c.state.facet(bJ);if(n!=p){var
g=[],d=b(p),i;try{for(d.s();!(i=d.n()).done;){var
o=i.value,l=n.indexOf(o);if(l<0)g.push(new
c0(o));else{var
m=this.plugins[l];m.mustUpdate=c;g.push(m)}}}catch(b){d.e(b)}finally{d.f()}var
e=b(this.plugins),j;try{for(e.s();!(j=e.n()).done;){var
h=j.value;if(h.mustUpdate!=c)h.destroy(this)}}catch(b){e.e(b)}finally{e.f()}this.plugins=g;this.pluginMap.clear();this.inputState.ensureHandlers(this,this.plugins)}else{var
f=b(this.plugins),k;try{for(f.s();!(k=f.n()).done;){var
q=k.value;q.mustUpdate=c}}catch(b){f.e(b)}finally{f.f()}}for(var
a=0;a<this.plugins.length;a++)this.plugins[a].update(this)}},{key:"measure",value:function(){var
k=this,q=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;if(this.destroyed)return;if(this.measureScheduled>-1)cancelAnimationFrame(this.measureScheduled);this.measureScheduled=0;if(q)this.observer.forceFlush();var
d=null;try{for(var
h=0;;h++){this.updateState=1;var
n=this.viewport,g=this.viewState.measure(this);if(!g&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(h>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}var
f=[];if(!(g&4)){var
i=[f,this.measureRequests];this.measureRequests=i[0];f=i[1]}var
m=f.map(function(b){try{return b.read(k)}catch(b){R(k.state,b);return ex}}),c=ff.create(this,this.state,[]),o=false,p=false;c.flags|=g;if(!d)d=c;else
d.flags|=g;this.updateState=2;if(!c.empty){this.updatePlugins(c);this.inputState.update(c);this.updateAttrs();o=this.docView.update(c)}for(var
e=0;e<f.length;e++)if(m[e]!=ex)try{var
l=f[e];if(l.write)l.write(m[e],this)}catch(b){R(this.state,b)}if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget);this.viewState.scrollTarget=null;p=true}if(o)this.docView.updateSelection(true);if(this.viewport.from==n.from&&this.viewport.to==n.to&&!p&&this.measureRequests.length==0)break}}finally{this.updateState=0;this.measureScheduled=-1}if(d&&!d.empty){var
a=b(this.state.facet(es)),j;try{for(a.s();!(j=a.n()).done;){var
r=j.value;r(d)}}catch(b){a.e(b)}finally{a.f()}}}},{key:"themeClasses",get:function(){return ds+" "+(this.state.facet(dD)?f9:f_)+" "+this.state.facet(b2)}},{key:"updateAttrs",value:function(){var
b=this,d=f7(this,g$,{"class":"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),c={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:!this.state.facet(cb)?"false":"true","class":"cm-content",style:"".concat(g.tabSize,": ").concat(this.state.tabSize),role:"textbox","aria-multiline":"true"};if(this.state.readOnly)c["aria-readonly"]="true";f7(this,gw,c);var
e=this.observer.ignore(function(){var
e=dk(b.contentDOM,b.contentAttrs,c),f=dk(b.dom,b.editorAttrs,d);return e||f});this.editorAttrs=d;this.contentAttrs=c;return e}},{key:"showAnnouncements",value:function(k){var
h=true,c=b(k),e;try{for(c.s();!(e=c.n()).done;){var
j=e.value,d=b(j.effects),f;try{for(d.s();!(f=d.n()).done;){var
g=f.value;if(g.is(a.announce)){if(h)this.announceDOM.textContent="";h=false;var
i=this.announceDOM.appendChild(document.createElement("div"));i.textContent=g.value}}}catch(b){d.e(b)}finally{d.f()}}}catch(b){c.e(b)}finally{c.f()}}},{key:"mountStyles",value:function(){this.styleModules=this.state.facet(bH);au.mount(this.root,this.styleModules.concat(k_).reverse())}},{key:"readMeasured",value:function(){if(this.updateState==2)throw new
Error("Reading the editor layout isn't allowed during an update");if(this.updateState==0&&this.measureScheduled>-1)this.measure(false)}},{key:"requestMeasure",value:function(b){var
d=this;if(this.measureScheduled<0)this.measureScheduled=requestAnimationFrame(function(){return d.measure()});if(b){if(b.key!=null)for(var
c=0;c<this.measureRequests.length;c++)if(this.measureRequests[c].key===b.key){this.measureRequests[c]=b;return}this.measureRequests.push(b)}}},{key:"plugin",value:function(c){var
b=this.pluginMap.get(c);if(b===void
0||b&&b.spec!=c)this.pluginMap.set(c,b=this.plugins.find(function(b){return b.spec==c})||null);return b&&b.update(this).value}},{key:"documentTop",get:function(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}},{key:"documentPadding",get:function(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}},{key:"elementAtHeight",value:function(b){this.readMeasured();return this.viewState.elementAtHeight(b)}},{key:"lineBlockAtHeight",value:function(b){this.readMeasured();return this.viewState.lineBlockAtHeight(b)}},{key:"viewportLineBlocks",get:function(){return this.viewState.viewportLines}},{key:"lineBlockAt",value:function(b){return this.viewState.lineBlockAt(b)}},{key:"contentHeight",get:function(){return this.viewState.contentHeight}},{key:"moveByChar",value:function(b,d,c){return eh(this,b,fK(this,b,d,c))}},{key:"moveByGroup",value:function(b,d){var
c=this;return eh(this,b,fK(this,b,d,function(d){return ln(c,b.head,d)}))}},{key:"moveToLineBoundary",value:function(d,b){var
c=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;return kN(this,d,b,c)}},{key:"moveVertically",value:function(b,d,c){return eh(this,b,kO(this,b,d,c))}},{key:"domAtPos",value:function(b){return this.docView.domAtPos(b)}},{key:"posAtDOM",value:function(b){var
c=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;return this.docView.posFromDOM(b,c)}},{key:"posAtCoords",value:function(b){var
c=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;this.readMeasured();return fR(this,b,c)}},{key:"coordsAtPos",value:function(c){var
d=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;this.readMeasured();var
b=this.docView.coordsAt(c,d);if(!b||b.left==b.right)return b;var
e=this.state.doc.lineAt(c),f=this.bidiSpans(e),a=f[aO.find(f,c-e.from,-1,d)];return cg(b,a.dir==t.LTR==d>0)}},{key:"defaultCharacterWidth",get:function(){return this.viewState.heightOracle.charWidth}},{key:"defaultLineHeight",get:function(){return this.viewState.heightOracle.lineHeight}},{key:"textDirection",get:function(){return this.viewState.defaultTextDirection}},{key:"textDirectionAt",value:function(b){var
c=this.state.facet(io);if(!c||b<this.viewport.from||b>this.viewport.to)return this.textDirection;this.readMeasured();return this.docView.textDirectionAt(b)}},{key:"lineWrapping",get:function(){return this.viewState.heightOracle.lineWrapping}},{key:"bidiSpans",value:function(c){if(c.length>j1)return jd(c.length);var
e=this.textDirectionAt(c.from),d=b(this.bidiCache),a;try{for(d.s();!(a=d.n()).done;){var
f=a.value;if(f.from==c.from&&f.dir==e)return f.order}}catch(b){d.e(b)}finally{d.f()}var
g=lA(c.text,e);this.bidiCache.push(new
eB(c.from,c.to,e,g));return g}},{key:"hasFocus",get:function(){var
b;return(document.hasFocus()||g.safari&&((b=this.inputState)===null||b===void
0?void
0:b.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}},{key:"focus",value:function(){var
b=this;this.observer.ignore(function(){hj(b.contentDOM);b.docView.updateSelection()})}},{key:"destroy",value:function(){var
c=b(this.plugins),d;try{for(c.s();!(d=c.n()).done;){var
e=d.value;e.destroy(this)}}catch(b){c.e(b)}finally{c.f()}this.plugins=[];this.inputState.destroy();this.dom.remove();this.observer.destroy();if(this.measureScheduled>-1)cancelAnimationFrame(this.measureScheduled);this.destroyed=true}}],[{key:"scrollIntoView",value:function(c){var
b=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return fT.of(new
e_(typeof
c=="number"?f.cursor(c):c,b.y,b.x,b.yMargin,b.xMargin))}},{key:"domEventHandlers",value:function(b){return D.define(function(){return{}},{eventHandlers:b})}},{key:"theme",value:function(e,b){var
c=au.newName(),d=[b2.of(c),bH.of(dt(".".concat(c),e))];if(b&&b.dark)d.push(dD.of(true));return d}},{key:"baseTheme",value:function(b){return aG.lowest(bH.of(dt("."+ds,b,hS)))}},{key:"findFromDOM",value:function(e){var
b,d=e.querySelector(".cm-content"),c=d&&v.get(d)||v.get(e);return((b=c===null||c===void
0?void
0:c.rootView)===null||b===void
0?void
0:b.view)||null}}]);return a}();j.styleModule=bH;j.inputHandler=hD;j.perLineTextDirection=io;j.exceptionSink=hd;j.updateListener=es;j.editable=cb;j.mouseSelectionStyle=h8;j.dragMovesSelection=g9;j.clickAddsSelectionRange=gl;j.decorations=bt;j.atomicRanges=f6;j.scrollMargins=iM;j.darkTheme=dD;j.contentAttributes=gw;j.editorAttributes=g$;j.lineWrapping=j.contentAttributes.of({"class":"cm-lineWrapping"});j.announce=m.define();var
j1=4096,ex={},eB=function(){function
e(d,a,b,f){c(this,e);this.from=d;this.to=a;this.dir=b;this.order=f}d(e,null,[{key:"update",value:function(b,d){if(d.empty)return b;var
a=[],g=b.length?b[b.length-1].dir:t.LTR;for(var
f=Math.max(0,b.length-10);f<b.length;f++){var
c=b[f];if(c.dir==g&&!d.touchesRange(c.from,c.to))a.push(new
e(d.mapPos(c.from,1),d.mapPos(c.to,-1),c.dir,c.order))}return a}}]);return e}();function
f7(a,g,d){for(var
e=a.state.facet(g),b=e.length-1;b>=0;b--){var
c=e[b],f=typeof
c=="function"?c(a):c;if(f)dy(f,d)}return d}var
lF=g.mac?"mac":g.windows?"win":g.linux?"linux":"key";function
nV(i,j){var
d=i.split(/-(?!$)/),b=d[d.length-1];if(b=="Space")b=" ";var
g,f,h,a;for(var
e=0;e<d.length-1;++e){var
c=d[e];if(/^(cmd|meta|m)$/i.test(c))a=true;else
if(/^a(lt)?$/i.test(c))g=true;else
if(/^(c|ctrl|control)$/i.test(c))f=true;else
if(/^s(hift)?$/i.test(c))h=true;else
if(/^mod$/i.test(c))if(j=="mac")a=true;else
f=true;else
throw new
Error("Unrecognized modifier name: "+c)}if(g)b="Alt-"+b;if(f)b="Ctrl-"+b;if(a)b="Meta-"+b;if(h)b="Shift-"+b;return b}function
cu(b,c,d){if(c.altKey)b="Alt-"+b;if(c.ctrlKey)b="Ctrl-"+b;if(c.metaKey)b="Meta-"+b;if(d!==false&&c.shiftKey)b="Shift-"+b;return b}var
mz=aG["default"](j.domEventHandlers({keydown:function(c,b){return iH(hq(b.state),c,b,"editor")}})),cq=h.define({enables:mz}),eS=new
WeakMap();function
hq(d){var
b=d.facet(cq),c=eS.get(b);if(!c)eS.set(b,c=ll(b.reduce(function(b,c){return b.concat(c)},[])));return c}function
oa(b,c,d){return iH(hq(b.state),c,b,d)}var
aD=null,ka=4e3;function
ll(n){var
l=arguments.length>1&&arguments[1]!==undefined?arguments[1]:lF,f=Object.create(null),k=Object.create(null),j=function(b,d){var
c=k[b];if(c==null)k[b]=d;else
if(c!=d)throw new
Error("Key binding "+b+" is used both as a regular binding and as a multi-stroke prefix")},i=function(a,k,i,m){var
b=f[a]||(f[a]=Object.create(null)),e=k.split(/ (?!$)/).map(function(b){return nV(b,l)}),h=function(d){var
c=e.slice(0,d).join(" ");j(c,true);if(!b[c])b[c]={preventDefault:true,commands:[function(d){var
b=aD={view:d,prefix:c,scope:a};setTimeout(function(){if(aD==b)aD=null},ka);return true}]}};for(var
c=1;c<e.length;c++)h(c);var
d=e.join(" ");j(d,false);var
g=b[d]||(b[d]={preventDefault:false,commands:[]});g.commands.push(i);if(m)g.preventDefault=true},d=b(n),g;try{for(d.s();!(g=d.n()).done;){var
c=g.value,a=c[l]||c.key;if(!a)continue;var
e=b(c.scope?c.scope.split(" "):["editor"]),h;try{for(e.s();!(h=e.n()).done;){var
m=h.value;i(m,a,c.run,c.preventDefault);if(c.shift)i(m,"Shift-"+a,c.shift,c.preventDefault)}}catch(b){e.e(b)}finally{e.f()}}}catch(b){d.e(b)}finally{d.f()}return f}function
iH(m,c,l,k){var
d=ne(c),j=E(d,0),i=P(j)==d.length&&d!=" ",e="",h=false;if(aD&&aD.view==l&&aD.scope==k){e=aD.prefix+" ";if(h=h7.indexOf(c.keyCode)<0)aD=null}var
g=function(d){if(d){var
c=b(d.commands),e;try{for(c.s();!(e=c.n()).done;){var
f=e.value;if(f(l))return true}}catch(b){c.e(b)}finally{c.f()}if(d.preventDefault)h=true}return false},f=m[k],a;if(f){if(g(f[e+cu(d,c,!i)]))return true;if(i&&(c.shiftKey||c.altKey||c.metaKey||j>127)&&(a=ay[c.keyCode])&&a!=d){if(g(f[e+cu(a,c,true)]))return true;else
if(c.shiftKey&&a5[c.keyCode]!=a&&g(f[e+cu(a5[c.keyCode],c,false)]))return true}else
if(i&&c.shiftKey)if(g(f[e+cu(d,c,true)]))return true}return h}var
eC=!g.ios,bC=h.define({combine:function(b){return ad(b,{cursorBlinkRate:1200,drawRangeCursor:true},{cursorBlinkRate:function(b,c){return Math.min(b,c)},drawRangeCursor:function(b,c){return b||c}})}});function
l5(){var
b=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return[bC.of(b),l6,mE]}var
e5=function(){function
b(f,a,g,e,d){c(this,b);this.left=f;this.top=a;this.width=g;this.height=e;this.className=d}d(b,[{key:"draw",value:function(){var
b=document.createElement("div");b.className=this.className;this.adjust(b);return b}},{key:"adjust",value:function(b){b.style.left=this.left+"px";b.style.top=this.top+"px";if(this.width>=0)b.style.width=this.width+"px";b.style.height=this.height+"px"}},{key:"eq",value:function(b){return this.left==b.left&&this.top==b.top&&this.width==b.width&&this.height==b.height&&this.className==b.className}}]);return b}(),l6=D.fromClass(function(){function
e(b){c(this,e);this.view=b;this.rangePieces=[];this.cursors=[];this.measureReq={read:this.readPos.bind(this),write:this.drawSel.bind(this)};this.selectionLayer=b.scrollDOM.appendChild(document.createElement("div"));this.selectionLayer.className="cm-selectionLayer";this.selectionLayer.setAttribute("aria-hidden","true");this.cursorLayer=b.scrollDOM.appendChild(document.createElement("div"));this.cursorLayer.className="cm-cursorLayer";this.cursorLayer.setAttribute("aria-hidden","true");b.requestMeasure(this.measureReq);this.setBlinkRate()}d(e,[{key:"setBlinkRate",value:function(){this.cursorLayer.style.animationDuration=this.view.state.facet(bC).cursorBlinkRate+"ms"}},{key:"update",value:function(b){var
c=b.startState.facet(bC)!=b.state.facet(bC);if(c||b.selectionSet||b.geometryChanged||b.viewportChanged)this.view.requestMeasure(this.measureReq);if(b.transactions.some(function(b){return b.scrollIntoView}))this.cursorLayer.style.animationName=this.cursorLayer.style.animationName=="cm-blink"?"cm-blink2":"cm-blink";if(c)this.setBlinkRate()}},{key:"readPos",value:function(){var
i=this,d=this.view.state,j=d.facet(bC),k=d.selection.ranges.map(function(b){return b.empty?[]:nD(i.view,b)}).reduce(function(b,c){return b.concat(c)}),a=[],c=b(d.selection.ranges),f;try{for(c.s();!(f=c.n()).done;){var
e=f.value,h=e==d.selection.main;if(e.empty?!h||eC:j.drawRangeCursor){var
g=nC(this.view,e,h);if(g)a.push(g)}}}catch(b){c.e(b)}finally{c.f()}return{rangePieces:k,cursors:a}}},{key:"drawSel",value:function(a){var
i=this,f=a.rangePieces,c=a.cursors;if(f.length!=this.rangePieces.length||f.some(function(c,b){return!c.eq(i.rangePieces[b])})){this.selectionLayer.textContent="";var
d=b(f),g;try{for(d.s();!(g=d.n()).done;){var
k=g.value;this.selectionLayer.appendChild(k.draw())}}catch(b){d.e(b)}finally{d.f()}this.rangePieces=f}if(c.length!=this.cursors.length||c.some(function(b,c){return!b.eq(i.cursors[c])})){var
j=this.cursorLayer.children;if(j.length!==c.length){this.cursorLayer.textContent="";var
e=b(c),h;try{for(e.s();!(h=e.n()).done;){var
l=h.value;this.cursorLayer.appendChild(l.draw())}}catch(b){e.e(b)}finally{e.f()}}else
c.forEach(function(b,c){return b.adjust(j[c])});this.cursors=c}}},{key:"destroy",value:function(){this.selectionLayer.remove();this.cursorLayer.remove()}}]);return e}()),i9={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};if(eC)i9[".cm-line"].caretColor="transparent !important";var
mE=aG.highest(j.theme(i9));function
ho(b){var
c=b.scrollDOM.getBoundingClientRect(),d=b.textDirection==t.LTR?c.left:c.right-b.scrollDOM.clientWidth;return{left:d-b.scrollDOM.scrollLeft,top:c.top-b.scrollDOM.scrollTop}}function
jn(d,e,b){var
c=f.cursor(e);return{from:Math.max(b.from,d.moveToLineBoundary(c,false,true).from),to:Math.min(b.to,d.moveToLineBoundary(c,true,true).from),type:p.Text}}function
gb(g,f){var
e=g.lineBlockAt(f);if(Array.isArray(e.type)){var
d=b(e.type),a;try{for(d.s();!(a=d.n()).done;){var
c=a.value;if(c.to>f||c.to==f&&(c.to==e.to||c.type==p.Text))return c}}catch(b){d.e(b)}finally{d.f()}}return e}function
nD(c,e){if(e.to<=c.viewport.from||e.from>=c.viewport.to)return[];var
w=Math.max(e.from,c.viewport.from),y=Math.min(e.to,c.viewport.to),i=c.textDirection==t.LTR,u=c.contentDOM,k=u.getBoundingClientRect(),r=ho(c),m=window.getComputedStyle(u.firstChild),o=k.left+parseInt(m.paddingLeft)+Math.min(0,parseInt(m.textIndent)),q=k.right-parseInt(m.paddingRight),j=gb(c,w),h=gb(c,y),d=j.type==p.Text?j:null,f=h.type==p.Text?h:null;if(c.lineWrapping){if(d)d=jn(c,w,d);if(f)f=jn(c,y,f)}if(d&&f&&d.from==f.from)return n(l(e.from,e.to,d));else{var
g=d?l(e.from,null,d):v(j,false),a=f?l(null,e.to,f):v(h,true),s=[];if((d||j).to<(f||h).from-1)s.push(x(o,g.bottom,q,a.top));else
if(g.bottom<a.top&&c.elementAtHeight((g.bottom+a.top)/2).type==p.Text)g.bottom=a.top=(g.bottom+a.top)/2;return n(g).concat(s).concat(n(a))}function
x(b,c,e,d){return new
e5(b-r.left,c-r.top-0.01,e-b,d-c+0.01,"cm-selectionBackground")}function
n(c){var
a=c.top,f=c.bottom,d=c.horizontal,e=[];for(var
b=0;b<d.length;b+=2)e.push(x(d[b],a,d[b+1],f));return e}function
l(d,f,m){var
w=1e9,p=-1e9,l=[];function
z(e,f,a,g,h){var
b=c.coordsAtPos(e,e==m.to?-2:2),d=c.coordsAtPos(a,a==m.from?2:-2);w=Math.min(b.top,d.top,w);p=Math.max(b.bottom,d.bottom,p);if(h==t.LTR)l.push(i&&f?o:b.left,i&&g?q:d.right);else
l.push(!i&&g?o:d.left,!i&&f?q:b.right)}var
n=d!==null&&d!==void
0?d:m.from,k=f!==null&&f!==void
0?f:m.to,a=b(c.visibleRanges),x;try{for(a.s();!(x=a.n()).done;){var
h=x.value;if(h.to>n&&h.from<k)for(var
e=Math.max(h.from,n),r=Math.min(h.to,k);;){var
j=c.state.doc.lineAt(e),g=b(c.bidiSpans(j)),y;try{for(g.s();!(y=g.n()).done;){var
s=y.value,u=s.from+j.from,v=s.to+j.from;if(u>=r)break;if(v>e)z(Math.max(u,e),d==null&&u<=n,Math.min(v,r),f==null&&v>=k,s.dir)}}catch(b){g.e(b)}finally{g.f()}e=j.to+1;if(e>=r)break}}}catch(b){a.e(b)}finally{a.f()}if(l.length==0)z(n,d==null,k,f==null,c.textDirection);return{top:w,bottom:p,horizontal:l}}function
v(b,d){var
c=k.top+(d?b.top:b.bottom);return{top:c,bottom:c,horizontal:[]}}}function
nC(e,d,f){var
b=e.coordsAtPos(d.head,d.assoc||1);if(!b)return null;var
c=ho(e);return new
e5(b.left-c.left,b.top-c.top,-1,b.bottom-b.top,f?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary")}var
i3=m.define({map:function(b,c){return b==null?null:c.mapPos(b)}}),bv=A.define({create:function(){return null},update:function(b,c){if(b!=null)b=c.changes.mapPos(b);return c.effects.reduce(function(c,b){return b.is(i3)?b.value:c},b)}}),l4=D.fromClass(function(){function
b(d){c(this,b);this.view=d;this.cursor=null;this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}d(b,[{key:"update",value:function(b){var
c,d=b.state.field(bv);if(d==null){if(this.cursor!=null){(c=this.cursor)===null||c===void
0?void
0:c.remove();this.cursor=null}}else{if(!this.cursor){this.cursor=this.view.scrollDOM.appendChild(document.createElement("div"));this.cursor.className="cm-dropCursor"}if(b.startState.field(bv)!=d||b.docChanged||b.geometryChanged)this.view.requestMeasure(this.measureReq)}}},{key:"readPos",value:function(){var
d=this.view.state.field(bv),b=d!=null&&this.view.coordsAtPos(d);if(!b)return null;var
c=this.view.scrollDOM.getBoundingClientRect();return{left:b.left-c.left+this.view.scrollDOM.scrollLeft,top:b.top-c.top+this.view.scrollDOM.scrollTop,height:b.bottom-b.top}}},{key:"drawCursor",value:function(b){if(this.cursor)if(b){this.cursor.style.left=b.left+"px";this.cursor.style.top=b.top+"px";this.cursor.style.height=b.height+"px"}else
this.cursor.style.left="-100000px"}},{key:"destroy",value:function(){if(this.cursor)this.cursor.remove()}},{key:"setDropPos",value:function(b){if(this.view.state.field(bv)!=b)this.view.dispatch({effects:i3.of(b)})}}]);return b}(),{eventHandlers:{dragover:function(b){this.setDropPos(this.view.posAtCoords({x:b.clientX,y:b.clientY}))},dragleave:function(b){if(b.target==this.view.contentDOM||!this.view.contentDOM.contains(b.relatedTarget))this.setDropPos(null)},dragend:function(){this.setDropPos(null)},drop:function(){this.setDropPos(null)}}});function
l7(){return[bv,l4]}function
hK(a,f,d,h,g){f.lastIndex=0;for(var
b=a.iterRange(d,h),e=d,c;!b.next().done;e+=b.value.length)if(!b.lineBreak)while(c=f.exec(b.value))g(e+c.index,c)}function
nA(f,j){var
a=f.visibleRanges;if(a.length==1&&a[0].from==f.viewport.from&&a[0].to==f.viewport.to)return a;var
c=[],g=b(a),h;try{for(g.s();!(h=g.n()).done;){var
i=h.value,d=i.from,e=i.to;d=Math.max(f.state.doc.lineAt(d).from,d-j);e=Math.min(f.state.doc.lineAt(e).to,e+j);if(c.length&&c[c.length-1].to>=d)c[c.length-1].to=e;else
c.push({from:d,to:e})}}catch(b){g.e(b)}finally{g.f()}return c}var
j0=function(){function
e(b){c(this,e);var
g=b.regexp,d=b.decoration,a=b.decorate,h=b.boundary,f=b.maxLength,j=f===void
0?1e3:f;if(!g.global)throw new
RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");this.regexp=g;if(a)this.addMatch=function(c,e,b,d){return a(d,b,b+c[0].length,c,e)};else
if(d){var
i=typeof
d=="function"?d:function(){return d};this.addMatch=function(c,e,b,d){return d(b,b+c[0].length,i(c,e,b))}}else
throw new
RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=h;this.maxLength=j}d(e,[{key:"createDeco",value:function(e){var
g=this,d=new
aT(),h=d.add.bind(d),c=b(nA(e,this.maxLength)),f;try{for(c.s();!(f=c.n()).done;){var
a=f.value,i=a.from,j=a.to;hK(e.state.doc,this.regexp,i,j,function(b,c){return g.addMatch(c,e,b,h)})}}catch(b){c.e(b)}finally{c.f()}return d.finish()}},{key:"updateDeco",value:function(b,e){var
d=1e9,c=-1;if(b.docChanged)b.changes.iterChanges(function(a,g,e,f){if(f>b.view.viewport.from&&e<b.view.viewport.to){d=Math.min(e,d);c=Math.max(f,c)}});if(b.viewportChanged||c-d>1e3)return this.createDeco(b.view);if(c>-1)return this.updateRange(b.view,e.map(b.changes),d,c);return e}},{key:"updateRange",value:function(f,k,h,j){var
c=this,a=b(f.visibleRanges),g;try{for(a.s();!(g=a.n()).done;){var
i=g.value,e=Math.max(i.from,h),d=Math.min(i.to,j);if(d>e)(function(){var
b=f.state.doc.lineAt(e),h=b.to<d?f.state.doc.lineAt(d):b,g=Math.max(i.from,b.from),a=Math.min(i.to,h.to);if(c.boundary){for(;e>b.from;e--)if(c.boundary.test(b.text[e-1-b.from])){g=e;break}for(;d<h.to;d++)if(c.boundary.test(h.text[d-h.from])){a=d;break}}var
m=[],j=void
0,l=function(c,d,b){return m.push(b.range(c,d))};if(b==h){c.regexp.lastIndex=g-b.from;while((j=c.regexp.exec(b.text))&&j.index<a-b.from)c.addMatch(j,f,j.index+b.from,l)}else
hK(f.state.doc,c.regexp,g,a,function(b,d){return c.addMatch(d,f,b,l)});k=k.update({filterFrom:g,filterTo:a,filter:function(b,c){return b<g||c>a},add:m})}())}}catch(b){a.e(b)}finally{a.f()}return k}}]);return e}(),c5=/x/.unicode!=null?"gu":"g",kj=new
RegExp("[\0-\b\n-\x1F\x7F-\x9F\xAD\u061C\u200B\u200E\u200F\u2028\u2029\u202D\u202E\u2066\u2067\u2069\uFEFF\uFFF9-\uFFFC]",c5),j8={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"},di=null;function
oN(){var
b;if(di==null&&typeof
document!="undefined"&&document.body){var
c=document.body.style;di=((b=c.tabSize)!==null&&b!==void
0?b:c.MozTabSize)!=null}return di||false}var
cF=h.define({combine:function(c){var
b=ad(c,{render:null,specialChars:kj,addSpecialChars:null});if(b.replaceTabs=!oN())b.specialChars=new
RegExp("\t|"+b.specialChars.source,c5);if(b.addSpecialChars)b.specialChars=new
RegExp(b.specialChars.source+"|"+b.addSpecialChars.source,c5);return b}});function
mI(){var
b=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return[cF.of(b),oJ()]}var
fQ=null;function
oJ(){return fQ||(fQ=D.fromClass(function(){function
b(d){c(this,b);this.view=d;this.decorations=i.none;this.decorationCache=Object.create(null);this.decorator=this.makeDecorator(d.state.facet(cF));this.decorations=this.decorator.createDeco(d)}d(b,[{key:"makeDecorator",value:function(d){var
c=this;return new
j0({regexp:d.specialChars,decoration:function(k,g,a){var
j=g.state.doc,b=E(k[0],0);if(b==9){var
f=j.lineAt(a),e=g.state.tabSize,h=bi(f.text,e,a-f.from);return i.replace({widget:new
ko((e-h%e)*c.view.defaultCharacterWidth)})}return c.decorationCache[b]||(c.decorationCache[b]=i.replace({widget:new
ki(d,b)}))},boundary:d.replaceTabs?void
0:/[^]/})}},{key:"update",value:function(b){var
c=b.state.facet(cF);if(b.startState.facet(cF)!=c){this.decorator=this.makeDecorator(c);this.decorations=this.decorator.createDeco(b.view)}else
this.decorations=this.decorator.updateDeco(b,this.decorations)}}]);return b}(),{decorations:function(b){return b.decorations}}))}var
jI="\u2022";function
nZ(b){if(b>=32)return jI;if(b==10)return"\u2424";return String.fromCharCode(9216+b)}var
ki=function(e){l(b,e);var
f=k(b);function
b(a,e){var
d;c(this,b);d=f.call(this);d.options=a;d.code=e;return d}d(b,[{key:"eq",value:function(b){return b.code==this.code}},{key:"toDOM",value:function(f){var
e=nZ(this.code),c=f.state.phrase("Control character")+" "+(j8[this.code]||"0x"+this.code.toString(16)),d=this.options.render&&this.options.render(this.code,c,e);if(d)return d;var
b=document.createElement("span");b.textContent=e;b.title=c;b.setAttribute("aria-label",c);b.className="cm-specialChar";return b}},{key:"ignoreEvent",value:function(){return false}}]);return b}(am),ko=function(e){l(b,e);var
f=k(b);function
b(e){var
d;c(this,b);d=f.call(this);d.width=e;return d}d(b,[{key:"eq",value:function(b){return b.width==this.width}},{key:"toDOM",value:function(){var
b=document.createElement("span");b.textContent="\t";b.className="cm-tab";b.style.width=this.width+"px";return b}},{key:"ignoreEvent",value:function(){return false}}]);return b}(am);function
mF(){return k0}var
ni=i.line({"class":"cm-activeLine"}),k0=D.fromClass(function(){function
e(b){c(this,e);this.decorations=this.getDeco(b)}d(e,[{key:"update",value:function(b){if(b.docChanged||b.selectionSet)this.decorations=this.getDeco(b.view)}},{key:"getDeco",value:function(h){var
g=-1,a=[],c=b(h.state.selection.ranges),f;try{for(c.s();!(f=c.n()).done;){var
e=f.value;if(!e.empty)return i.none;var
d=h.lineBlockAt(e.head);if(d.from>g){a.push(ni.range(d.from));g=d.from}}}catch(b){c.e(b)}finally{c.f()}return i.set(a)}}]);return e}(),{decorations:function(b){return b.decorations}}),cX=2e3;function
n5(e,b,c){var
m=Math.min(b.line,c.line),j=Math.max(b.line,c.line),i=[];if(b.off>cX||c.off>cX||b.col<0||c.col<0){var
q=Math.min(b.off,c.off),k=Math.max(b.off,c.off);for(var
a=m;a<=j;a++){var
h=e.doc.line(a);if(h.length<=k)i.push(f.range(h.from+q,h.to+k))}}else{var
p=Math.min(b.col,c.col),o=Math.max(b.col,c.col);for(var
g=m;g<=j;g++){var
d=e.doc.line(g),l=dL(d.text,p,e.tabSize,true);if(l>-1){var
n=dL(d.text,o,e.tabSize);i.push(f.range(d.from+l,d.from+n))}}}return i}function
kX(b,d){var
c=b.coordsAtPos(b.viewport.from);return c?Math.round(Math.abs((c.left-d)/b.defaultCharacterWidth)):-1}function
hr(c,d){var
f=c.posAtCoords({x:d.clientX,y:d.clientY},false),b=c.state.doc.lineAt(f),e=f-b.from,a=e>cX?-1:e==b.length?kX(c,d.clientX):bi(b.text,c.state.tabSize,f-b.from);return{line:b.number,col:a,off:e}}function
n6(d,e){var
b=hr(d,e),c=d.state.selection;if(!b)return null;return{update:function(d){if(d.docChanged){var
f=d.changes.mapPos(d.startState.doc.line(b.line).from),e=d.state.doc.lineAt(f);b={line:e.number,col:b.col,off:Math.min(b.off,e.length)};c=c.map(d.changes)}},get:function(g,i,h){var
a=hr(d,g);if(!a)return c;var
e=n5(d.state,b,a);if(!e.length)return c;return h?f.create(e.concat(c.ranges)):f.create(e)}}}function
n7(b){var
c=(b===null||b===void
0?void
0:b.eventFilter)||function(b){return b.altKey&&b.button==0};return j.mouseSelectionStyle.of(function(d,b){return c(b)?n6(d,b):null})}var
nf={Alt:[18,function(b){return b.altKey}],Control:[17,function(b){return b.ctrlKey}],Shift:[16,function(b){return b.shiftKey}],Meta:[91,function(b){return b.metaKey}]},oE={style:"cursor: crosshair"};function
lE(){var
g=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},b=aN(nf[g.key||"Alt"],2),e=b[0],f=b[1],a=D.fromClass(function(){function
b(d){c(this,b);this.view=d;this.isDown=false}d(b,[{key:"set",value:function(b){if(this.isDown!=b){this.isDown=b;this.view.update([])}}}]);return b}(),{eventHandlers:{keydown:function(b){this.set(b.keyCode==e||f(b))},keyup:function(b){if(b.keyCode==e||!f(b))this.set(false)}}});return[a,j.contentAttributes.of(function(c){var
b;return((b=c.plugin(a))===null||b===void
0?void
0:b.isDown)?oE:null})]}var
cZ="-10000px",fd=function(){function
e(f,d,b){c(this,e);this.facet=d;this.createTooltipView=b;this.input=f.state.facet(d);this.tooltips=this.input.filter(function(b){return b});this.tooltipViews=this.tooltips.map(b)}d(e,[{key:"update",value:function(g){var
h=g.state.facet(this.facet),k=h.filter(function(b){return b});if(h===this.input){var
d=b(this.tooltipViews),l;try{for(d.s();!(l=d.n()).done;){var
p=l.value;if(p.update)p.update(g)}}catch(b){d.e(b)}finally{d.f()}return false}var
a=[];for(var
c=0;c<k.length;c++){var
j=k[c],i=-1;if(!j)continue;for(var
f=0;f<this.tooltips.length;f++){var
o=this.tooltips[f];if(o&&o.create==j.create)i=f}if(i<0)a[c]=this.createTooltipView(j);else{var
q=a[c]=this.tooltipViews[i];if(q.update)q.update(g)}}var
e=b(this.tooltipViews),m;try{for(e.s();!(m=e.n()).done;){var
n=m.value;if(a.indexOf(n)<0)n.dom.remove()}}catch(b){e.e(b)}finally{e.f()}this.input=h;this.tooltips=k;this.tooltipViews=a;return true}}]);return e}();function
o6(){return{top:0,left:0,bottom:innerHeight,right:innerWidth}}var
ep=h.define({combine:function(e){var
b,c,d;return{position:g.ios?"absolute":((b=e.find(function(b){return b.position}))===null||b===void
0?void
0:b.position)||"fixed",parent:((c=e.find(function(b){return b.parent}))===null||c===void
0?void
0:c.parent)||null,tooltipSpace:((d=e.find(function(b){return b.tooltipSpace}))===null||d===void
0?void
0:d.tooltipSpace)||o6}}}),i$=D.fromClass(function(){function
e(b){var
f=this;c(this,e);var
d;this.view=b;this.inView=true;this.lastTransaction=0;this.measureTimeout=-1;var
a=b.state.facet(ep);this.position=a.position;this.parent=a.parent;this.classes=b.themeClasses;this.createContainer();this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this};this.manager=new
fd(b,cD,function(b){return f.createTooltip(b)});this.intersectionObserver=typeof
IntersectionObserver=="function"?new
IntersectionObserver(function(b){if(Date.now()>f.lastTransaction-50&&b.length>0&&b[b.length-1].intersectionRatio<1)f.measureSoon()},{threshold:[1]}):null;this.observeIntersection();(d=b.dom.ownerDocument.defaultView)===null||d===void
0?void
0:d.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this));this.maybeMeasure()}d(e,[{key:"createContainer",value:function(){if(this.parent){this.container=document.createElement("div");this.container.style.position="relative";this.container.className=this.view.themeClasses;this.parent.appendChild(this.container)}else
this.container=this.view.dom}},{key:"observeIntersection",value:function(){if(this.intersectionObserver){this.intersectionObserver.disconnect();var
c=b(this.manager.tooltipViews),d;try{for(c.s();!(d=c.n()).done;){var
e=d.value;this.intersectionObserver.observe(e.dom)}}catch(b){c.e(b)}finally{c.f()}}}},{key:"measureSoon",value:function(){var
b=this;if(this.measureTimeout<0)this.measureTimeout=setTimeout(function(){b.measureTimeout=-1;b.maybeMeasure()},50)}},{key:"update",value:function(e){if(e.transactions.length)this.lastTransaction=Date.now();var
i=this.manager.update(e);if(i)this.observeIntersection();var
a=i||e.geometryChanged,f=e.state.facet(ep);if(f.position!=this.position){this.position=f.position;var
c=b(this.manager.tooltipViews),g;try{for(c.s();!(g=c.n()).done;){var
k=g.value;k.dom.style.position=this.position}}catch(b){c.e(b)}finally{c.f()}a=true}if(f.parent!=this.parent){if(this.parent)this.container.remove();this.parent=f.parent;this.createContainer();var
d=b(this.manager.tooltipViews),h;try{for(d.s();!(h=d.n()).done;){var
j=h.value;this.container.appendChild(j.dom)}}catch(b){d.e(b)}finally{d.f()}a=true}else
if(this.parent&&this.view.themeClasses!=this.classes)this.classes=this.container.className=this.view.themeClasses;if(a)this.maybeMeasure()}},{key:"createTooltip",value:function(d){var
b=d.create(this.view);b.dom.classList.add("cm-tooltip");if(d.arrow&&!b.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){var
c=document.createElement("div");c.className="cm-tooltip-arrow";b.dom.appendChild(c)}b.dom.style.position=this.position;b.dom.style.top=cZ;this.container.appendChild(b.dom);if(b.mount)b.mount(this.view);return b}},{key:"destroy",value:function(){var
d,e;(d=this.view.dom.ownerDocument.defaultView)===null||d===void
0?void
0:d.removeEventListener("resize",this.measureSoon);var
c=b(this.manager.tooltipViews),f;try{for(c.s();!(f=c.n()).done;){var
a=f.value.dom;a.remove()}}catch(b){c.e(b)}finally{c.f()}(e=this.intersectionObserver)===null||e===void
0?void
0:e.disconnect();clearTimeout(this.measureTimeout)}},{key:"readMeasure",value:function(){var
b=this,c=this.view.dom.getBoundingClientRect();return{editor:c,parent:this.parent?this.container.getBoundingClientRect():c,pos:this.manager.tooltips.map(function(c,e){var
d=b.manager.tooltipViews[e];return d.getCoords?d.getCoords(c.pos):b.view.coordsAtPos(c.pos)}),size:this.manager.tooltipViews.map(function(b){var
c=b.dom;return c.getBoundingClientRect()}),space:this.view.state.facet(ep).tooltipSpace(this.view)}}},{key:"writeMeasure",value:function(m){var
q=m.editor,d=m.space,x=[];for(var
j=0;j<this.manager.tooltips.length;j++){var
u=this.manager.tooltips[j],h=this.manager.tooltipViews[j],g=h.dom,c=m.pos[j],e=m.size[j];if(!c||c.bottom<=Math.max(q.top,d.top)||c.top>=Math.min(q.bottom,d.bottom)||c.right<Math.max(q.left,d.left)-0.1||c.left>Math.min(q.right,d.right)+0.1){g.style.top=cZ;continue}var
n=u.arrow?h.dom.querySelector(".cm-tooltip-arrow"):null,p=n?7:0,v=e.right-e.left,r=e.bottom-e.top,a=h.offset||nO,s=this.view.textDirection==t.LTR,l=e.width>d.right-d.left?s?d.left:d.right-e.width:s?Math.min(c.left-(n?14:0)+a.x,d.right-v):Math.max(d.left,c.left-v+(n?14:0)-a.x),f=!!u.above;if(!u.strictSide&&(f?c.top-(e.bottom-e.top)-a.y<d.top:c.bottom+(e.bottom-e.top)+a.y>d.bottom)&&f==d.bottom-c.bottom>c.top-d.top)f=!f;var
i=f?c.top-r-p-a.y:c.bottom+p+a.y,y=l+v;if(h.overlap!==true){var
o=b(x),w;try{for(o.s();!(w=o.n()).done;){var
k=w.value;if(k.left<y&&k.right>l&&k.top<i+r&&k.bottom>i)i=f?k.top-r-2-p:k.bottom+p+2}}catch(b){o.e(b)}finally{o.f()}}if(this.position=="absolute"){g.style.top=i-m.parent.top+"px";g.style.left=l-m.parent.left+"px"}else{g.style.top=i+"px";g.style.left=l+"px"}if(n)n.style.left="".concat(c.left+(s?a.x:-a.x)-(l+14-7),"px");if(h.overlap!==true)x.push({left:l,top:i,right:y,bottom:i+r});g.classList.toggle("cm-tooltip-above",f);g.classList.toggle("cm-tooltip-below",!f);if(h.positioned)h.positioned()}}},{key:"maybeMeasure",value:function(){if(this.manager.tooltips.length){if(this.view.inView)this.view.requestMeasure(this.measureReq);if(this.inView!=this.view.inView){this.inView=this.view.inView;if(!this.inView){var
c=b(this.manager.tooltipViews),d;try{for(c.s();!(d=c.n()).done;){var
e=d.value;e.dom.style.top=cZ}}catch(b){c.e(b)}finally{c.f()}}}}}}]);return e}(),{eventHandlers:{scroll:function(){this.maybeMeasure()}}}),k9=j.baseTheme({".cm-tooltip":{zIndex:100},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"".concat(7,"px"),width:"".concat(7*2,"px"),position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"".concat(7,"px solid transparent"),borderRight:"".concat(7,"px solid transparent")},".cm-tooltip-above &":{bottom:"-".concat(7,"px"),"&:before":{borderTop:"".concat(7,"px solid #bbb")},"&:after":{borderTop:"".concat(7,"px solid #f5f5f5"),bottom:"1px"}},".cm-tooltip-below &":{top:"-".concat(7,"px"),"&:before":{borderBottom:"".concat(7,"px solid #bbb")},"&:after":{borderBottom:"".concat(7,"px solid #f5f5f5"),top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),nO={x:0,y:0},cD=h.define({enables:[i$,k9]}),cC=h.define(),jU=function(){function
e(b){var
d=this;c(this,e);this.view=b;this.mounted=false;this.dom=document.createElement("div");this.dom.classList.add("cm-tooltip-hover");this.manager=new
fd(b,cC,function(b){return d.createHostedView(b)})}d(e,[{key:"createHostedView",value:function(c){var
b=c.create(this.view);b.dom.classList.add("cm-tooltip-section");this.dom.appendChild(b.dom);if(this.mounted&&b.mount)b.mount(this.view);return b}},{key:"mount",value:function(f){var
c=b(this.manager.tooltipViews),d;try{for(c.s();!(d=c.n()).done;){var
e=d.value;if(e.mount)e.mount(f)}}catch(b){c.e(b)}finally{c.f()}this.mounted=true}},{key:"positioned",value:function(){var
c=b(this.manager.tooltipViews),d;try{for(c.s();!(d=c.n()).done;){var
e=d.value;if(e.positioned)e.positioned()}}catch(b){c.e(b)}finally{c.f()}}},{key:"update",value:function(b){this.manager.update(b)}}],[{key:"create",value:function(b){return new
e(b)}}]);return e}(),oF=cD.compute([cC],function(c){var
b=c.facet(cC).filter(function(b){return b});if(b.length===0)return null;return{pos:Math.min.apply(Math,aq(b.map(function(b){return b.pos}))),end:Math.max.apply(Math,aq(b.filter(function(b){return b.end!=null}).map(function(b){return b.end}))),create:jU.create,above:b[0].above,arrow:b.some(function(b){return b.arrow})}}),jT=function(){function
e(b,g,d,a,f){c(this,e);this.view=b;this.source=g;this.field=d;this.setHover=a;this.hoverTime=f;this.hoverTimeout=-1;this.restartTimeout=-1;this.pending=null;this.lastMove={x:0,y:0,target:b.dom,time:0};this.checkHover=this.checkHover.bind(this);b.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this));b.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}d(e,[{key:"update",value:function(){var
b=this;if(this.pending){this.pending=null;clearTimeout(this.restartTimeout);this.restartTimeout=setTimeout(function(){return b.startHover()},20)}}},{key:"active",get:function(){return this.view.state.field(this.field)}},{key:"checkHover",value:function(){this.hoverTimeout=-1;if(this.active)return;var
b=Date.now()-this.lastMove.time;if(b<this.hoverTime)this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-b);else
this.startHover()}},{key:"startHover",value:function(){var
f=this;clearTimeout(this.restartTimeout);var
b=this.lastMove,c=this.view.contentDOM.contains(b.target)?this.view.posAtCoords(b):null;if(c==null)return;var
e=this.view.coordsAtPos(c);if(e==null||b.y<e.top||b.y>e.bottom||b.x<e.left-this.view.defaultCharacterWidth||b.x>e.right+this.view.defaultCharacterWidth)return;var
a=this.view.bidiSpans(this.view.state.doc.lineAt(c)).find(function(b){return b.from<=c&&b.to>=c}),g=a&&a.dir==t.RTL?-1:1,d=this.source(this.view,c,b.x<e.left?-g:g);if(d===null||d===void
0?void
0:d.then){var
h=this.pending={pos:c};d.then(function(b){if(f.pending==h){f.pending=null;if(b)f.view.dispatch({effects:f.setHover.of(b)})}},function(b){return R(f.view.state,b,"hover tooltip")})}else
if(d)this.view.dispatch({effects:this.setHover.of(d)})}},{key:"mousemove",value:function(b){var
e;this.lastMove={x:b.clientX,y:b.clientY,target:b.target,time:Date.now()};if(this.hoverTimeout<0)this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime);var
c=this.active;if(c&&!m6(this.lastMove.target)||this.pending){var
a=c||this.pending,d=a.pos,f=(e=c===null||c===void
0?void
0:c.end)!==null&&e!==void
0?e:d;if(d==f?this.view.posAtCoords(this.lastMove)!=d:!m7(this.view,d,f,b.clientX,b.clientY,6)){this.view.dispatch({effects:this.setHover.of(null)});this.pending=null}}}},{key:"mouseleave",value:function(){clearTimeout(this.hoverTimeout);this.hoverTimeout=-1;if(this.active)this.view.dispatch({effects:this.setHover.of(null)})}},{key:"destroy",value:function(){clearTimeout(this.hoverTimeout);this.view.dom.removeEventListener("mouseleave",this.mouseleave);this.view.dom.removeEventListener("mousemove",this.mousemove)}}]);return e}();function
m6(c){for(var
b=c;b;b=b.parentNode)if(b.nodeType==1&&b.classList.contains("cm-tooltip"))return true;return false}function
m7(g,k,m,h,i,l){var
b=document.createRange(),e=g.domAtPos(k),a=g.domAtPos(m);b.setEnd(a.node,a.offset);b.setStart(e.node,e.offset);var
f=b.getClientRects();b.detach();for(var
d=0;d<f.length;d++){var
c=f[d],j=Math.max(c.top-i,i-c.bottom,c.left-h,h-c.right);if(j<=l)return true}return false}function
hy(d){var
e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},h=m.define(),c=A.define({create:function(){return null},update:function(c,d){if(c&&(e.hideOnChange&&(d.docChanged||d.selection)||e.hideOn&&e.hideOn(d,c)))return null;if(c&&d.docChanged){var
j=d.changes.mapPos(c.pos,-1,C.TrackDel);if(j==null)return null;var
a=Object.assign(Object.create(null),c);a.pos=j;if(c.end!=null)a.end=d.changes.mapPos(c.end);c=a}var
f=b(d.effects),i;try{for(f.s();!(i=f.n()).done;){var
g=i.value;if(g.is(h))c=g.value;if(g.is(lv))c=null}}catch(b){f.e(b)}finally{f.f()}return c},provide:function(b){return cC.from(b)}});return[c,D.define(function(b){return new
jT(b,d,c,h,e.hoverTime||300)}),oF]}function
mr(e,d){var
b=e.plugin(i$);if(!b)return null;var
c=b.manager.tooltips.indexOf(d);return c<0?null:b.manager.tooltipViews[c]}var
lv=m.define(),ik=h.define({combine:function(g){var
e,d,c=b(g),f;try{for(c.s();!(f=c.n()).done;){var
a=f.value;e=e||a.topContainer;d=d||a.bottomContainer}}catch(b){c.e(b)}finally{c.f()}return{topContainer:e,bottomContainer:d}}});function
bx(e,d){var
b=e.plugin(il),c=b?b.specs.indexOf(d):-1;return c>-1?b.panels[c]:null}var
il=D.fromClass(function(){function
f(d){c(this,f);this.input=d.state.facet(bF);this.specs=this.input.filter(function(b){return b});this.panels=this.specs.map(function(b){return b(d)});var
h=d.state.facet(ik);this.top=new
bR(d,true,h.topContainer);this.bottom=new
bR(d,false,h.bottomContainer);this.top.sync(this.panels.filter(function(b){return b.top}));this.bottom.sync(this.panels.filter(function(b){return!b.top}));var
e=b(this.panels),g;try{for(e.s();!(g=e.n()).done;){var
a=g.value;a.dom.classList.add("cm-panel");if(a.mount)a.mount()}}catch(b){e.e(b)}finally{e.f()}}d(f,[{key:"update",value:function(d){var
a=d.state.facet(ik);if(this.top.container!=a.topContainer){this.top.sync([]);this.top=new
bR(d.view,true,a.topContainer)}if(this.bottom.container!=a.bottomContainer){this.bottom.sync([]);this.bottom=new
bR(d.view,false,a.bottomContainer)}this.top.syncClasses();this.bottom.syncClasses();var
n=d.state.facet(bF);if(n!=this.input){var
s=n.filter(function(b){return b}),q=[],t=[],m=[],p=[],e=b(s),k;try{for(e.s();!(k=e.n()).done;){var
r=k.value,o=this.specs.indexOf(r),c=void
0;if(o<0){c=r(d.view);p.push(c)}else{c=this.panels[o];if(c.update)c.update(d)}q.push(c);(c.top?t:m).push(c)}}catch(b){e.e(b)}finally{e.f()}this.specs=s;this.panels=q;this.top.sync(t);this.bottom.sync(m);for(var
g=0,i=p;g<i.length;g++){var
h=i[g];h.dom.classList.add("cm-panel");if(h.mount)h.mount()}}else{var
f=b(this.panels),l;try{for(f.s();!(l=f.n()).done;){var
j=l.value;if(j.update)j.update(d)}}catch(b){f.e(b)}finally{f.f()}}}},{key:"destroy",value:function(){this.top.sync([]);this.bottom.sync([])}}]);return f}(),{provide:function(c){return j.scrollMargins.of(function(d){var
b=d.plugin(c);return b&&{top:b.top.scrollMargin(),bottom:b.bottom.scrollMargin()}})}}),bR=function(){function
e(f,d,b){c(this,e);this.view=f;this.top=d;this.container=b;this.dom=void
0;this.classes="";this.panels=[];this.syncClasses()}d(e,[{key:"sync",value:function(f){var
c=b(this.panels),e;try{for(c.s();!(e=c.n()).done;){var
d=e.value;if(d.destroy&&f.indexOf(d)<0)d.destroy()}}catch(b){c.e(b)}finally{c.f()}this.panels=f;this.syncDOM()}},{key:"syncDOM",value:function(){if(this.panels.length==0){if(this.dom){this.dom.remove();this.dom=void
0}return}if(!this.dom){this.dom=document.createElement("div");this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom";this.dom.style[this.top?"top":"bottom"]="0";var
a=this.container||this.view.dom;a.insertBefore(this.dom,this.top?a.firstChild:null)}var
c=this.dom.firstChild,d=b(this.panels),f;try{for(d.s();!(f=d.n()).done;){var
e=f.value;if(e.dom.parentNode==this.dom){while(c!=e.dom)c=iE(c);c=c.nextSibling}else
this.dom.insertBefore(e.dom,c)}}catch(b){d.e(b)}finally{d.f()}while(c)c=iE(c)}},{key:"scrollMargin",value:function(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}},{key:"syncClasses",value:function(){if(!this.container||this.classes==this.view.themeClasses)return;var
c=b(this.classes.split(" ")),f;try{for(c.s();!(f=c.n()).done;){var
g=f.value;if(g)this.container.classList.remove(g)}}catch(b){c.e(b)}finally{c.f()}var
d=b((this.classes=this.view.themeClasses).split(" ")),a;try{for(d.s();!(a=d.n()).done;){var
e=a.value;if(e)this.container.classList.add(e)}}catch(b){d.e(b)}finally{d.f()}}}]);return e}();function
iE(b){var
c=b.nextSibling;b.remove();return c}var
bF=h.define({enables:il}),aa=function(e){l(b,e);var
f=k(b);function
b(){c(this,b);return f.apply(this,arguments)}d(b,[{key:"compare",value:function(b){return this==b||this.constructor==b.constructor&&this.eq(b)}},{key:"eq",value:function(b){return false}},{key:"destroy",value:function(b){}}]);return b}(aH);aa.prototype.elementClass="";aa.prototype.toDOM=void
0;aa.prototype.mapMode=C.TrackBefore;aa.prototype.startSide=aa.prototype.endSide=-1;aa.prototype.point=true;var
ck=h.define(),lY={"class":"",renderEmptyElements:false,elementStyle:"",markers:function(){return q.empty},lineMarker:function(){return null},lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},bp=h.define();function
hs(b){return[ht(),bp.of(Object.assign(Object.assign({},lY),b))]}var
er=h.define({combine:function(b){return b.some(function(b){return b})}});function
ht(b){var
c=[mx];if(b&&b.fixed===false)c.push(er.of(true));return c}var
mx=D.fromClass(function(){function
f(d){c(this,f);this.view=d;this.prevViewport=d.viewport;this.dom=document.createElement("div");this.dom.className="cm-gutters";this.dom.setAttribute("aria-hidden","true");this.dom.style.minHeight=this.view.contentHeight+"px";this.gutters=d.state.facet(bp).map(function(b){return new
fa(d,b)});var
e=b(this.gutters),a;try{for(e.s();!(a=e.n()).done;){var
g=a.value;this.dom.appendChild(g.dom)}}catch(b){e.e(b)}finally{e.f()}this.fixed=!d.state.facet(er);if(this.fixed)this.dom.style.position="sticky";this.syncGutters(false);d.scrollDOM.insertBefore(this.dom,d.contentDOM)}d(f,[{key:"update",value:function(b){if(this.updateGutters(b)){var
d=this.prevViewport,c=b.view.viewport,e=Math.min(d.to,c.to)-Math.max(d.from,c.from);this.syncGutters(e<(c.to-c.from)*0.8)}if(b.geometryChanged)this.dom.style.minHeight=this.view.contentHeight+"px";if(this.view.state.facet(er)!=!this.fixed){this.fixed=!this.fixed;this.dom.style.position=this.fixed?"sticky":""}this.prevViewport=b.view.viewport}},{key:"syncGutters",value:function(r){var
m=this,t=this.dom.nextSibling;if(r)this.dom.remove();var
v=q.iter(this.view.state.facet(ck),this.view.viewport.from),h=[],o=this.gutters.map(function(b){return new
kq(b,m.view.viewport,-m.view.documentPadding.top)}),d=b(this.view.viewportLineBlocks),i;try{for(d.s();!(i=d.n()).done;){var
c=i.value,g=void
0;if(Array.isArray(c.type)){var
f=b(c.type),k;try{for(f.s();!(k=f.n()).done;){var
n=k.value;if(n.type==p.Text){g=n;break}}}catch(b){f.e(b)}finally{f.f()}}else
g=c.type==p.Text?c:void
0;if(!g)continue;if(h.length)h=[];f0(v,h,c.from);var
a=b(o),l;try{for(a.s();!(l=a.n()).done;){var
u=l.value;u.line(this.view,g,h)}}catch(b){a.e(b)}finally{a.f()}}}catch(b){d.e(b)}finally{d.f()}var
e=b(o),j;try{for(e.s();!(j=e.n()).done;){var
s=j.value;s.finish()}}catch(b){e.e(b)}finally{e.f()}if(r)this.view.scrollDOM.insertBefore(this.dom,t)}},{key:"updateGutters",value:function(c){var
r=c.startState.facet(bp),p=c.state.facet(bp),i=c.docChanged||c.heightChanged||c.viewportChanged||!q.eq(c.startState.facet(ck),c.state.facet(ck),c.view.viewport.from,c.view.viewport.to);if(r==p){var
e=b(this.gutters),l;try{for(e.s();!(l=e.n()).done;){var
t=l.value;if(t.update(c))i=true}}catch(b){e.e(b)}finally{e.f()}}else{i=true;var
d=[],f=b(p),m;try{for(f.s();!(m=f.n()).done;){var
o=m.value,j=r.indexOf(o);if(j<0)d.push(new
fa(this.view,o));else{this.gutters[j].update(c);d.push(this.gutters[j])}}}catch(b){f.e(b)}finally{f.f()}var
a=b(this.gutters),n;try{for(a.s();!(n=a.n()).done;){var
g=n.value;g.dom.remove();if(d.indexOf(g)<0)g.destroy()}}catch(b){a.e(b)}finally{a.f()}for(var
h=0,k=d;h<k.length;h++){var
s=k[h];this.dom.appendChild(s.dom)}this.gutters=d}return i}},{key:"destroy",value:function(){var
c=b(this.gutters),d;try{for(c.s();!(d=c.n()).done;){var
e=d.value;e.destroy()}}catch(b){c.e(b)}finally{c.f()}this.dom.remove()}}]);return f}(),{provide:function(d){return j.scrollMargins.of(function(c){var
b=c.plugin(d);if(!b||b.gutters.length==0||!b.fixed)return null;return c.textDirection==t.LTR?{left:b.dom.offsetWidth}:{right:b.dom.offsetWidth}})}});function
f4(b){return Array.isArray(b)?b:[b]}function
f0(b,d,c){while(b.value&&b.from<=c){if(b.from==c)d.push(b.value);b.next()}}var
kq=function(){function
b(d,f,e){c(this,b);this.gutter=d;this.height=e;this.localMarkers=[];this.i=0;this.cursor=q.iter(d.markers,f.from)}d(b,[{key:"line",value:function(e,b,a){if(this.localMarkers.length)this.localMarkers=[];f0(this.cursor,this.localMarkers,b.from);var
d=a.length?this.localMarkers.concat(a):this.localMarkers,g=this.gutter.config.lineMarker(e,b,d);if(g)d.unshift(g);var
c=this.gutter;if(d.length==0&&!c.config.renderEmptyElements)return;var
f=b.top-this.height;if(this.i==c.elements.length){var
h=new
eP(e,b.height,f,d);c.elements.push(h);c.dom.appendChild(h.dom)}else
c.elements[this.i].update(e,b.height,f,d);this.height=b.bottom;this.i++}},{key:"finish",value:function(){var
b=this.gutter;while(b.elements.length>this.i){var
c=b.elements.pop();b.dom.removeChild(c.dom);c.destroy()}}}]);return b}(),fa=function(){function
e(b,d){var
a=this;c(this,e);this.view=b;this.config=d;this.elements=[];this.spacer=null;this.dom=document.createElement("div");this.dom.className="cm-gutter"+(this.config["class"]?" "+this.config["class"]:"");var
f=function(e){a.dom.addEventListener(e,function(c){var
f=b.lineBlockAtHeight(c.clientY-b.documentTop);if(d.domEventHandlers[e](b,f,c))c.preventDefault()})};for(var
g
in
d.domEventHandlers)f(g);this.markers=f4(d.markers(b));if(d.initialSpacer){this.spacer=new
eP(b,0,0,[d.initialSpacer(b)]);this.dom.appendChild(this.spacer.dom);this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none"}}d(e,[{key:"update",value:function(b){var
e=this.markers;this.markers=f4(this.config.markers(b.view));if(this.spacer&&this.config.updateSpacer){var
c=this.config.updateSpacer(this.spacer.markers[0],b);if(c!=this.spacer.markers[0])this.spacer.update(b.view,0,0,[c])}var
d=b.view.viewport;return!q.eq(this.markers,e,d.from,d.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(b):false)}},{key:"destroy",value:function(){var
c=b(this.elements),d;try{for(c.s();!(d=c.n()).done;){var
e=d.value;e.destroy()}}catch(b){c.e(b)}finally{c.f()}}}]);return e}(),eP=function(){function
b(a,e,d,f){c(this,b);this.height=-1;this.above=0;this.markers=[];this.dom=document.createElement("div");this.dom.className="cm-gutterElement";this.update(a,e,d,f)}d(b,[{key:"update",value:function(e,c,b,d){if(this.height!=c)this.dom.style.height=(this.height=c)+"px";if(this.above!=b)this.dom.style.marginTop=(this.above=b)?b+"px":"";if(!of(this.markers,d))this.setMarkers(e,d)}},{key:"setMarkers",value:function(m,f){var
i="cm-gutterElement",b=this.dom.firstChild;for(var
j=0,d=0;;){var
g=d,c=j<f.length?f[j++]:null,a=false;if(c){var
h=c.elementClass;if(h)i+=" "+h;for(var
e=d;e<this.markers.length;e++)if(this.markers[e].compare(c)){g=e;a=true;break}}else
g=this.markers.length;while(d<g){var
k=this.markers[d++];if(k.toDOM){k.destroy(b);var
l=b.nextSibling;b.remove();b=l}}if(!c)break;if(c.toDOM)if(a)b=b.nextSibling;else
this.dom.insertBefore(c.toDOM(m),b);if(a)d++}this.dom.className=i;this.markers=f}},{key:"destroy",value:function(){this.setMarkers(null,[])}}]);return b}();function
of(c,d){if(c.length!=d.length)return false;for(var
b=0;b<c.length;b++)if(!c[b].compare(d[b]))return false;return true}var
nk=h.define(),a1=h.define({combine:function(b){return ad(b,{formatNumber:String,domEventHandlers:{}},{domEventHandlers:function(e,d){var
b=Object.assign({},e),c=function(c){var
f=b[c],e=d[c];b[c]=f?function(d,c,b){return f(d,c,b)||e(d,c,b)}:e};for(var
f
in
d)c(f);return b}})}}),cY=function(e){l(b,e);var
f=k(b);function
b(e){var
d;c(this,b);d=f.call(this);d.number=e;return d}d(b,[{key:"eq",value:function(b){return this.number==b.number}},{key:"toDOM",value:function(){return document.createTextNode(this.number)}}]);return b}(aa);function
dO(b,c){return b.state.facet(a1).formatNumber(c,b.state)}var
nj=bp.compute([a1],function(b){return{"class":"cm-lineNumbers",renderEmptyElements:false,markers:function(b){return b.state.facet(nk)},lineMarker:function(b,c,d){if(d.some(function(b){return b.toDOM}))return null;return new
cY(dO(b,b.state.doc.lineAt(c.from).number))},lineMarkerChange:function(b){return b.startState.facet(a1)!=b.state.facet(a1)},initialSpacer:function(b){return new
cY(dO(b,h1(b.state.doc.lines)))},updateSpacer:function(c,d){var
b=dO(d.view,h1(d.view.state.doc.lines));return b==c.number?c:new
cY(b)},domEventHandlers:b.facet(a1).domEventHandlers}});function
nl(){var
b=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return[a1.of(b),ht(),nj]}function
h1(c){var
b=9;while(b<c)b=b*10+9;return b}var
kZ=new(function(e){l(b,e);var
f=k(b);function
b(){var
d;c(this,b);d=f.apply(this,arguments);d.elementClass="cm-activeLineGutter";return d}return d(b)}(aa))(),kY=ck.compute(["selection"],function(h){var
a=[],f=-1,c=b(h.selection.ranges),e;try{for(c.s();!(e=c.n()).done;){var
g=e.value;if(g.empty){var
d=h.doc.lineAt(g.head).from;if(d>f){f=d;a.push(kZ.range(d))}}}}catch(b){c.e(b)}finally{c.f()}return q.of(a)});function
mG(){return kY}var
g3={};bZ(g3,{HighlightStyle:function(){return bX},IndentContext:function(){return aV},LRLanguage:function(){return kr},Language:function(){return K},LanguageDescription:function(){return ks},LanguageSupport:function(){return kt},ParseContext:function(){return bY},StreamLanguage:function(){return ku},StringStream:function(){return c9},TreeIndentContext:function(){return fh},bracketMatching:function(){return fo},codeFolding:function(){return da},continuedIndent:function(){return ky},defaultHighlightStyle:function(){return fv},defineLanguageFacet:function(){return dc},delimitedIndent:function(){return kA},ensureSyntaxTree:function(){return fx},flatIndent:function(){return kC},foldAll:function(){return fz},foldCode:function(){return fA},foldEffect:function(){return bj},foldGutter:function(){return fB},foldInside:function(){return kD},foldKeymap:function(){return fC},foldNodeProp:function(){return fD},foldService:function(){return fE},foldState:function(){return an},foldable:function(){return bk},foldedRanges:function(){return kE},forceParsing:function(){return kG},getIndentUnit:function(){return aw},getIndentation:function(){return bl},highlightingFor:function(){return kH},indentNodeProp:function(){return fF},indentOnInput:function(){return fG},indentRange:function(){return kK},indentService:function(){return df},indentString:function(){return aI},indentUnit:function(){return bm},language:function(){return ao},languageDataProp:function(){return aJ},matchBrackets:function(){return _},syntaxHighlighting:function(){return dj},syntaxParserRunning:function(){return kV},syntaxTree:function(){return x},syntaxTreeAvailable:function(){return kW},unfoldAll:function(){return fX},unfoldCode:function(){return fY},unfoldEffect:function(){return aW}});var
jH=1024,nL=0,c2=d(function
b(d,e){c(this,b);this.from=d;this.to=e}),n=function(){function
b(){var
d=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};c(this,b);this.id=nL++;this.perNode=!!d.perNode;this.deserialize=d.deserialize||function(){throw new
Error("This node type doesn't define a deserialize function")}}d(b,[{key:"add",value:function(b){var
d=this;if(this.perNode)throw new
RangeError("Can't add per-node props to node types");if(typeof
b!="function")b=T.match(b);return function(e){var
c=b(e);return c===void
0?null:[d,c]}}}]);return b}();n.closedBy=new
n({deserialize:function(b){return b.split(" ")}});n.openedBy=new
n({deserialize:function(b){return b.split(" ")}});n.group=new
n({deserialize:function(b){return b.split(" ")}});n.contextHash=new
n({perNode:true});n.lookAhead=new
n({perNode:true});n.mounted=new
n({perNode:true});var
nP=Object.create(null),T=function(){function
e(f,a,d){var
b=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;c(this,e);this.name=f;this.props=a;this.id=d;this.flags=b}d(e,[{key:"prop",value:function(b){return this.props[b.id]}},{key:"isTop",get:function(){return(this.flags&1)>0}},{key:"isSkipped",get:function(){return(this.flags&2)>0}},{key:"isError",get:function(){return(this.flags&4)>0}},{key:"isAnonymous",get:function(){return(this.flags&8)>0}},{key:"is",value:function(b){if(typeof
b=="string"){if(this.name==b)return true;var
c=this.prop(n.group);return c?c.indexOf(b)>-1:false}return this.id==b}}],[{key:"define",value:function(c){var
g=c.props&&c.props.length?Object.create(null):nP,i=(c.top?1:0)|(c.skipped?2:0)|(c.error?4:0)|(c.name==null?8:0),h=new
e(c.name||"",g,c.id,i);if(c.props){var
f=b(c.props),a;try{for(f.s();!(a=f.n()).done;){var
d=a.value;if(!Array.isArray(d))d=d(h);if(d){if(d[0].perNode)throw new
RangeError("Can't store a per-node prop on a node type");g[d[0].id]=d[1]}}}catch(b){f.e(b)}finally{f.f()}}return h}},{key:"match",value:function(f){var
e=Object.create(null);for(var
a
in
f){var
c=b(a.split(" ")),d;try{for(c.s();!(d=c.n()).done;){var
g=d.value;e[g]=f[a]}}catch(b){c.e(b)}finally{c.f()}}return function(f){for(var
c=f.prop(n.group),b=-1;b<(c?c.length:0);b++){var
d=e[b<0?f.name:c[b]];if(d)return d}}}}]);return e}();T.none=new
T("",Object.create(null),0,8);var
j_=function(){function
e(d){c(this,e);this.types=d;for(var
b=0;b<d.length;b++)if(d[b].id!=b)throw new
RangeError("Node type ids should correspond to array positions when creating a node set")}d(e,[{key:"extend",value:function(){var
l=[];for(var
i=arguments.length,m=new
Array(i),g=0;g<i;g++)m[g]=arguments[g];var
f=b(this.types),j;try{for(f.s();!(j=f.n()).done;){var
c=j.value,d=null,a=b(m),k;try{for(a.s();!(k=a.n()).done;){var
n=k.value,h=n(c);if(h){if(!d)d=Object.assign({},c.props);d[h[0].id]=h[1]}}}catch(b){a.e(b)}finally{a.f()}l.push(d?new
T(c.name,d,c.id,c.flags):c)}}catch(b){f.e(b)}finally{f.f()}return new
e(l)}}]);return e}(),bO=new
WeakMap(),eA=new
WeakMap(),G;(function(b){b[b["ExcludeBuffers"]=1]="ExcludeBuffers";b[b["IncludeAnonymous"]=2]="IncludeAnonymous";b[b["IgnoreMounts"]=4]="IgnoreMounts";b[b["IgnoreOverlays"]=8]="IgnoreOverlays"}(G||(G={})));var
y=function(){function
e(l,i,k,j,a){c(this,e);this.type=l;this.children=i;this.positions=k;this.length=j;this.props=null;if(a&&a.length){this.props=Object.create(null);var
d=b(a),g;try{for(d.s();!(g=d.n()).done;){var
h=aN(g.value,2),f=h[0],m=h[1];this.props[typeof
f=="number"?f:f.id]=m}}catch(b){d.e(b)}finally{d.f()}}}d(e,[{key:"toString",value:function(){var
e=this.prop(n.mounted);if(e&&!e.overlay)return e.tree.toString();var
c="",d=b(this.children),f;try{for(d.s();!(f=d.n()).done;){var
g=f.value,a=g.toString();if(a){if(c)c+=",";c+=a}}}catch(b){d.e(b)}finally{d.f()}return!this.type.name?c:(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(c.length?"("+c+")":"")}},{key:"cursor",value:function(){var
b=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;return new
bU(this.topNode,b)}},{key:"cursorAt",value:function(c){var
e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0,f=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0,d=bO.get(this)||this.topNode,b=new
bU(d);b.moveTo(c,e);bO.set(this,b._tree);return b}},{key:"topNode",get:function(){return new
bh(this,0,0,null)}},{key:"resolve",value:function(c){var
d=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0,b=a4(bO.get(this)||this.topNode,c,d,false);bO.set(this,b);return b}},{key:"resolveInner",value:function(c){var
d=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0,b=a4(eA.get(this)||this.topNode,c,d,true);eA.set(this,b);return b}},{key:"iterate",value:function(c){var
g=c.enter,a=c.leave,e=c.from,h=e===void
0?0:e,f=c.to,i=f===void
0?this.length:f;for(var
b=this.cursor((c.mode||0)|G.IncludeAnonymous);;){var
d=false;if(b.from<=i&&b.to>=h&&(b.type.isAnonymous||g(b)!==false)){if(b.firstChild())continue;d=true}for(;;){if(d&&a&&!b.type.isAnonymous)a(b);if(b.nextSibling())break;if(!b.parent())return;d=true}}}},{key:"prop",value:function(b){return!b.perNode?this.type.prop(b):this.props?this.props[b.id]:void
0}},{key:"propValues",get:function(){var
c=[];if(this.props)for(var
b
in
this.props)c.push([+b,this.props[b]]);return c}},{key:"balance",value:function(){var
b=this,c=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return this.children.length<=8?this:dq(T.none,this.children,this.positions,0,this.children.length,0,this.length,function(c,f,d){return new
e(b.type,c,f,d,b.propValues)},c.makeTree||function(b,d,c){return new
e(T.none,b,d,c)})}}],[{key:"build",value:function(b){return lm(b)}}]);return e}();y.empty=new
y(T.none,[],[],0);var
jO=function(){function
b(d,e){c(this,b);this.buffer=d;this.index=e}d(b,[{key:"id",get:function(){return this.buffer[this.index-4]}},{key:"start",get:function(){return this.buffer[this.index-3]}},{key:"end",get:function(){return this.buffer[this.index-2]}},{key:"size",get:function(){return this.buffer[this.index-1]}},{key:"pos",get:function(){return this.index}},{key:"next",value:function(){this.index-=4}},{key:"fork",value:function(){return new
b(this.buffer,this.index)}}]);return b}(),bg=function(){function
e(b,d,f){c(this,e);this.buffer=b;this.length=d;this.set=f}d(e,[{key:"type",get:function(){return T.none}},{key:"toString",value:function(){var
c=[];for(var
b=0;b<this.buffer.length;){c.push(this.childString(b));b=this.buffer[b+3]}return c.join(",")}},{key:"childString",value:function(b){var
a=this.buffer[b],e=this.buffer[b+3],f=this.set.types[a],c=f.name;if(/\W/.test(c)&&!f.isError)c=JSON.stringify(c);b+=4;if(e==b)return c;var
d=[];while(b<e){d.push(this.childString(b));b=this.buffer[b+3]}return c+"("+d.join(",")+")"}},{key:"findChild",value:function(h,f,e,a,g){var
c=this.buffer,d=-1;for(var
b=h;b!=f;b=c[b+3])if(gi(g,a,c[b+1],c[b+2])){d=b;if(e>0)break}return d}},{key:"slice",value:function(g,h,a,i){var
d=this.buffer,c=new
Uint16Array(h-g);for(var
b=g,f=0;b<h;){c[f++]=d[b++];c[f++]=d[b++]-a;c[f++]=d[b++]-a;c[f++]=d[b++]-g}return new
e(c,i-a,this.set)}}]);return e}();function
gi(e,b,c,d){switch(e){case-2:return c<b;case-1:return d>=b&&c<b;case
0:return c<b&&d>b;case
1:return c<=b&&d>b;case
2:return d>b;case
4:return true}}function
fy(d,e){var
c=d.childBefore(e);while(c){var
b=c.lastChild;if(!b||b.to!=c.to)break;if(b.type.isError&&b.from==b.to){d=c;c=b.prevSibling}else
c=b}return d}function
a4(b,c,f,g){var
a;while(b.from==b.to||(f<1?b.from>=c:b.from>c)||(f>-1?b.to<=c:b.to<c)){var
j=!g&&b
instanceof
bh&&b.index<0?null:b.parent;if(!j)return b;b=j}var
i=g?0:G.IgnoreOverlays;if(g)for(var
d=b,e=d.parent;e;d=e,e=d.parent)if(d
instanceof
bh&&d.index<0&&((a=e.enter(c,f,i))===null||a===void
0?void
0:a.from)!=d.from)b=e;for(;;){var
h=b.enter(c,f,i);if(!h)return b;b=h}}var
bh=function(){function
f(d,e,a,b){c(this,f);this._tree=d;this.from=e;this.index=a;this._parent=b}d(f,[{key:"type",get:function(){return this._tree.type}},{key:"name",get:function(){return this._tree.type.name}},{key:"to",get:function(){return this.from+this._tree.length}},{key:"nextChild",value:function(d,e,j,k){var
g=arguments.length>4&&arguments[4]!==undefined?arguments[4]:0;for(var
b=this;;){for(var
l=b._tree,m=l.children,q=l.positions,p=e>0?m.length:-1;d!=p;d+=e){var
c=m[d],a=q[d]+b.from;if(!gi(k,j,a,a+c.length))continue;if(c
instanceof
bg){if(g&G.ExcludeBuffers)continue;var
o=c.findChild(0,c.buffer.length,e,j-a,k);if(o>-1)return new
cN(new
jw(b,c,d,a),null,o)}else
if(g&G.IncludeAnonymous||!c.type.isAnonymous||dV(c)){var
i=void
0;if(!(g&G.IgnoreMounts)&&c.props&&(i=c.prop(n.mounted))&&!i.overlay)return new
f(i.tree,a,d,b);var
h=new
f(c,a,d,b);return g&G.IncludeAnonymous||!h.type.isAnonymous?h:h.nextChild(e<0?c.children.length-1:0,e,j,k)}}if(g&G.IncludeAnonymous||!b.type.isAnonymous)return null;if(b.index>=0)d=b.index+e;else
d=e<0?-1:b._parent._tree.children.length;b=b._parent;if(!b)return null}}},{key:"firstChild",get:function(){return this.nextChild(0,1,0,4)}},{key:"lastChild",get:function(){return this.nextChild(this._tree.children.length-1,-1,0,4)}},{key:"childAfter",value:function(b){return this.nextChild(0,1,b,2)}},{key:"childBefore",value:function(b){return this.nextChild(this._tree.children.length-1,-1,b,-2)}},{key:"enter",value:function(k,a){var
j=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0,c;if(!(j&G.IgnoreOverlays)&&(c=this._tree.prop(n.mounted))&&c.overlay){var
e=k-this.from,d=b(c.overlay),g;try{for(d.s();!(g=d.n()).done;){var
h=g.value,i=h.from,l=h.to;if((a>0?i<=e:i<e)&&(a<0?l>=e:l>e))return new
f(c.tree,c.overlay[0].from+this.from,-1,this)}}catch(b){d.e(b)}finally{d.f()}}return this.nextChild(0,1,k,a,j)}},{key:"nextSignificantParent",value:function(){var
b=this;while(b.type.isAnonymous&&b._parent)b=b._parent;return b}},{key:"parent",get:function(){return this._parent?this._parent.nextSignificantParent():null}},{key:"nextSibling",get:function(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}},{key:"prevSibling",get:function(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}},{key:"cursor",value:function(){var
b=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;return new
bU(this,b)}},{key:"tree",get:function(){return this._tree}},{key:"toTree",value:function(){return this._tree}},{key:"resolve",value:function(b){var
c=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;return a4(this,b,c,false)}},{key:"resolveInner",value:function(b){var
c=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;return a4(this,b,c,true)}},{key:"enterUnfinishedNodesBefore",value:function(b){return fy(this,b)}},{key:"getChild",value:function(e){var
d=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null,c=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null,b=b0(this,e,d,c);return b.length?b[0]:null}},{key:"getChildren",value:function(d){var
c=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null,b=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;return b0(this,d,c,b)}},{key:"toString",value:function(){return this._tree.toString()}},{key:"node",get:function(){return this}},{key:"matchContext",value:function(b){return cs(this,b)}}]);return f}();function
b0(f,a,e,d){var
b=f.cursor(),c=[];if(!b.firstChild())return c;if(e!=null)while(!b.type.is(e))if(!b.nextSibling())return c;for(;;){if(d!=null&&b.type.is(d))return c;if(b.type.is(a))c.push(b.node);if(!b.nextSibling())return d==null?c:[]}}function
cs(e,d){var
c=arguments.length>2&&arguments[2]!==undefined?arguments[2]:d.length-1;for(var
b=e.parent;c>=0;b=b.parent){if(!b)return false;if(!b.type.isAnonymous){if(d[c]&&d[c]!=b.name)return false;c--}}return true}var
jw=d(function
b(f,d,e,a){c(this,b);this.parent=f;this.buffer=d;this.index=e;this.start=a}),cN=function(){function
b(d,f,e){c(this,b);this.context=d;this._parent=f;this.index=e;this.type=d.buffer.set.types[d.buffer.buffer[e]]}d(b,[{key:"name",get:function(){return this.type.name}},{key:"from",get:function(){return this.context.start+this.context.buffer.buffer[this.index+1]}},{key:"to",get:function(){return this.context.start+this.context.buffer.buffer[this.index+2]}},{key:"child",value:function(e,f,a){var
c=this.context.buffer,d=c.findChild(this.index+4,c.buffer[this.index+3],e,f-this.context.start,a);return d<0?null:new
b(this.context,this,d)}},{key:"firstChild",get:function(){return this.child(1,0,4)}},{key:"lastChild",get:function(){return this.child(-1,0,4)}},{key:"childAfter",value:function(b){return this.child(1,b,2)}},{key:"childBefore",value:function(b){return this.child(-1,b,-2)}},{key:"enter",value:function(a,e){var
f=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;if(f&G.ExcludeBuffers)return null;var
c=this.context.buffer,d=c.findChild(this.index+4,c.buffer[this.index+3],e>0?1:-1,a-this.context.start,e);return d<0?null:new
b(this.context,this,d)}},{key:"parent",get:function(){return this._parent||this.context.parent.nextSignificantParent()}},{key:"externalSibling",value:function(b){return this._parent?null:this.context.parent.nextChild(this.context.index+b,b,0,4)}},{key:"nextSibling",get:function(){var
c=this.context.buffer,d=c.buffer[this.index+3];if(d<(this._parent?c.buffer[this._parent.index+3]:c.buffer.length))return new
b(this.context,this._parent,d);return this.externalSibling(1)}},{key:"prevSibling",get:function(){var
d=this.context.buffer,c=this._parent?this._parent.index+4:0;if(this.index==c)return this.externalSibling(-1);return new
b(this.context,this._parent,d.findChild(c,this.index,-1,0,4))}},{key:"cursor",value:function(){var
b=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;return new
bU(this,b)}},{key:"tree",get:function(){return null}},{key:"toTree",value:function(){var
c=[],e=[],b=this.context.buffer,f=this.index+4,d=b.buffer[this.index+3];if(d>f){var
a=b.buffer[this.index+1],g=b.buffer[this.index+2];c.push(b.slice(f,d,a,g));e.push(0)}return new
y(this.type,c,e,this.to-this.from)}},{key:"resolve",value:function(b){var
c=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;return a4(this,b,c,false)}},{key:"resolveInner",value:function(b){var
c=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;return a4(this,b,c,true)}},{key:"enterUnfinishedNodesBefore",value:function(b){return fy(this,b)}},{key:"toString",value:function(){return this.context.buffer.childString(this.index)}},{key:"getChild",value:function(e){var
d=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null,c=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null,b=b0(this,e,d,c);return b.length?b[0]:null}},{key:"getChildren",value:function(d){var
c=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null,b=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;return b0(this,d,c,b)}},{key:"node",get:function(){return this}},{key:"matchContext",value:function(b){return cs(this,b)}}]);return b}(),bU=function(){function
e(b){var
f=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;c(this,e);this.mode=f;this.buffer=null;this.stack=[];this.index=0;this.bufferNode=null;if(b
instanceof
bh)this.yieldNode(b);else{this._tree=b.context.parent;this.buffer=b.context;for(var
d=b._parent;d;d=d._parent)this.stack.unshift(d.index);this.bufferNode=b;this.yieldBuf(b.index)}}d(e,[{key:"name",get:function(){return this.type.name}},{key:"yieldNode",value:function(b){if(!b)return false;this._tree=b;this.type=b.type;this.from=b.from;this.to=b.to;return true}},{key:"yieldBuf",value:function(c,f){this.index=c;var
d=this.buffer,e=d.start,b=d.buffer;this.type=f||b.set.types[b.buffer[c]];this.from=e+b.buffer[c+1];this.to=e+b.buffer[c+2];return true}},{key:"yield",value:function(b){if(!b)return false;if(b
instanceof
bh){this.buffer=null;return this.yieldNode(b)}this.buffer=b.context;return this.yieldBuf(b.index,b.type)}},{key:"toString",value:function(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}},{key:"enterChild",value:function(b,e,f){if(!this.buffer)return this["yield"](this._tree.nextChild(b<0?this._tree._tree.children.length-1:0,b,e,f,this.mode));var
c=this.buffer.buffer,d=c.findChild(this.index+4,c.buffer[this.index+3],b,e-this.buffer.start,f);if(d<0)return false;this.stack.push(this.index);return this.yieldBuf(d)}},{key:"firstChild",value:function(){return this.enterChild(1,0,4)}},{key:"lastChild",value:function(){return this.enterChild(-1,0,4)}},{key:"childAfter",value:function(b){return this.enterChild(1,b,2)}},{key:"childBefore",value:function(b){return this.enterChild(-1,b,-2)}},{key:"enter",value:function(c,d){var
b=arguments.length>2&&arguments[2]!==undefined?arguments[2]:this.mode;if(!this.buffer)return this["yield"](this._tree.enter(c,d,b));return b&G.ExcludeBuffers?false:this.enterChild(1,c,d)}},{key:"parent",value:function
b(){if(!this.buffer)return this.yieldNode(this.mode&G.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());var
b=this.mode&G.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();this.buffer=null;return this.yieldNode(b)}},{key:"sibling",value:function(c){if(!this.buffer)return!this._tree._parent?false:this["yield"](this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+c,c,0,4,this.mode));var
d=this.buffer.buffer,b=this.stack.length-1;if(c<0){var
f=b<0?0:this.stack[b]+4;if(this.index!=f)return this.yieldBuf(d.findChild(f,this.index,-1,0,4))}else{var
e=d.buffer[this.index+3];if(e<(b<0?d.buffer.length:d.buffer[this.stack[b]+3]))return this.yieldBuf(e)}return b<0?this["yield"](this.buffer.parent.nextChild(this.buffer.index+c,c,0,4,this.mode)):false}},{key:"nextSibling",value:function(){return this.sibling(1)}},{key:"prevSibling",value:function(){return this.sibling(-1)}},{key:"atLastNode",value:function(f){var
d,b,c=this.buffer;if(c){if(f>0){if(this.index<c.buffer.buffer.length)return false}else
for(var
a=0;a<this.index;a++)if(c.buffer.buffer[a+3]<this.index)return false;d=c.index;b=c.parent}else{var
i=this._tree;d=i.index;b=i._parent}for(;b;e=b,d=e.index,b=e._parent,e){var
e;if(d>-1)for(var
g=d+f,j=f<0?-1:b._tree.children.length;g!=j;g+=f){var
h=b._tree.children[g];if(this.mode&G.IncludeAnonymous||h
instanceof
bg||!h.type.isAnonymous||dV(h))return false}}return true}},{key:"move",value:function(b,c){if(c&&this.enterChild(b,0,4))return true;for(;;){if(this.sibling(b))return true;if(this.atLastNode(b)||!this.parent())return false}}},{key:"next",value:function(){var
b=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;return this.move(1,b)}},{key:"prev",value:function(){var
b=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;return this.move(-1,b)}},{key:"moveTo",value:function(b){var
c=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;while(this.from==this.to||(c<1?this.from>=b:this.from>b)||(c>-1?this.to<=b:this.to<b))if(!this.parent())break;while(this.enterChild(1,b,c));return this}},{key:"node",get:function(){if(!this.buffer)return this._tree;var
e=this.bufferNode,c=null,g=0;if(e&&e.context==this.buffer)scan:for(var
a=this.index,f=this.stack.length;f>=0;){for(var
b=e;b;b=b._parent)if(b.index==a){if(a==this.index)return b;c=b;g=f+1;break scan}a=this.stack[--f]}for(var
d=g;d<this.stack.length;d++)c=new
cN(this.buffer,c,this.stack[d]);return this.bufferNode=new
cN(this.buffer,c,this.index)}},{key:"tree",get:function(){return this.buffer?null:this._tree._tree}},{key:"iterate",value:function(e,d){for(var
c=0;;){var
b=false;if(this.type.isAnonymous||e(this)!==false){if(this.firstChild()){c++;continue}if(!this.type.isAnonymous)b=true}for(;;){if(b&&d)d(this);b=this.type.isAnonymous;if(this.nextSibling())break;if(!c)return;this.parent();c--;b=true}}}},{key:"matchContext",value:function(c){if(!this.buffer)return cs(this.node,c);var
e=this.buffer.buffer,a=e.set.types;for(var
b=c.length-1,d=this.stack.length-1;b>=0;d--){if(d<0)return cs(this.node,c,b);var
f=a[e.buffer[this.stack[d]]];if(!f.isAnonymous){if(c[b]&&c[b]!=f.name)return false;b--}}return true}}]);return e}();function
dV(b){return b.children.some(function(b){return b
instanceof
bg||!b.type.isAnonymous||dV(b)})}function
lm(c){var
f,d=c.buffer,m=c.nodeSet,g=c.maxBufferLength,r=g===void
0?jH:g,i=c.reused,I=i===void
0?[]:i,h=c.minRepeatType,l=h===void
0?m.types.length:h,b=Array.isArray(d)?new
jO(d,d.length):d,A=m.types,k=0,p=0;function
z(u,L,B,E,K){var
g=b.id,d=b.start,a=b.end,j=b.size,t=p;while(j<0){b.next();if(j==-1){var
M=I[g];B.push(M);E.push(d-u);return}else
if(j==-3){k=g;return}else
if(j==-4){p=g;return}else
throw new
RangeError("Unrecognized record size: ".concat(j))}var
v=A[g],o,e,F=d-u;if(a-d<=r&&(e=G(b.pos-L,K))){var
s=new
Uint16Array(e.size-e.skip),J=b.pos-e.size,C=s.length;while(b.pos>J)C=w(e.start,s,C);o=new
bg(s,a-e.start,m);F=e.start-u}else{var
y=b.pos-j;b.next();var
c=[],i=[],f=g>=l?g:-1,h=0,n=a;while(b.pos>y)if(f>=0&&b.id==f&&b.size>=0){if(b.end<=n-r){x(c,i,d,h,b.end,n,f,t);h=c.length;n=b.end}b.next()}else
z(d,y,c,i,f);if(f>=0&&h>0&&h<c.length)x(c,i,d,h,d,n,f,t);c.reverse();i.reverse();if(f>-1&&h>0){var
D=H(v);o=dq(v,c,i,0,c.length,0,a-d,D,D)}else
o=q(v,c,i,a-d,t-a)}B.push(o);E.push(F)}function
H(e){return function(d,h,f){var
a=0,c=d.length-1,b,g;if(c>=0&&(b=d[c])instanceof
y){if(!c&&b.type==e&&b.length==f)return b;if(g=b.prop(n.lookAhead))a=h[c]+b.length+g}return q(e,d,h,f,a)}}function
x(b,a,d,h,c,g,j,i){var
e=[],f=[];while(b.length>h){e.push(b.pop());f.push(a.pop()+d-c)}b.push(q(m.types[j],e,f,g-c,i-g));a.push(c-d)}function
q(h,f,g,a){var
d=arguments.length>4&&arguments[4]!==undefined?arguments[4]:0,b=arguments.length>5?arguments[5]:undefined;if(k){var
e=[n.contextHash,k];b=b?[e].concat(b):[e]}if(d>25){var
c=[n.lookAhead,d];b=b?[c].concat(b):[c]}return new
y(h,f,g,a,b)}function
G(j,i){var
c=b.fork(),e=0,h=0,a=0,n=c.end-r,d={size:0,start:0,skip:0};scan:for(var
k=c.pos-j;c.pos>k;){var
f=c.size;if(c.id==i&&f>=0){d.size=e;d.start=h;d.skip=a;a+=4;e+=4;c.next();continue}var
m=c.pos-f;if(f<0||m<k||c.start<n)break;var
g=c.id>=l?4:0,o=c.start;c.next();while(c.pos>m){if(c.size<0)if(c.size==-3)g+=4;else
break scan;else
if(c.id>=l)g+=4;c.next()}h=o;e+=f;a+=g}if(i<0||e==j){d.size=e;d.start=h;d.skip=a}return d.size>4?d:void
0}function
w(a,d,c){var
f=b.id,i=b.start,g=b.end,e=b.size;b.next();if(e>=0&&f<l){var
j=c;if(e>4){var
h=b.pos-(e-4);while(b.pos>h)c=w(a,d,c)}d[--c]=j;d[--c]=g-a;d[--c]=i-a;d[--c]=f}else
if(e==-3)k=f;else
if(e==-4)p=f;return c}var
e=[],a=[];while(b.pos>0)z(c.start||0,c.bufferStart||0,e,a,-1);var
j=(f=c.length)!==null&&f!==void
0?f:e.length?a[0]+e[0].length:0;return new
y(A[c.topID],e.reverse(),a.reverse(),j)}var
ie=new
WeakMap();function
cy(f,d){if(!f.isAnonymous||d
instanceof
bg||d.type!=f)return 1;var
c=ie.get(d);if(c==null){c=1;var
e=b(d.children),g;try{for(e.s();!(g=e.n()).done;){var
a=g.value;if(a.type!=f||!(a
instanceof
y)){c=1;break}c+=cy(f,a)}}catch(b){e.e(b)}finally{e.f()}ie.set(d,c)}return c}function
dq(e,c,n,d,f,q,h,i,m){var
g=0;for(var
b=d;b<f;b++)g+=cy(e,c[b]);var
l=Math.ceil(g*1.5/8),a=[],k=[];function
j(c,f,r,p,o){for(var
b=r;b<p;){var
d=b,h=f[b],g=cy(e,c[b]);b++;for(;b<p;b++){var
n=cy(e,c[b]);if(g+n>=l)break;g+=n}if(b==d+1){if(g>l){var
i=c[d];j(i.children,i.positions,0,i.children.length,f[d]+o);continue}a.push(c[d])}else{var
s=f[b-1]+c[b-1].length-h;a.push(dq(e,c,f,d,b,h,s,null,m))}k.push(h+o-q)}}j(c,n,d,f,0);return(i||m)(a,k,h)}var
bV=function(){function
e(b,g,h,d){var
a=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false,f=arguments.length>5&&arguments[5]!==undefined?arguments[5]:false;c(this,e);this.from=b;this.to=g;this.tree=h;this.offset=d;this.open=(a?1:0)|(f?2:0)}d(e,[{key:"openStart",get:function(){return(this.open&1)>0}},{key:"openEnd",get:function(){return(this.open&2)>0}}],[{key:"addTree",value:function(d){var
h=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[],i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false,g=[new
e(0,d.length,d,0,false,i)],c=b(h),f;try{for(c.s();!(f=c.n()).done;){var
a=f.value;if(a.to>d.length)g.push(a)}}catch(b){c.e(b)}finally{c.f()}return g}},{key:"applyChanges",value:function(d,j){var
o=arguments.length>2&&arguments[2]!==undefined?arguments[2]:128;if(!j.length)return d;var
n=[],l=1,f=d.length?d[0]:null;for(var
h=0,i=0,g=0;;h++){var
c=h<j.length?j[h]:null,a=c?c.fromA:1e9;if(a-i>=o)while(f&&f.from<a){var
b=f;if(i>=b.from||a<=b.to||g){var
k=Math.max(b.from,i)-g,m=Math.min(b.to,a)-g;b=k>=m?null:new
e(k,m,b.tree,b.offset+g,h>0,!!c)}if(b)n.push(b);if(f.to>a)break;f=l<d.length?d[l++]:null}if(!c)break;i=c.toA;g=c.toA-c.toB}return n}}]);return e}(),e2=function(){function
b(){c(this,b)}d(b,[{key:"startParse",value:function(b,d,c){if(typeof
b=="string")b=new
kl(b);c=!c?[new
c2(0,b.length)]:c.length?c.map(function(b){return new
c2(b.from,b.to)}):[new
c2(0,0)];return this.createParse(b,d||[],c)}},{key:"parse",value:function
c(e,d,f){var
c=this.startParse(e,d,f);for(;;){var
b=c.advance();if(b)return b}}}]);return b}(),kl=function(){function
b(d){c(this,b);this.string=d}d(b,[{key:"length",get:function(){return this.string.length}},{key:"chunk",value:function(b){return this.string.slice(b)}},{key:"lineChunks",get:function(){return false}},{key:"read",value:function(b,c){return this.string.slice(b,c)}}]);return b}(),pa=new
n({perNode:true}),nM=0,av=function(){function
e(f,b,d){c(this,e);this.set=f;this.base=b;this.modified=d;this.id=nM++}d(e,null,[{key:"define",value:function(c){if(c===null||c===void
0?void
0:c.base)throw new
Error("Can not derive from a modified tag");var
f=new
e([],null,[]);f.set.push(f);if(c){var
d=b(c.set),a;try{for(d.s();!(a=d.n()).done;){var
g=a.value;f.set.push(g)}}catch(b){d.e(b)}finally{d.f()}}return f}},{key:"defineModifier",value:function(){var
c=new
eX();return function(b){if(b.modified.indexOf(c)>-1)return b;return eX.get(b.base||b,b.modified.concat(c).sort(function(b,c){return b.id-c.id}))}}}]);return e}(),nJ=0,eX=function(){function
e(){c(this,e);this.instances=[];this.id=nJ++}d(e,null,[{key:"get",value:function(g,c){if(!c.length)return g;var
k=c[0].instances.find(function(b){return b.base==g&&oe(c,b.modified)});if(k)return k;var
l=[],m=new
av(l,g,c),d=b(c),h;try{for(d.s();!(h=d.n()).done;){var
p=h.value;p.instances.push(m)}}catch(b){d.e(b)}finally{d.f()}var
o=ip(c),f=b(g.set),i;try{for(f.s();!(i=f.n()).done;){var
q=i.value,a=b(o),j;try{for(a.s();!(j=a.n()).done;){var
n=j.value;l.push(e.get(q,n))}}catch(b){a.e(b)}finally{a.f()}}}catch(b){f.e(b)}finally{f.f()}return m}}]);return e}();function
oe(b,c){return b.length==c.length&&b.every(function(d,b){return d==c[b]})}function
ip(e){var
a=[e];for(var
c=0;c<e.length;c++){var
d=b(ip(e.slice(0,c).concat(e.slice(c+1)))),f;try{for(d.s();!(f=d.n()).done;){var
g=f.value;a.push(g)}}catch(b){d.e(b)}finally{d.f()}}return a}function
oM(p){var
h=Object.create(null);for(var
o
in
p){var
g=p[o];if(!Array.isArray(g))g=[g];var
f=b(o.split(" ")),m;try{for(f.s();!(m=f.n()).done;){var
c=m.value;if(c){var
a=[],k=2,l=c;for(var
d=0;;){if(l=="..."&&d>0&&d+3==c.length){k=1;break}var
e=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(l);if(!e)throw new
RangeError("Invalid path: "+c);a.push(e[0]=="*"?"":e[0][0]=='"'?JSON.parse(e[0]):e[0]);d+=e[0].length;if(d==c.length)break;var
n=c[d++];if(d==c.length&&n=="!"){k=0;break}if(n!="/")throw new
RangeError("Invalid path: "+c);l=c.slice(d)}var
j=a.length-1,i=a[j];if(!i)throw new
RangeError("Invalid path: "+c);var
q=new
kd(g,k,j>0?a.slice(0,j):null);h[i]=q.sort(h[i])}}}catch(b){f.e(b)}finally{f.f()}}return iG.add(h)}var
iG=new
n(),kd=function(){function
b(a,e,d,f){c(this,b);this.tags=a;this.mode=e;this.context=d;this.next=f}d(b,[{key:"sort",value:function(b){if(!b||b.depth<this.depth){this.next=b;return this}b.next=this.sort(b.next);return b}},{key:"depth",get:function(){return this.context?this.context.length:0}}]);return b}();function
i8(n,k){var
f=Object.create(null),d=b(n),h;try{for(d.s();!(h=d.n()).done;){var
c=h.value;if(!Array.isArray(c.tag))f[c.tag.id]=c["class"];else{var
e=b(c.tag),i;try{for(e.s();!(i=e.n()).done;){var
m=i.value;f[m.id]=c["class"]}}catch(b){e.e(b)}finally{e.f()}}}}catch(b){d.e(b)}finally{d.f()}var
a=k||{},l=a.scope,g=a.all,j=g===void
0?null:g;return{style:function(l){var
e=j,c=b(l),g;try{for(c.s();!(g=c.n()).done;){var
k=g.value,d=b(k.set),h;try{for(d.s();!(h=d.n()).done;){var
i=h.value,a=f[i.id];if(a){e=e?e+" "+a:a;break}}}catch(b){d.e(b)}finally{d.f()}}}catch(b){c.e(b)}finally{c.f()}return e},scope:l}}function
mJ(g,h){var
d=null,c=b(g),f;try{for(c.s();!(f=c.n()).done;){var
a=f.value,e=a.style(h);if(e)d=d?d+" "+e:e}}catch(b){c.e(b)}finally{c.f()}return d}function
mK(f,c,a){var
d=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0,e=arguments.length>4&&arguments[4]!==undefined?arguments[4]:f.length,b=new
jS(d,Array.isArray(c)?c:[c],a);b.highlightRange(f.cursor(),d,e,"",b.highlighters);b.flush(e)}var
jS=function(){function
b(d,e,f){c(this,b);this.at=d;this.highlighters=e;this.span=f;this["class"]=""}d(b,[{key:"startSpan",value:function(b,c){if(c!=this["class"]){this.flush(b);if(b>this.at)this.at=b;this["class"]=c}}},{key:"flush",value:function(b){if(b>this.at&&this["class"])this.span(this.at,b,this["class"])}},{key:"highlightRange",value:function(b,f,d,a,k){var
q=b.type,h=b.from,r=b.to;if(h>=d||r<=f)return;if(q.isTop)k=this.highlighters.filter(function(b){return!b.scope||b.scope(q)});var
e=a,c=q.prop(iG),t=false;while(c){if(!c.context||b.matchContext(c.context)){var
p=mJ(k,c.tags);if(p){if(e)e+=" ";e+=p;if(c.mode==1)a+=(a?" ":"")+p;else
if(c.mode==0)t=true}break}c=c.next}this.startSpan(b.from,e);if(t)return;var
g=b.tree&&b.tree.prop(n.mounted);if(g&&g.overlay){var
v=b.node.enter(g.overlay[0].from+h,1),w=this.highlighters.filter(function(b){return!b.scope||b.scope(g.tree.type)}),s=b.firstChild();for(var
l=0,j=h;;l++){var
i=l<g.overlay.length?g.overlay[l]:null,m=i?i.from+h:r,u=Math.max(f,j),o=Math.min(d,m);if(u<o&&s)while(b.from<o){this.highlightRange(b,u,o,a,k);this.startSpan(Math.min(d,b.to),e);if(b.to>=m||!b.nextSibling())break}if(!i||m>d)break;j=i.to+h;if(j>f){this.highlightRange(v.cursor(),Math.max(f,i.from+h),Math.min(d,j),a,w);this.startSpan(j,e)}}if(s)b.parent()}else
if(b.firstChild()){do{if(b.to<=f)continue;if(b.from>=d)break;this.highlightRange(b,f,d,a,k);this.startSpan(Math.min(d,b.to),e)}while(b.nextSibling());b.parent()}}}]);return b}(),a=av.define,b8=a(),aB=a(),je=a(aB),is=a(aB),aA=a(),cG=a(aA),d9=a(aA),af=a(),aL=a(af),ah=a(),ai=a(),d_=a(),bq=a(d_),ct=a(),e={comment:b8,lineComment:a(b8),blockComment:a(b8),docComment:a(b8),name:aB,variableName:a(aB),typeName:je,tagName:a(je),propertyName:is,attributeName:a(is),className:a(aB),labelName:a(aB),namespace:a(aB),macroName:a(aB),literal:aA,string:cG,docString:a(cG),character:a(cG),attributeValue:a(cG),number:d9,integer:a(d9),"float":a(d9),bool:a(aA),regexp:a(aA),escape:a(aA),color:a(aA),url:a(aA),keyword:ah,self:a(ah),"null":a(ah),atom:a(ah),unit:a(ah),modifier:a(ah),operatorKeyword:a(ah),controlKeyword:a(ah),definitionKeyword:a(ah),moduleKeyword:a(ah),operator:ai,derefOperator:a(ai),arithmeticOperator:a(ai),logicOperator:a(ai),bitwiseOperator:a(ai),compareOperator:a(ai),updateOperator:a(ai),definitionOperator:a(ai),typeOperator:a(ai),controlOperator:a(ai),punctuation:d_,separator:a(d_),bracket:bq,angleBracket:a(bq),squareBracket:a(bq),paren:a(bq),brace:a(bq),content:af,heading:aL,heading1:a(aL),heading2:a(aL),heading3:a(aL),heading4:a(aL),heading5:a(aL),heading6:a(aL),contentSeparator:a(af),list:a(af),quote:a(af),emphasis:a(af),strong:a(af),link:a(af),monospace:a(af),strikethrough:a(af),inserted:a(),deleted:a(),changed:a(),invalid:a(),meta:ct,documentMeta:a(ct),annotation:a(ct),processingInstruction:a(ct),definition:av.defineModifier(),constant:av.defineModifier(),"function":av.defineModifier(),standard:av.defineModifier(),local:av.defineModifier(),special:av.defineModifier()},o9=i8([{tag:e.link,"class":"tok-link"},{tag:e.heading,"class":"tok-heading"},{tag:e.emphasis,"class":"tok-emphasis"},{tag:e.strong,"class":"tok-strong"},{tag:e.keyword,"class":"tok-keyword"},{tag:e.atom,"class":"tok-atom"},{tag:e.bool,"class":"tok-bool"},{tag:e.url,"class":"tok-url"},{tag:e.labelName,"class":"tok-labelName"},{tag:e.inserted,"class":"tok-inserted"},{tag:e.deleted,"class":"tok-deleted"},{tag:e.literal,"class":"tok-literal"},{tag:e.string,"class":"tok-string"},{tag:e.number,"class":"tok-number"},{tag:[e.regexp,e.escape,e.special(e.string)],"class":"tok-string2"},{tag:e.variableName,"class":"tok-variableName"},{tag:e.local(e.variableName),"class":"tok-variableName tok-local"},{tag:e.definition(e.variableName),"class":"tok-variableName tok-definition"},{tag:e.special(e.variableName),"class":"tok-variableName2"},{tag:e.definition(e.propertyName),"class":"tok-propertyName tok-definition"},{tag:e.typeName,"class":"tok-typeName"},{tag:e.namespace,"class":"tok-namespace"},{tag:e.className,"class":"tok-className"},{tag:e.macroName,"class":"tok-macroName"},{tag:e.propertyName,"class":"tok-propertyName"},{tag:e.operator,"class":"tok-operator"},{tag:e.comment,"class":"tok-comment"},{tag:e.meta,"class":"tok-meta"},{tag:e.invalid,"class":"tok-invalid"},{tag:e.punctuation,"class":"tok-punctuation"}]),c_,aJ=new
n();function
dc(b){return h.define({combine:b?function(c){return c.concat(b)}:void
0})}var
K=function(){function
e(b,f){var
d=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[];c(this,e);this.data=b;if(!w.prototype.hasOwnProperty("tree"))Object.defineProperty(w.prototype,"tree",{get:function(){return x(this)}});this.parser=f;this.extension=[ao.of(this),w.languageData.of(function(b,c,d){return b.facet(hO(b,c,d))})].concat(d)}d(e,[{key:"isActiveAt",value:function(d,b){var
c=arguments.length>2&&arguments[2]!==undefined?arguments[2]:-1;return hO(d,b,c)==this.data}},{key:"findRegions",value:function(d){var
h=this,c=d.facet(ao);if((c===null||c===void
0?void
0:c.data)==this.data)return[{from:0,to:d.doc.length}];if(!c||!c.allowsNesting)return[];var
f=[],e=function
l(e,c){if(e.prop(aJ)==h.data){f.push({from:c,to:c+e.length});return}var
d=e.prop(n.mounted);if(d)if(d.tree.prop(aJ)==h.data){if(d.overlay){var
g=b(d.overlay),j;try{for(g.s();!(j=g.n()).done;){var
i=j.value;f.push({from:i.from+c,to:i.to+c})}}catch(b){g.e(b)}finally{g.f()}}else
f.push({from:c,to:c+e.length});return}else
if(d.overlay){var
m=f.length;l(d.tree,d.overlay[0].from+c);if(f.length>m)return}for(var
a=0;a<e.children.length;a++){var
k=e.children[a];if(k
instanceof
y)l(k,e.positions[a]+c)}};e(x(d),0);return f}},{key:"allowsNesting",get:function(){return true}}]);return e}();K.setState=m.define();function
hO(e,f,a){var
d=e.facet(ao);if(!d)return null;var
c=d.data;if(d.allowsNesting)for(var
b=x(e).topNode;b;b=b.enter(f,a,G.ExcludeBuffers))c=b.type.prop(aJ)||c;return c}var
kr=function(e){l(b,e);var
f=k(b);function
b(a,e){var
d;c(this,b);d=f.call(this,a,e);d.parser=e;return d}d(b,[{key:"configure",value:function(c){return new
b(this.data,this.parser.configure(c))}},{key:"allowsNesting",get:function(){return this.parser.hasWrappers()}}],[{key:"define",value:function(d){var
c=dc(d.languageData);return new
b(c,d.parser.configure({props:[aJ.add(function(b){return b.isTop?c:void
0})]}))}}]);return b}(K);function
x(c){var
b=c.field(K.state,false);return b?b.tree:y.empty}function
fx(e,d){var
f=arguments.length>2&&arguments[2]!==undefined?arguments[2]:50,c,b=(c=e.field(K.state,false))===null||c===void
0?void
0:c.context;return!b?null:b.isDone(d)||b.work(f,d)?b.tree:null}function
kW(c){var
d=arguments.length>1&&arguments[1]!==undefined?arguments[1]:c.doc.length,b;return((b=c.field(K.state,false))===null||b===void
0?void
0:b.context.isDone(d))||false}function
kG(b){var
e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:b.viewport.to,d=arguments.length>2&&arguments[2]!==undefined?arguments[2]:100,c=fx(b.state,e,d);if(c!=x(b.state))b.dispatch({});return!!c}function
kV(c){var
b;return((b=c.plugin(im))===null||b===void
0?void
0:b.isWorking())||false}var
jK=function(){function
b(d){var
e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:d.length;c(this,b);this.doc=d;this.length=e;this.cursorPos=0;this.string="";this.cursor=d.iter()}d(b,[{key:"syncTo",value:function(b){this.string=this.cursor.next(b-this.cursorPos).value;this.cursorPos=b+this.string.length;return this.cursorPos-this.string.length}},{key:"chunk",value:function(b){this.syncTo(b);return this.string}},{key:"lineChunks",get:function(){return true}},{key:"read",value:function(b,d){var
c=this.cursorPos-this.string.length;return b<c||d>=this.cursorPos?this.doc.sliceString(b,d):this.string.slice(b-c,d-c)}}]);return b}(),bs=null,bY=function(){function
e(d,g){var
b=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[],h=arguments.length>3?arguments[3]:undefined,i=arguments.length>4?arguments[4]:undefined,j=arguments.length>5?arguments[5]:undefined,a=arguments.length>6?arguments[6]:undefined,f=arguments.length>7?arguments[7]:undefined;c(this,e);this.parser=d;this.state=g;this.fragments=b;this.tree=h;this.treeLen=i;this.viewport=j;this.skipped=a;this.scheduleOn=f;this.parse=null;this.tempSkipped=[]}d(e,[{key:"startParse",value:function(){return this.parser.startParse(new
jK(this.state.doc),this.fragments)}},{key:"work",value:function(d,c){var
b=this;if(c!=null&&c>=this.state.doc.length)c=void
0;if(this.tree!=y.empty&&this.isDone(c!==null&&c!==void
0?c:this.state.doc.length)){this.takeTree();return true}return this.withContext(function(){var
e;if(typeof
d=="number"){var
a=Date.now()+d;d=function(){return Date.now()>a}}if(!b.parse)b.parse=b.startParse();if(c!=null&&(b.parse.stoppedAt==null||b.parse.stoppedAt>c)&&c<b.state.doc.length)b.parse.stopAt(c);for(;;){var
f=b.parse.advance();if(f){b.fragments=b.withoutTempSkipped(bV.addTree(f,b.fragments,b.parse.stoppedAt!=null));b.treeLen=(e=b.parse.stoppedAt)!==null&&e!==void
0?e:b.state.doc.length;b.tree=f;b.parse=null;if(b.treeLen<(c!==null&&c!==void
0?c:b.state.doc.length))b.parse=b.startParse();else
return true}if(d())return false}})}},{key:"takeTree",value:function(){var
d=this,b,c;if(this.parse&&(b=this.parse.parsedPos)>=this.treeLen){if(this.parse.stoppedAt==null||this.parse.stoppedAt>b)this.parse.stopAt(b);this.withContext(function(){while(!(c=d.parse.advance()));});this.treeLen=b;this.tree=c;this.fragments=this.withoutTempSkipped(bV.addTree(this.tree,this.fragments,true));this.parse=null}}},{key:"withContext",value:function(b){var
c=bs;bs=this;try{return b()}finally{bs=c}}},{key:"withoutTempSkipped",value:function(c){for(var
b;b=this.tempSkipped.pop();)c=gQ(c,b.from,b.to);return c}},{key:"changes",value:function(c,o){var
a=this.fragments,m=this.tree,n=this.treeLen,f=this.viewport,g=this.skipped;this.takeTree();if(!c.empty){var
k=[];c.iterChangedRanges(function(b,d,c,e){return k.push({fromA:b,toA:d,fromB:c,toB:e})});a=bV.applyChanges(a,k);m=y.empty;n=0;f={from:c.mapPos(f.from,-1),to:c.mapPos(f.to,1)};if(this.skipped.length){g=[];var
d=b(this.skipped),i;try{for(d.s();!(i=d.n()).done;){var
h=i.value,j=c.mapPos(h.from,1),l=c.mapPos(h.to,-1);if(j<l)g.push({from:j,to:l})}}catch(b){d.e(b)}finally{d.f()}}}return new
e(this.parser,o,a,m,n,f,g,this.scheduleOn)}},{key:"updateViewport",value:function(b){if(this.viewport.from==b.from&&this.viewport.to==b.to)return false;this.viewport=b;var
a=this.skipped.length;for(var
c=0;c<this.skipped.length;c++){var
d=this.skipped[c],e=d.from,f=d.to;if(e<b.to&&f>b.from){this.fragments=gQ(this.fragments,e,f);this.skipped.splice(c--,1)}}if(this.skipped.length>=a)return false;this.reset();return true}},{key:"reset",value:function(){if(this.parse){this.takeTree();this.parse=null}}},{key:"skipUntilInView",value:function(b,c){this.skipped.push({from:b,to:c})}},{key:"isDone",value:function(b){b=Math.min(b,this.state.doc.length);var
c=this.fragments;return this.treeLen>=b&&c.length&&c[0].from==0&&c[0].to>=b}}],[{key:"create",value:function(b,c,d){return new
e(b,c,[],y.empty,0,d,[],null)}},{key:"getSkippingParser",value:function(f){return new(function(a){l(e,a);var
g=k(e);function
e(){c(this,e);return g.apply(this,arguments)}d(e,[{key:"createParse",value:function(h,e,d){var
a=d[0].from,g=d[d.length-1].to,c={parsedPos:a,advance:function(){var
c=bs;if(c){var
e=b(d),h;try{for(e.s();!(h=e.n()).done;){var
i=h.value;c.tempSkipped.push(i)}}catch(b){e.e(b)}finally{e.f()}if(f)c.scheduleOn=c.scheduleOn?Promise.all([c.scheduleOn,f]):f}this.parsedPos=g;return new
y(T.none,[],[],g-a)},stoppedAt:null,stopAt:function(){}};return c}}]);return e}(e2))()}},{key:"get",value:function(){return bs}}]);return e}();function
gQ(d,b,c){return bV.applyChanges(d,[{fromA:b,toA:c,fromB:b,toB:c}])}var
cU=function(){function
b(d){c(this,b);this.context=d;this.tree=d.tree}d(b,[{key:"apply",value:function(c){if(!c.docChanged&&this.tree==this.context.tree)return this;var
d=this.context.changes(c.changes,c.state),e=this.context.treeLen==c.startState.doc.length?void
0:Math.max(c.changes.mapPos(this.context.treeLen),d.viewport.to);if(!d.work(20,e))d.takeTree();return new
b(d)}}],[{key:"init",value:function(d){var
e=Math.min(3e3,d.doc.length),c=bY.create(d.facet(ao).parser,d,{from:0,to:e});if(!c.work(20,e))c.takeTree();return new
b(c)}}]);return b}();K.state=A.define({create:cU.init,update:function(a,c){var
d=b(c.effects),e;try{for(d.s();!(e=d.n()).done;){var
f=e.value;if(f.is(K.setState))return f.value}}catch(b){d.e(b)}finally{d.f()}if(c.startState.facet(ao)!=c.state.facet(ao))return cU.init(c.state);return a.apply(c)}});var
iC=function(b){var
c=setTimeout(function(){return b()},500);return function(){return clearTimeout(c)}};if(typeof
requestIdleCallback!="undefined")iC=function(c){var
b=-1,d=setTimeout(function(){b=requestIdleCallback(c,{timeout:500-100})},100);return function(){return b<0?clearTimeout(d):cancelIdleCallback(b)}};var
d1=typeof
navigator!="undefined"&&((c_=navigator.scheduling)===null||c_===void
0?void
0:c_.isInputPending)?function(){return navigator.scheduling.isInputPending()}:null,im=D.fromClass(function(){function
b(d){c(this,b);this.view=d;this.working=null;this.workScheduled=0;this.chunkEnd=-1;this.chunkBudget=-1;this.work=this.work.bind(this);this.scheduleWork()}d(b,[{key:"update",value:function(c){var
b=this.view.state.field(K.state).context;if(b.updateViewport(c.view.viewport)||this.view.viewport.to>b.treeLen)this.scheduleWork();if(c.docChanged){if(this.view.hasFocus)this.chunkBudget+=50;this.scheduleWork()}this.checkAsyncSchedule(b)}},{key:"scheduleWork",value:function(){if(this.working)return;var
c=this.view.state,b=c.field(K.state);if(b.tree!=b.context.tree||!b.context.isDone(c.doc.length))this.working=iC(this.work)}},{key:"work",value:function(f){this.working=null;var
d=Date.now();if(this.chunkEnd<d&&(this.chunkEnd<0||this.view.hasFocus)){this.chunkEnd=d+3e4;this.chunkBudget=3e3}if(this.chunkBudget<=0)return;var
e=this.view,g=e.state,c=e.viewport.to,b=g.field(K.state);if(b.tree==b.context.tree&&b.context.isDone(c+1e5))return;var
i=Date.now()+Math.min(this.chunkBudget,100,f&&!d1?Math.max(25,f.timeRemaining()-5):1e9),h=b.context.treeLen<c&&g.doc.length>c+1e3,a=b.context.work(function(){return d1&&d1()||Date.now()>i},c+(h?0:1e5));this.chunkBudget-=Date.now()-d;if(a||this.chunkBudget<=0){b.context.takeTree();this.view.dispatch({effects:K.setState.of(new
cU(b.context))})}if(this.chunkBudget>0&&!(a&&!h))this.scheduleWork();this.checkAsyncSchedule(b.context)}},{key:"checkAsyncSchedule",value:function(c){var
b=this;if(c.scheduleOn){this.workScheduled++;c.scheduleOn.then(function(){return b.scheduleWork()})["catch"](function(c){return R(b.view.state,c)}).then(function(){return b.workScheduled--});c.scheduleOn=null}}},{key:"destroy",value:function(){if(this.working)this.working()}},{key:"isWorking",value:function(){return!!(this.working||this.workScheduled>0)}}]);return b}(),{eventHandlers:{focus:function(){this.scheduleWork()}}}),ao=h.define({combine:function(b){return b.length?b[0]:null},enables:[K.state,im]}),kt=d(function
e(b){var
d=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];c(this,e);this.language=b;this.support=d;this.extension=[b,d]}),ks=function(){function
e(g,b,d,f,a){var
h=arguments.length>5&&arguments[5]!==undefined?arguments[5]:void
0;c(this,e);this.name=g;this.alias=b;this.extensions=d;this.filename=f;this.loadFunc=a;this.support=h;this.loading=null}d(e,[{key:"load",value:function(){var
b=this;return this.loading||(this.loading=this.loadFunc().then(function(c){return b.support=c},function(c){b.loading=null;throw c}))}}],[{key:"of",value:function(b){var
c=b.load,d=b.support;if(!c){if(!d)throw new
RangeError("Must pass either 'load' or 'support' to LanguageDescription.of");c=function(){return Promise.resolve(d)}}return new
e(b.name,(b.alias||[]).concat(b.name).map(function(b){return b.toLowerCase()}),b.extensions||[],b.filename,c,d)}},{key:"matchFilename",value:function(h,j){var
c=b(h),f;try{for(c.s();!(f=c.n()).done;){var
e=f.value;if(e.filename&&e.filename.test(j))return e}}catch(b){c.e(b)}finally{c.f()}var
i=/\.([^.]+)$/.exec(j);if(i){var
d=b(h),a;try{for(d.s();!(a=d.n()).done;){var
g=a.value;if(g.extensions.indexOf(i[1])>-1)return g}}catch(b){d.e(b)}finally{d.f()}}return null}},{key:"matchLanguageName",value:function(m,c){var
n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;c=c.toLowerCase();var
d=b(m),i;try{for(d.s();!(i=d.n()).done;){var
h=i.value;if(h.alias.some(function(b){return b==c}))return h}}catch(b){d.e(b)}finally{d.f()}if(n){var
e=b(m),j;try{for(e.s();!(j=e.n()).done;){var
l=j.value,f=b(l.alias),k;try{for(f.s();!(k=f.n()).done;){var
a=k.value,g=c.indexOf(a);if(g>-1&&(a.length>2||!/\w/.test(c[g-1])&&!/\w/.test(c[g+a.length])))return l}}catch(b){f.e(b)}finally{f.f()}}}catch(b){e.e(b)}finally{e.f()}}return null}}]);return e}(),df=h.define(),bm=h.define({combine:function(b){if(!b.length)return"  ";if(!/^(?: +|\t+)$/.test(b[0]))throw new
Error("Invalid indent unit: "+JSON.stringify(b[0]));return b[0]}});function
aw(c){var
b=c.facet(bm);return b.charCodeAt(0)==9?c.tabSize*b.length:b.length}function
aI(e,b){var
c="",f=e.tabSize;if(e.facet(bm).charCodeAt(0)==9)while(b>=f){c+="\t";b-=f}for(var
d=0;d<b;d++)c+=" ";return c}function
bl(c,f){if(c
instanceof
w)c=new
aV(c);var
d=b(c.state.facet(df)),e;try{for(d.s();!(e=d.n()).done;){var
h=e.value,a=h(c,f);if(a!=null)return a}}catch(b){d.e(b)}finally{d.f()}var
g=x(c.state);return g?oP(c,g,f):null}function
kK(d,j,k){var
h=Object.create(null),i=new
aV(d,{overrideIndentation:function(c){var
b;return(b=h[c])!==null&&b!==void
0?b:-1}}),f=[];for(var
e=j;e<=k;){var
b=d.doc.lineAt(e);e=b.to+1;var
c=bl(i,b.from);if(c==null)continue;if(!/\S/.test(b.text))c=0;var
a=/^\s*/.exec(b.text)[0],g=aI(d,c);if(a!=g){h[b.from]=c;f.push({from:b.from,to:b.from+a.length,insert:g})}}return d.changes(f)}var
aV=function(){function
b(d){var
e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};c(this,b);this.state=d;this.options=e;this.unit=aw(d)}d(b,[{key:"lineAt",value:function(d){var
f=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1,c=this.state.doc.lineAt(d),e=this.options,b=e.simulateBreak,a=e.simulateDoubleBreak;if(b!=null&&b>=c.from&&b<=c.to)if(a&&b==d)return{text:"",from:d};else
if(f<0?b<d:b<=d)return{text:c.text.slice(b-c.from),from:b};else
return{text:c.text.slice(0,b-c.from),from:c.from};return c}},{key:"textAfterPos",value:function(b){var
f=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;if(this.options.simulateDoubleBreak&&b==this.options.simulateBreak)return"";var
c=this.lineAt(b,f),e=c.text,d=c.from;return e.slice(b-d,Math.min(e.length,b+100-d))}},{key:"column",value:function(f){var
g=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1,c=this.lineAt(f,g),b=c.text,d=c.from,a=this.countColumn(b,f-d),e=this.options.overrideIndentation?this.options.overrideIndentation(d):-1;if(e>-1)a+=e-this.countColumn(b,b.search(/\S|$/));return a}},{key:"countColumn",value:function(b){var
c=arguments.length>1&&arguments[1]!==undefined?arguments[1]:b.length;return bi(b,this.state.tabSize,c)}},{key:"lineIndent",value:function(g){var
f=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1,b=this.lineAt(g,f),e=b.text,a=b.from,c=this.options.overrideIndentation;if(c){var
d=c(a);if(d>-1)return d}return this.countColumn(e,e.search(/\S|$/))}},{key:"simulatedBreak",get:function(){return this.options.simulateBreak||null}}]);return b}(),fF=new
n();function
oP(d,c,b){return hA(c.resolveInner(b).enterUnfinishedNodesBefore(b),b,d)}function
mO(b){return b.pos==b.options.simulateBreak&&b.options.simulateDoubleBreak}function
mT(b){var
f=b.type.prop(fF);if(f)return f;var
e=b.firstChild,d;if(e&&(d=e.type.prop(n.closedBy))){var
c=b.lastChild,a=c&&d.indexOf(c.name)>-1;return function(b){return g0(b,true,1,void
0,a&&!mO(b)?c.from:void
0)}}return b.parent==null?oW:null}function
hA(b,e,d){for(;b;b=b.parent){var
c=mT(b);if(c)return c(fh.create(d,e,b))}return null}function
oW(){return 0}var
fh=function(e){l(b,e);var
f=k(b);function
b(e,g,a){var
d;c(this,b);d=f.call(this,e.state,e.options);d.base=e;d.pos=g;d.node=a;return d}d(b,[{key:"textAfter",get:function(){return this.textAfterPos(this.pos)}},{key:"baseIndent",get:function(){var
c=this.state.doc.lineAt(this.node.from);for(;;){var
b=this.node.resolve(c.from);while(b.parent&&b.parent.from==b.from)b=b.parent;if(m8(b,this.node))break;c=this.state.doc.lineAt(b.from)}return this.lineIndent(c.from)}},{key:"continue",value:function(){var
b=this.node.parent;return b?hA(b,this.pos,this.base):0}}],[{key:"create",value:function(c,e,d){return new
b(c,e,d)}}]);return b}(aV);function
m8(d,c){for(var
b=c;b;b=b.parent)if(d==b)return true;return false}function
lj(e){var
d=e.node,c=d.childAfter(d.from),h=d.lastChild;if(!c)return null;var
a=e.options.simulateBreak,f=e.state.doc.lineAt(c.from),i=a==null||a<=f.from?f.to:Math.min(f.to,a);for(var
g=c.to;;){var
b=d.childAfter(g);if(!b||b==h)return null;if(!b.type.isSkipped)return b.from<i?c:null;g=b.to}}function
kA(b){var
f=b.closing,c=b.align,e=c===void
0?true:c,d=b.units,a=d===void
0?1:d;return function(b){return g0(b,e,a,f)}}function
g0(b,g,i,d,h){var
f=b.textAfter,e=f.match(/^\s*/)[0].length,a=d&&f.slice(e,e+d.length)==d||h==b.pos+e,c=g?lj(b):null;if(c)return a?b.column(c.from):b.column(c.to);return b.baseIndent+(a?0:b.unit*i)}var
kC=function(b){return b.baseIndent};function
ky(){var
b=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},d=b.except,c=b.units,e=c===void
0?1:c;return function(b){var
c=d&&d.test(b.textAfter);return b.baseIndent+(c?0:e*b.unit)}}var
jL=200;function
fG(){return w.transactionFilter.of(function(c){if(!c.docChanged||!c.isUserEvent("input.type")&&!c.isUserEvent("input.complete"))return c;var
o=c.startState.languageDataAt("indentOnInput",c.startState.selection.main.head);if(!o.length)return c;var
j=c.newDoc,g=c.newSelection.main.head,m=j.lineAt(g);if(g>m.from+jL)return c;var
q=j.sliceString(m.from,g);if(!o.some(function(b){return b.test(q)}))return c;var
f=c.state,l=-1,a=[],e=b(f.selection.ranges),h;try{for(e.s();!(h=e.n()).done;){var
p=h.value.head,d=f.doc.lineAt(p);if(d.from==l)continue;l=d.from;var
k=bl(f,d.from);if(k==null)continue;var
i=/^\s*/.exec(d.text)[0],n=aI(f,k);if(i!=n)a.push({from:d.from,to:d.from+i.length,insert:n})}}catch(b){e.e(b)}finally{e.f()}return a.length?[c,{changes:a,sequential:true}]:c})}var
fE=h.define(),fD=new
n();function
kD(d){var
b=d.firstChild,c=d.lastChild;return b&&b.to<c.from?{from:b.to,to:c.type.isError?d.to:c.from}:null}function
oO(a,h,c){var
e=x(a);if(e.length<c)return null;var
i=e.resolveInner(c),f=null;for(var
b=i;b;b=b.parent){if(b.to<=c||b.from>c)continue;if(f&&b.from<h)break;var
g=b.type.prop(fD);if(g&&(b.to<e.length-50||e.length==a.doc.length||!m$(b))){var
d=g(b,a);if(d&&d.from<=c&&d.from>=h&&d.to>c)f=d}}return f}function
m$(c){var
b=c.lastChild;return b&&b.to==c.to&&b.type.isError}function
bk(d,a,f){var
c=b(d.facet(fE)),e;try{for(c.s();!(e=c.n()).done;){var
h=e.value,g=h(d,a,f);if(g)return g}}catch(b){c.e(b)}finally{c.f()}return oO(d,a,f)}function
h0(d,c){var
b=c.mapPos(d.from,1),e=c.mapPos(d.to,-1);return b>=e?void
0:{from:b,to:e}}var
bj=m.define({map:h0}),aW=m.define({map:h0});function
i1(f){var
d=[],c=b(f.state.selection.ranges),e;try{var
a=function(){var
b=e.value.head;if(d.some(function(c){return c.from<=b&&c.to>=b}))return"continue";d.push(f.lineBlockAt(b))};for(c.s();!(e=c.n()).done;){var
g=a();if(g==="continue")continue}}catch(b){c.e(b)}finally{c.f()}return d}var
an=A.define({create:function(){return i.none},update:function(c,f){c=c.map(f.changes);var
e=b(f.effects),a;try{var
h=function(){var
b=a.value;if(b.is(bj)&&!ml(c,b.value.from,b.value.to))c=c.update({add:[hl.range(b.value.from,b.value.to)]});else
if(b.is(aW))c=c.update({filter:function(c,d){return b.value.from!=c||b.value.to!=d},filterFrom:b.value.from,filterTo:b.value.to})};for(e.s();!(a=e.n()).done;)h()}catch(b){e.e(b)}finally{e.f()}if(f.selection){var
g=false,d=f.selection.main.head;c.between(d,d,function(b,c){if(b<d&&c>d)g=true});if(g)c=c.update({filterFrom:d,filterTo:d,filter:function(b,c){return c<=d||b>=d}})}return c},provide:function(b){return j.decorations.from(b)},toJSON:function(c,d){var
b=[];c.between(0,d.doc.length,function(c,d){b.push(c,d)});return b},fromJSON:function(b){if(!Array.isArray(b)||b.length%2)throw new
RangeError("Invalid JSON for fold state");var
e=[];for(var
c=0;c<b.length;){var
d=b[c++],f=b[c++];if(typeof
d!="number"||typeof
f!="number")throw new
RangeError("Invalid JSON for fold state");e.push(hl.range(d,f))}return i.set(e,true)}});function
kE(b){return b.field(an,false)||q.empty}function
cc(e,d,f){var
c,b=null;(c=e.field(an,false))===null||c===void
0?void
0:c.between(d,f,function(c,d){if(!b||b.from>c)b={from:c,to:d}});return b}function
ml(d,b,e){var
c=false;d.between(b,b,function(d,f){if(d==b&&f==e)c=true});return c}function
h2(c,b){return c.field(an,false)?b:b.concat(m.appendConfig.of(da()))}var
fA=function(c){var
d=b(i1(c)),f;try{for(d.s();!(f=d.n()).done;){var
a=f.value,e=bk(c.state,a.from,a.to);if(e){c.dispatch({effects:h2(c.state,[bj.of(e),f2(c,e)])});return true}}}catch(b){d.e(b)}finally{d.f()}return false},fY=function(c){if(!c.state.field(an,false))return false;var
e=[],d=b(i1(c)),a;try{for(d.s();!(a=d.n()).done;){var
g=a.value,f=cc(c.state,g.from,g.to);if(f)e.push(aW.of(f),f2(c,f,false))}}catch(b){d.e(b)}finally{d.f()}if(e.length)c.dispatch({effects:e});return e.length>0};function
f2(b,c){var
d=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true,e=b.state.doc.lineAt(c.from).number,f=b.state.doc.lineAt(c.to).number;return j.announce.of("".concat(b.state.phrase(d?"Folded lines":"Unfolded lines")," ").concat(e," ").concat(b.state.phrase("to")," ").concat(f,"."))}var
fz=function(b){var
a=b.state,c=[];for(var
f=0;f<a.doc.length;){var
e=b.lineBlockAt(f),d=bk(a,e.from,e.to);if(d)c.push(bj.of(d));f=(d?b.lineBlockAt(d.to):e).to+1}if(c.length)b.dispatch({effects:h2(b.state,c)});return!!c.length},fX=function(c){var
b=c.state.field(an,false);if(!b||!b.size)return false;var
d=[];b.between(0,c.state.doc.length,function(b,c){d.push(aW.of({from:b,to:c}))});c.dispatch({effects:d});return true},fC=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:fA},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:fY},{key:"Ctrl-Alt-[",run:fz},{key:"Ctrl-Alt-]",run:fX}],lQ={placeholderDOM:null,placeholderText:"\u2026"},hk=h.define({combine:function(b){return ad(b,lQ)}});function
da(b){var
c=[an,k$];if(b)c.push(hk.of(b));return c}var
hl=i.replace({widget:new(function(e){l(b,e);var
f=k(b);function
b(){c(this,b);return f.apply(this,arguments)}d(b,[{key:"toDOM",value:function(c){var
e=c.state,d=e.facet(hk),f=function(b){var
e=c.lineBlockAt(c.posAtDOM(b.target)),d=cc(c.state,e.from,e.to);if(d)c.dispatch({effects:aW.of(d)});b.preventDefault()};if(d.placeholderDOM)return d.placeholderDOM(c,f);var
b=document.createElement("span");b.textContent=d.placeholderText;b.setAttribute("aria-label",e.phrase("folded code"));b.title=e.phrase("unfold");b.className="cm-foldPlaceholder";b.onclick=f;return b}}]);return b}(am))()}),mm={openText:"\u2304",closedText:"\u203A",markerDOM:null,domEventHandlers:{},foldingChanged:function(){return false}},cR=function(e){l(b,e);var
f=k(b);function
b(e,a){var
d;c(this,b);d=f.call(this);d.config=e;d.open=a;return d}d(b,[{key:"eq",value:function(b){return this.config==b.config&&this.open==b.open}},{key:"toDOM",value:function(c){if(this.config.markerDOM)return this.config.markerDOM(this.open);var
b=document.createElement("span");b.textContent=this.open?this.config.openText:this.config.closedText;b.title=c.state.phrase(this.open?"Fold line":"Unfold line");return b}}]);return b}(aa);function
fB(){var
g=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},e=Object.assign(Object.assign({},mm),g),h=new
cR(e,true),i=new
cR(e,false),a=D.fromClass(function(){function
f(b){c(this,f);this.from=b.viewport.from;this.markers=this.buildMarkers(b)}d(f,[{key:"update",value:function(b){if(b.docChanged||b.viewportChanged||b.startState.facet(ao)!=b.state.facet(ao)||b.startState.field(an,false)!=b.state.field(an,false)||x(b.startState)!=x(b.state)||e.foldingChanged(b))this.markers=this.buildMarkers(b.view)}},{key:"buildMarkers",value:function(e){var
a=new
aT(),d=b(e.viewportLineBlocks),f;try{for(d.s();!(f=d.n()).done;){var
c=f.value,g=cc(e.state,c.from,c.to)?i:bk(e.state,c.from,c.to)?h:null;if(g)a.add(c.from,c.from,g)}}catch(b){d.e(b)}finally{d.f()}return a.finish()}}]);return f}()),f=e.domEventHandlers;return[a,hs({"class":"cm-foldGutter",markers:function(c){var
b;return((b=c.plugin(a))===null||b===void
0?void
0:b.markers)||q.empty},initialSpacer:function(){return new
cR(e,false)},domEventHandlers:Object.assign(Object.assign({},f),{click:function(c,b,a){if(f.click&&f.click(c,b,a))return true;var
d=cc(c.state,b.from,b.to);if(d){c.dispatch({effects:aW.of(d)});return true}var
e=bk(c.state,b.from,b.to);if(e){c.dispatch({effects:bj.of(e)});return true}return false}})}),da()]}var
k$=j.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}}),bX=function(){function
e(h,b){c(this,e);var
d;function
a(c){var
b=au.newName();(d||(d=Object.create(null)))["."+b]=c;return b}var
g=typeof
b.all=="string"?b.all:b.all?a(b.all):void
0,f=b.scope;this.scope=f
instanceof
K?function(b){return b.prop(aJ)==f.data}:f?function(b){return b==f}:void
0;this.style=i8(h.map(function(b){return{tag:b.tag,"class":b["class"]||a(Object.assign({},b,{tag:null}))}}),{all:g}).style;this.module=d?new
au(d):null;this.themeType=b.themeType}d(e,null,[{key:"define",value:function(c,b){return new
e(c,b||{})}}]);return e}(),dY=h.define(),he=h.define({combine:function(b){return b.length?[b[0]]:null}});function
ci(c){var
b=c.facet(dY);return b.length?b:c.facet(he)}function
dj(b,d){var
c=[oZ],e;if(b
instanceof
bX){if(b.module)c.push(j.styleModule.of(b.module));e=b.themeType}if(d===null||d===void
0?void
0:d.fallback)c.push(he.of(b));else
if(e)c.push(dY.computeN([j.darkTheme],function(c){return c.facet(j.darkTheme)==(e=="dark")?[b]:[]}));else
c.push(dY.of(b));return c}function
kH(i,j,h){var
g=ci(i),d=null;if(g){var
c=b(g),a;try{for(c.s();!(a=c.n()).done;){var
f=a.value;if(!f.scope||h&&f.scope(h)){var
e=f.style(j);if(e)d=d?d+" "+e:e}}}catch(b){c.e(b)}finally{c.f()}}return d}var
kp=function(){function
e(b){c(this,e);this.markCache=Object.create(null);this.tree=x(b.state);this.decorations=this.buildDeco(b,ci(b.state))}d(e,[{key:"update",value:function(b){var
c=x(b.state),d=ci(b.state),e=d!=ci(b.startState);if(c.length<b.view.viewport.to&&!e&&c.type==this.tree.type)this.decorations=this.decorations.map(b.changes);else
if(c!=this.tree||b.viewportChanged||e){this.tree=c;this.decorations=this.buildDeco(b.view,d)}}},{key:"buildDeco",value:function(k,g){var
f=this;if(!g||!this.tree.length)return i.none;var
a=new
aT(),c=b(k.visibleRanges),d;try{for(c.s();!(d=c.n()).done;){var
e=d.value,h=e.from,j=e.to;mK(this.tree,g,function(c,d,b){a.add(c,d,f.markCache[b]||(f.markCache[b]=i.mark({"class":b})))},h,j)}}catch(b){c.e(b)}finally{c.f()}return a.finish()}}]);return e}(),oZ=aG.high(D.fromClass(kp,{decorations:function(b){return b.decorations}})),fv=bX.define([{tag:e.meta,color:"#7a757a"},{tag:e.link,textDecoration:"underline"},{tag:e.heading,textDecoration:"underline",fontWeight:"bold"},{tag:e.emphasis,fontStyle:"italic"},{tag:e.strong,fontWeight:"bold"},{tag:e.strikethrough,textDecoration:"line-through"},{tag:e.keyword,color:"#708"},{tag:[e.atom,e.bool,e.url,e.contentSeparator,e.labelName],color:"#219"},{tag:[e.literal,e.inserted],color:"#164"},{tag:[e.string,e.deleted],color:"#a11"},{tag:[e.regexp,e.escape,e.special(e.string)],color:"#e40"},{tag:e.definition(e.variableName),color:"#00f"},{tag:e.local(e.variableName),color:"#30a"},{tag:[e.typeName,e.namespace],color:"#085"},{tag:e.className,color:"#167"},{tag:[e.special(e.variableName),e.macroName],color:"#256"},{tag:e.definition(e.propertyName),color:"#00c"},{tag:e.comment,color:"#940"},{tag:e.invalid,color:"#f00"}]),lb=j.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),eM=1e4,eL="()[]{}",gc=h.define({combine:function(b){return ad(b,{afterCursor:true,brackets:eL,maxScanDistance:eM,renderMatch:lU})}}),nB=i.mark({"class":"cm-matchingBracket"}),nU=i.mark({"class":"cm-nonmatchingBracket"});function
lU(b){var
c=[],d=b.matched?nB:nU;c.push(d.range(b.start.from,b.start.to));if(b.end)c.push(d.range(b.end.from,b.end.to));return c}var
lh=A.define({create:function(){return i.none},update:function(j,c){if(!c.docChanged&&!c.selection)return j;var
a=[],e=c.state.facet(gc),f=b(c.state.selection.ranges),g;try{for(f.s();!(g=f.n()).done;){var
d=g.value;if(!d.empty)continue;var
h=_(c.state,d.head,-1,e)||d.head>0&&_(c.state,d.head-1,1,e)||e.afterCursor&&(_(c.state,d.head,1,e)||d.head<c.state.doc.length&&_(c.state,d.head+1,-1,e));if(h)a=a.concat(e.renderMatch(h,c.state))}}catch(b){f.e(b)}finally{f.f()}return i.set(a,true)},provide:function(b){return j.decorations.from(b)}}),li=[lh,lb];function
fo(){var
b=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return[gc.of(b),li]}function
d4(d,b,e){var
f=d.prop(b<0?n.openedBy:n.closedBy);if(f)return f;if(d.name.length==1){var
c=e.indexOf(d.name);if(c>-1&&c%2==(b<0?1:0))return[e[c+b]]}return null}function
_(f,e,c){var
a=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{},j=a.maxScanDistance||eM,d=a.brackets||eL,i=x(f),h=i.resolveInner(e,c);for(var
b=h;b;b=b.parent){var
g=d4(b.type,c,d);if(g&&b.from<b.to)return ny(f,e,c,b,g,d)}return nz(f,e,c,i,h.type,j,d)}function
ny(j,i,d,c,h,g){var
a=c.parent,f={from:c.from,to:c.to},e=0,b=a===null||a===void
0?void
0:a.cursor();if(b&&(d<0?b.childBefore(c.from):b.childAfter(c.to)))do
if(d<0?b.to<=c.from:b.from>=c.to)if(e==0&&h.indexOf(b.type.name)>-1&&b.from<b.to)return{start:f,end:{from:b.from,to:b.to},matched:true};else
if(d4(b.type,d,g))e++;else
if(d4(b.type,-d,g)){if(e==0)return{start:f,end:b.from==b.to?void
0:{from:b.from,to:b.to},matched:false};e--}while(d<0?b.prevSibling():b.nextSibling());return{start:f,matched:false}}function
nz(a,c,b,r,q,o,l){var
p=b<0?a.sliceDoc(c-1,c):a.sliceDoc(c,c+1),h=l.indexOf(p);if(h<0||h%2==0!=b>0)return null;var
m={from:b<0?c-1:c,to:b>0?c+1:c},k=a.doc.iterRange(c,b>0?a.doc.length:0),i=0;for(var
f=0;!k.next().done&&f<=o;){var
e=k.value;if(b<0)f+=e.length;var
g=c+f*b;for(var
d=b>0?0:e.length-1,n=b>0?e.length:-1;d!=n;d+=b){var
j=l.indexOf(e[d]);if(j<0||r.resolveInner(g+d,1).type!=q)continue;if(j%2==0==b>0)i++;else
if(i==1)return{start:m,end:{from:g+d,to:g+d+1},matched:j>>1==h>>1};else
i--}if(b>0)f+=e.length}return k.done?{start:m,matched:false}:null}function
gA(e,b,f){var
a=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0,g=arguments.length>4&&arguments[4]!==undefined?arguments[4]:0;if(b==null){b=e.search(/[^\s\u00a0]/);if(b==-1)b=e.length}var
c=g;for(var
d=a;d<b;d++)if(e.charCodeAt(d)==9)c+=f-c%f;else
c++;return c}var
c9=function(){function
b(e,f,d){c(this,b);this.string=e;this.tabSize=f;this.indentUnit=d;this.pos=0;this.start=0;this.lastColumnPos=0;this.lastColumnValue=0}d(b,[{key:"eol",value:function(){return this.pos>=this.string.length}},{key:"sol",value:function(){return this.pos==0}},{key:"peek",value:function(){return this.string.charAt(this.pos)||void
0}},{key:"next",value:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)}},{key:"eat",value:function(c){var
b=this.string.charAt(this.pos),d;if(typeof
c=="string")d=b==c;else
d=b&&(c
instanceof
RegExp?c.test(b):c(b));if(d){++this.pos;return b}}},{key:"eatWhile",value:function(b){var
c=this.pos;while(this.eat(b));return this.pos>c}},{key:"eatSpace",value:function(){var
b=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos)))++this.pos;return this.pos>b}},{key:"skipToEnd",value:function(){this.pos=this.string.length}},{key:"skipTo",value:function(c){var
b=this.string.indexOf(c,this.pos);if(b>-1){this.pos=b;return true}}},{key:"backUp",value:function(b){this.pos-=b}},{key:"column",value:function(){if(this.lastColumnPos<this.start){this.lastColumnValue=gA(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue);this.lastColumnPos=this.start}return this.lastColumnValue}},{key:"indentation",value:function(){return gA(this.string,null,this.tabSize)}},{key:"match",value:function
b(c,e,f){if(typeof
c=="string"){var
d=function(b){return f?b.toLowerCase():b},a=this.string.substr(this.pos,c.length);if(d(a)==d(c)){if(e!==false)this.pos+=c.length;return true}else
return null}else{var
b=this.string.slice(this.pos).match(c);if(b&&b.index>0)return null;if(b&&e!==false)this.pos+=b[0].length;return b}}},{key:"current",value:function(){return this.string.slice(this.start,this.pos)}}]);return b}();function
mn(b){return{token:b.token,blankLine:b.blankLine||function(){},startState:b.startState||function(){return true},copyState:b.copyState||lR,indent:b.indent||function(){return null},languageData:b.languageData||{},tokenTable:b.tokenTable||d8}}function
lR(b){if(ar(b)!="object")return b;var
d={};for(var
e
in
b){var
c=b[e];d[e]=c
instanceof
Array?c.slice():c}return d}var
ku=function(b){l(e,b);var
i=k(e);function
e(f){var
b;c(this,e);var
a=dc(f.languageData),g=mn(f),h,j=new(function(e){l(b,e);var
f=k(b);function
b(){c(this,b);return f.apply(this,arguments)}d(b,[{key:"createParse",value:function(c,b,d){return new
j$(h,c,b,d)}}]);return b}(e2))();b=i.call(this,a,j,[df.of(function(c,d){return b.getIndent(c,d)})]);b.topNode=l2(a);h=bK(b);b.streamParser=g;b.stateAfter=new
n({perNode:true});b.tokenTable=f.tokenTable?new
fc(g.tokenTable):lX;return b}d(e,[{key:"getIndent",value:function(b,c){var
j=x(b.state),d=j.resolve(c);while(d&&d.type!=this.topNode)d=d.parent;if(!d)return null;var
g=dM(this,j,0,d.from,c),e,a;if(g){a=g.state;e=g.pos+1}else{a=this.streamParser.startState(b.unit);e=0}if(c-e>1e4)return null;while(e<c){var
f=b.state.doc.lineAt(e),h=Math.min(c,f.to);if(f.length){var
i=new
c9(f.text,b.state.tabSize,b.unit);while(i.pos<h-f.from)iy(this.streamParser.token,i,a)}else
this.streamParser.blankLine(a,b.unit);if(h==c)break;e=f.to+1}var
k=b.lineAt(c),l=k.text;return this.streamParser.indent(a,/^\s*(.*)/.exec(l)[1],b)}},{key:"allowsNesting",get:function(){return false}}],[{key:"define",value:function(b){return new
e(b)}}]);return e}(K);function
dM(f,b,d,i,e){var
j=d>=i&&d+b.length<=e&&b.prop(f.stateAfter);if(j)return{state:f.streamParser.copyState(j),pos:d+b.length};for(var
c=b.children.length-1;c>=0;c--){var
a=b.children[c],h=d+b.positions[c],g=a
instanceof
y&&h<e&&dM(f,a,h,i,e);if(g)return g}return null}function
gS(i,b,h,a,d){if(d&&h<=0&&a>=b.length)return b;if(!d&&b.type==i.topNode)d=true;for(var
c=b.children.length-1;c>=0;c--){var
f=b.positions[c],g=b.children[c],e=void
0;if(f<a&&g
instanceof
y){if(!(e=gS(i,g,h-f,a-f,d)))break;return!d?e:new
y(b.type,b.children.slice(0,c).concat(e),b.positions.slice(0,c+1),f+e.length)}}return null}function
mj(a,k,e,h){var
d=b(k),g;try{for(d.s();!(g=d.n()).done;){var
c=g.value,l=c.from+(c.openStart?25:0),i=c.to-(c.openEnd?25:0),f=l<=e&&i>e&&dM(a,c.tree,0-c.offset,e,i),j=void
0;if(f&&(j=gS(a,c.tree,e+c.offset,f.pos+c.offset,false)))return{state:f.state,tree:j}}}catch(b){d.e(b)}finally{d.f()}return{state:a.streamParser.startState(h?aw(h):4),tree:y.empty}}var
j$=function(){function
a(j,k,h,e){c(this,a);this.lang=j;this.input=k;this.fragments=h;this.ranges=e;this.stoppedAt=null;this.chunks=[];this.chunkPos=[];this.chunk=[];this.chunkReused=void
0;this.rangeIndex=0;this.to=e[e.length-1].to;var
b=bY.get(),i=e[0].from,g=mj(j,h,i,b===null||b===void
0?void
0:b.state),l=g.state,f=g.tree;this.state=l;this.parsedPos=this.chunkStart=i+f.length;for(var
d=0;d<f.children.length;d++){this.chunks.push(f.children[d]);this.chunkPos.push(f.positions[d])}if(b&&this.parsedPos<b.viewport.from-1e5){this.state=this.lang.streamParser.startState(aw(b.state));b.skipUntilInView(this.parsedPos,b.viewport.from);this.parsedPos=b.viewport.from}this.moveRangeIndex()}d(a,[{key:"advance",value:function(){var
b=bY.get(),d=this.stoppedAt==null?this.to:Math.min(this.to,this.stoppedAt),c=Math.min(d,this.chunkStart+2048);if(b)c=Math.min(c,b.viewport.to);while(this.parsedPos<c)this.parseLine(b);if(this.chunkStart<this.parsedPos)this.finishChunk();if(this.parsedPos>=d)return this.finish();if(b&&this.parsedPos>=b.viewport.to){b.skipUntilInView(this.parsedPos,d);return this.finish()}return null}},{key:"stopAt",value:function(b){this.stoppedAt=b}},{key:"lineAfter",value:function(c){var
b=this.input.chunk(c);if(!this.input.lineChunks){var
d=b.indexOf("\n");if(d>-1)b=b.slice(0,d)}else
if(b=="\n")b="";return c+b.length<=this.to?b:b.slice(0,this.to-c)}},{key:"nextLine",value:function(){var
f=this.parsedPos,b=this.lineAfter(f),c=f+b.length;for(var
d=this.rangeIndex;;){var
a=this.ranges[d].to;if(a>=c)break;b=b.slice(0,a-(c-b.length));d++;if(d==this.ranges.length)break;var
g=this.ranges[d].from,e=this.lineAfter(g);b+=e;c=g+e.length}return{line:b,end:c}}},{key:"skipGapsTo",value:function(e,c,f){for(;;){var
b=this.ranges[this.rangeIndex].to,d=e+c;if(f>0?b>d:b>=d)break;var
a=this.ranges[++this.rangeIndex].from;c+=a-b}return c}},{key:"moveRangeIndex",value:function(){while(this.ranges[this.rangeIndex].to<this.parsedPos)this.rangeIndex++}},{key:"emitToken",value:function(f,c,d,e,b){if(this.ranges.length>1){b=this.skipGapsTo(c,b,1);c+=b;var
a=this.chunk.length;b=this.skipGapsTo(d,b,-1);d+=b;e+=this.chunk.length-a}this.chunk.push(f,c,d,e);return b}},{key:"parseLine",value:function(c){var
d=this.nextLine(),h=d.line,g=d.end,e=0,f=this.lang.streamParser,b=new
c9(h,c?c.state.tabSize:4,c?aw(c.state):2);if(b.eol())f.blankLine(this.state,b.indentUnit);else
while(!b.eol()){var
a=iy(f.token,b,this.state);if(a)e=this.emitToken(this.lang.tokenTable.resolve(a),this.parsedPos+b.start,this.parsedPos+b.pos,4,e);if(b.start>1e4)break}this.parsedPos=g;this.moveRangeIndex();if(this.parsedPos<this.to)this.parsedPos++}},{key:"finishChunk",value:function(){var
b=y.build({buffer:this.chunk,start:this.chunkStart,length:this.parsedPos-this.chunkStart,nodeSet:nQ,topID:0,maxBufferLength:2048,reused:this.chunkReused});b=new
y(b.type,b.children,b.positions,b.length,[[this.lang.stateAfter,this.lang.streamParser.copyState(this.state)]]);this.chunks.push(b);this.chunkPos.push(this.chunkStart-this.ranges[0].from);this.chunk=[];this.chunkReused=void
0;this.chunkStart=this.parsedPos}},{key:"finish",value:function(){return new
y(this.lang.topNode,this.chunks,this.chunkPos,this.parsedPos-this.ranges[0].from).balance()}}]);return a}();function
iy(f,b,e){b.start=b.pos;for(var
c=0;c<10;c++){var
d=f(b,e);if(b.pos>b.start)return d}throw new
Error("Stream parser failed to advance stream.")}var
d8=Object.create(null),bI=[T.none],nQ=new
j_(bI),jj=[],gU=Object.create(null);for(var
dd=0,fl=[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]];dd<fl.length;dd++){var
fm=aN(fl[dd],2),nh=fm[0],nI=fm[1];gU[nh]=gB(d8,nI)}var
fc=function(){function
b(d){c(this,b);this.extra=d;this.table=Object.assign(Object.create(null),gU)}d(b,[{key:"resolve",value:function(b){return!b?0:this.table[b]||(this.table[b]=gB(this.extra,b))}}]);return b}(),lX=new
fc(d8);function
eu(b,c){if(jj.indexOf(b)>-1)return;jj.push(b);console.warn(c)}function
gB(k,i){var
d=null,f=b(i.split(".")),g;try{for(f.s();!(g=f.n()).done;){var
c=g.value,a=k[c]||e[c];if(!a)eu(c,"Unknown highlighting tag ".concat(c));else
if(typeof
a=="function")if(!d)eu(c,"Modifier ".concat(c," used at start of tag"));else
d=a(d);else
if(d)eu(c,"Tag ".concat(c," used as modifier"));else
d=a}}catch(b){f.e(b)}finally{f.f()}if(!d)return 0;var
h=i.replace(/ /g,"_"),j=T.define({id:bI.length,name:h,props:[oM(jp({},h,d))]});bI.push(j);return j.id}function
l2(c){var
b=T.define({id:bI.length,name:"Document",props:[aJ.add(function(){return c})]});bI.push(b);return b}var
oU=function(b){var
c=dS(b.state);return c.line?oV(b):c.block?oT(b):false};function
dz(e,f){return function(c){var
b=c.state,a=c.dispatch;if(b.readOnly)return false;var
d=e(f,b);if(!d)return false;a(b.update(d));return true}}var
oV=dz(ls,0),oS=dz(gf,0),oT=dz(function(c,b){return gf(c,b,oz(b))},0);function
dS(c){var
d=arguments.length>1&&arguments[1]!==undefined?arguments[1]:c.selection.main.head,b=c.languageDataAt("commentTokens",d);return b.length?b[0]:{}}var
bc=50;function
me(g,m,b,c){var
f=m.open,d=m.close,l=g.sliceDoc(b-bc,b),p=g.sliceDoc(c,c+bc),k=/\s*$/.exec(l)[0].length,h=/^\s*/.exec(p)[0].length,n=l.length-k;if(l.slice(n-f.length,n)==f&&p.slice(h,h+d.length)==d)return{open:{pos:b-k,margin:k&&1},close:{pos:c+h,margin:h&&1}};var
a,e;if(c-b<=2*bc)a=e=g.sliceDoc(b,c);else{a=g.sliceDoc(b,b+bc);e=g.sliceDoc(c-bc,c)}var
i=/^\s*/.exec(a)[0].length,o=/\s*$/.exec(e)[0].length,j=e.length-o-d.length;if(a.slice(i,i+f.length)==f&&e.slice(j,j+d.length)==d)return{open:{pos:b+i+f.length,margin:/\s/.test(a.charAt(i+f.length))?1:0},close:{pos:c-o-d.length,margin:/\s/.test(e.charAt(j-1))?1:0}};return null}function
oz(g){var
c=[],d=b(g.selection.ranges),h;try{for(d.s();!(h=d.n()).done;){var
f=h.value,e=g.doc.lineAt(f.from),i=f.to<=e.to?e:g.doc.lineAt(f.to),a=c.length-1;if(a>=0&&c[a].to>e.from)c[a].to=i.to;else
c.push({from:e.from,to:i.to})}}catch(b){d.e(b)}finally{d.f()}return c}function
gf(k,e){var
g=arguments.length>2&&arguments[2]!==undefined?arguments[2]:e.selection.ranges,c=g.map(function(b){return dS(e,b.from).block});if(!c.every(function(b){return b}))return null;var
b=g.map(function(b,d){return me(e,c[d],b.from,b.to)});if(k!=2&&!b.every(function(b){return b}))return{changes:e.changes(g.map(function(e,d){if(b[d])return[];return[{from:e.from,insert:c[d].open+" "},{from:e.to,insert:" "+c[d].close}]}))};else
if(k!=1&&b.some(function(b){return b})){var
i=[];for(var
d=0,j;d<b.length;d++)if(j=b[d]){var
l=c[d],h=j,a=h.open,f=h.close;i.push({from:a.pos-l.open.length,to:a.pos+a.margin},{from:f.pos-f.margin,to:f.pos+l.close.length})}return{changes:i}}return null}function
ls(C,g){var
K=arguments.length>2&&arguments[2]!==undefined?arguments[2]:g.selection.ranges,c=[],D=-1,h=b(K),u;try{for(h.s();!(u=h.n()).done;){var
v=u.value,t=v.from,p=v.to,q=c.length,l=1e9;for(var
m=t;m<=p;){var
d=g.doc.lineAt(m);if(d.from>D&&(t==p||p>d.from)){D=d.from;var
k=dS(g,m).line;if(!k)continue;var
e=/^\s*/.exec(d.text)[0].length,F=e==d.length,E=d.text.slice(e,e+k.length)==k?e:-1;if(e<d.text.length&&e<l)l=e;c.push({line:d,comment:E,token:k,indent:e,empty:F,single:false})}m=d.to+1}if(l<1e9)for(var
f=q;f<c.length;f++)if(c[f].indent<c[f].line.text.length)c[f].indent=l;if(c.length==q+1)c[q].single=true}}catch(b){h.e(b)}finally{h.f()}if(C!=2&&c.some(function(b){return b.comment<0&&(!b.empty||b.single)})){var
z=[],i=b(c),w;try{for(i.s();!(w=i.n()).done;){var
a=w.value,J=a.line,M=a.token,I=a.indent,H=a.empty,L=a.single;if(L||!H)z.push({from:J.from+I,insert:M+" "})}}catch(b){i.e(b)}finally{i.f()}var
y=g.changes(z);return{changes:y,selection:g.selection.map(y,1)}}else
if(C!=1&&c.some(function(b){return b.comment>=0})){var
s=[],j=b(c),x;try{for(j.s();!(x=j.n()).done;){var
o=x.value,n=o.line,A=o.comment,G=o.token;if(A>=0){var
B=n.from+A,r=B+G.length;if(n.text[r-n.from]==" ")r++;s.push({from:B,to:r})}}}catch(b){j.e(b)}finally{j.f()}return{changes:s}}return null}var
dQ=as.define(),na=as.define(),m1=h.define(),hw=h.define({combine:function(b){return ad(b,{minDepth:100,newGroupDelay:500},{minDepth:Math.max,newGroupDelay:Math.min})}});function
lr(c){var
b=0;c.iterChangedRanges(function(d,c){return b=c});return b}var
hx=A.define({create:function(){return a_.empty},update:function(c,b){var
e=b.state.facet(hw),a=b.annotation(dQ);if(a){var
m=b.docChanged?f.single(lr(b.changes)):void
0,j=al.fromTransaction(b,m),h=a.side,d=h==0?c.undone:c.done;if(j)d=cI(d,d.length,e.minDepth,j);else
d=fj(d,b.startState.selection);return new
a_(h==0?a.rest:d,h==0?d:a.rest)}var
g=b.annotation(na);if(g=="full"||g=="before")c=c.isolate();if(b.annotation(N.addToHistory)===false)return!b.changes.empty?c.addMapping(b.changes.desc):c;var
i=al.fromTransaction(b),k=b.annotation(N.time),l=b.annotation(N.userEvent);if(i)c=c.addChanges(i,k,l,e.newGroupDelay,e.minDepth);else
if(b.selection)c=c.addSelection(b.startState.selection,k,l,e.newGroupDelay);if(g=="full"||g=="after")c=c.isolate();return c},toJSON:function(b){return{done:b.done.map(function(b){return b.toJSON()}),undone:b.undone.map(function(b){return b.toJSON()})}},fromJSON:function(b){return new
a_(b.done.map(al.fromJSON),b.undone.map(al.fromJSON))}});function
mL(){var
b=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return[hx,hw.of(b),j.domEventHandlers({beforeinput:function(b,d){var
c=b.inputType=="historyUndo"?jf:b.inputType=="historyRedo"?d$:null;if(!c)return false;b.preventDefault();return c(d)}})]}function
b6(a,c){return function(d){var
b=d.state,g=d.dispatch;if(!c&&b.readOnly)return false;var
e=b.field(hx,false);if(!e)return false;var
f=e.pop(a,b,c);if(!f)return false;g(f);return true}}var
jf=b6(0,false),d$=b6(1,false),o0=b6(0,true),n8=b6(1,true),al=function(){function
e(b,d,f,g,a){c(this,e);this.changes=b;this.effects=d;this.mapped=f;this.startSelection=g;this.selectionsAfter=a}d(e,[{key:"setSelAfter",value:function(b){return new
e(this.changes,this.effects,this.mapped,this.startSelection,b)}},{key:"toJSON",value:function(){var
b,c,d;return{changes:(b=this.changes)===null||b===void
0?void
0:b.toJSON(),mapped:(c=this.mapped)===null||c===void
0?void
0:c.toJSON(),startSelection:(d=this.startSelection)===null||d===void
0?void
0:d.toJSON(),selectionsAfter:this.selectionsAfter.map(function(b){return b.toJSON()})}}}],[{key:"fromJSON",value:function(b){return new
e(b.changes&&X.fromJSON(b.changes),[],b.mapped&&aQ.fromJSON(b.mapped),b.startSelection&&f.fromJSON(b.startSelection),b.selectionsAfter.map(f.fromJSON))}},{key:"fromTransaction",value:function(c,i){var
f=V,d=b(c.startState.facet(m1)),a;try{for(d.s();!(a=d.n()).done;){var
h=a.value,g=h(c);if(g.length)f=f.concat(g)}}catch(b){d.e(b)}finally{d.f()}if(!f.length&&c.changes.empty)return null;return new
e(c.changes.invert(c.startState.doc),f,void
0,i||c.startState.selection,V)}},{key:"selection",value:function(b){return new
e(void
0,V,void
0,void
0,b)}}]);return e}();function
cI(e,b,c,f){var
a=b+1>c+20?b-c-1:0,d=e.slice(a,b);d.push(f);return d}function
m2(c,e){var
b=[],d=false;c.iterChangedRanges(function(c,d){return b.push(c,d)});e.iterChangedRanges(function(h,i,e,a){for(var
c=0;c<b.length;){var
f=b[c++],g=b[c++];if(a>=f&&e<=g)d=true}});return d}function
l_(b,c){return b.ranges.length==c.ranges.length&&b.ranges.filter(function(d,b){return d.empty!=c.ranges[b].empty}).length===0}function
gu(b,c){return!b.length?c:!c.length?b:b.concat(c)}var
V=[],j3=200;function
fj(b,e){if(!b.length)return[al.selection([e])];else{var
d=b[b.length-1],c=d.selectionsAfter.slice(Math.max(0,d.selectionsAfter.length-j3));if(c.length&&c[c.length-1].eq(e))return b;c.push(e);return cI(b,b.length-1,1e9,d.setSelAfter(c))}}function
n0(b){var
c=b[b.length-1],d=b.slice();d[b.length-1]=c.setSelAfter(c.selectionsAfter.slice(0,c.selectionsAfter.length-1));return d}function
dl(c,f){if(!c.length)return c;var
d=c.length,e=V;while(d){var
b=nt(c[d-1],f,e);if(b.changes&&!b.changes.empty||b.effects.length){var
a=c.slice(0,d);a[d-1]=b;return a}else{f=b.mapped;d--;e=b.selectionsAfter}}return e.length?[al.selection(e)]:V}function
nt(b,c,f){var
e=gu(b.selectionsAfter.length?b.selectionsAfter.map(function(b){return b.map(c)}):V,f);if(!b.changes)return al.selection(e);var
g=b.changes.map(c),d=c.mapDesc(b.changes,true),a=b.mapped?b.mapped.composeDesc(d):d;return new
al(g,m.mapEffects(b.effects,c),a,b.startSelection.map(d),e)}var
nd=/^(input\.type|delete)($|\.)/,a_=function(){function
e(b,a){var
d=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0,f=arguments.length>3&&arguments[3]!==undefined?arguments[3]:void
0;c(this,e);this.done=b;this.undone=a;this.prevTime=d;this.prevUserEvent=f}d(e,[{key:"isolate",value:function(){return this.prevTime?new
e(this.done,this.undone):this}},{key:"addChanges",value:function(d,g,f,h,a){var
b=this.done,c=b[b.length-1];if(c&&c.changes&&!c.changes.empty&&d.changes&&(!f||nd.test(f))&&(!c.selectionsAfter.length&&g-this.prevTime<h&&m2(c.changes,d.changes)||f=="input.type.compose"))b=cI(b,b.length-1,a,new
al(d.changes.compose(c.changes),gu(d.effects,c.effects),c.mapped,c.startSelection,V));else
b=cI(b,b.length,a,d);return new
e(b,V,g,f)}},{key:"addSelection",value:function(d,f,b,a){var
c=this.done.length?this.done[this.done.length-1].selectionsAfter:V;if(c.length>0&&f-this.prevTime<a&&b==this.prevUserEvent&&b&&/^select($|\.)/.test(b)&&l_(c[c.length-1],d))return this;return new
e(fj(this.done,d),this.undone,f,b)}},{key:"addMapping",value:function(b){return new
e(dl(this.done,b),dl(this.undone,b),this.prevTime,this.prevUserEvent)}},{key:"pop",value:function(d,f,a){var
c=d==0?this.done:this.undone;if(c.length==0)return null;var
b=c[c.length-1];if(a&&b.selectionsAfter.length)return f.update({selection:b.selectionsAfter[b.selectionsAfter.length-1],annotations:dQ.of({side:d,rest:n0(c)}),userEvent:d==0?"select.undo":"select.redo",scrollIntoView:true});else
if(!b.changes)return null;else{var
e=c.length==1?V:c.slice(0,c.length-1);if(b.mapped)e=dl(e,b.mapped);return f.update({changes:b.changes,selection:b.startSelection,effects:b.effects,annotations:dQ.of({side:d,rest:e}),filter:false,userEvent:d==0?"undo":"redo",scrollIntoView:true})}}}]);return e}();a_.empty=new
a_(V,V);var
mM=[{key:"Mod-z",run:jf,preventDefault:true},{key:"Mod-y",mac:"Mod-Shift-z",run:d$,preventDefault:true},{linux:"Ctrl-Shift-z",run:d$,preventDefault:true},{key:"Mod-u",run:o0,preventDefault:true},{key:"Alt-u",mac:"Mod-Shift-u",run:n8,preventDefault:true}];function
a8(b,c){return f.create(b.ranges.map(c),b.mainIndex)}function
aj(c,b){return c.update({selection:b,scrollIntoView:true,userEvent:"select"})}function
ap(c,f){var
b=c.state,e=c.dispatch,d=a8(b.selection,f);if(d.eq(b.selection))return false;e(aj(b,d));return true}function
cz(b,c){return f.cursor(c?b.to:b.from)}function
gD(d,c){return ap(d,function(b){return b.empty?d.moveByChar(b,c):cz(b,c)})}function
U(b){return b.textDirectionAt(b.state.selection.main.head)==t.LTR}var
gH=function(b){return gD(b,!U(b))},gI=function(b){return gD(b,U(b))};function
gE(d,c){return ap(d,function(b){return b.empty?d.moveByGroup(b,c):cz(b,c)})}var
lG=function(b){return gE(b,!U(b))},lH=function(b){return gE(b,U(b))};function
mZ(e,b,d){if(b.type.prop(d))return true;var
c=b.to-b.from;return c&&(c>2||/[^\s,.;:]/.test(e.sliceDoc(b.from,b.to)))||b.firstChild}function
cw(a,j,c){var
b=x(a).resolveInner(j.head),i=c?n.closedBy:n.openedBy;for(var
g=j.head;;){var
d=c?b.childAfter(g):b.childBefore(g);if(!d)break;if(mZ(a,d,i))b=d;else
g=c?d.to:d.from}var
k=b.type.prop(i),e,h;if(k&&(e=c?_(a,b.from,1):_(a,b.to,-1))&&e.matched)h=c?e.end.to:e.end.from;else
h=c?b.to:b.from;return f.cursor(h,c?-1:1)}var
lL=function(b){return ap(b,function(c){return cw(b.state,c,!U(b))})},lM=function(b){return ap(b,function(c){return cw(b.state,c,U(b))})};function
gF(d,c){return ap(d,function(b){if(!b.empty)return cz(b,c);var
e=d.moveVertically(b,c);return e.head!=b.head?e:d.moveToLineBoundary(b,c)})}var
gO=function(b){return gF(b,false)},gN=function(b){return gF(b,true)};function
ij(b){return Math.max(b.defaultLineHeight,Math.min(b.dom.clientHeight,innerHeight)-5)}function
gG(b,g){var
e=b.state,f=a8(e.selection,function(c){return c.empty?b.moveVertically(c,g,ij(b)):cz(c,g)});if(f.eq(e.selection))return false;var
c=b.coordsAtPos(e.selection.main.head),d=b.scrollDOM.getBoundingClientRect(),a;if(c&&c.top>d.top&&c.bottom<d.bottom&&c.top-d.top<=b.scrollDOM.scrollHeight-b.scrollDOM.scrollTop-b.scrollDOM.clientHeight)a=j.scrollIntoView(f.main.head,{y:"start",yMargin:c.top-d.top});b.dispatch(aj(e,f),{effects:a});return true}var
gP=function(b){return gG(b,false)},dC=function(b){return gG(b,true)};function
cv(a,d,e){var
b=a.lineBlockAt(d.head),c=a.moveToLineBoundary(d,e);if(c.head==d.head&&c.head!=(e?b.to:b.from))c=a.moveToLineBoundary(d,e,false);if(!e&&c.head==b.from&&b.length){var
g=/^\s*/.exec(a.state.sliceDoc(b.from,Math.min(b.from+100,b.to)))[0].length;if(g&&d.head!=b.from+g)c=f.cursor(b.from+g)}return c}var
gM=function(b){return ap(b,function(c){return cv(b,c,true)})},gL=function(b){return ap(b,function(c){return cv(b,c,false)})},lJ=function(b){return ap(b,function(c){return f.cursor(b.lineBlockAt(c.head).from,1)})},lI=function(b){return ap(b,function(c){return f.cursor(b.lineBlockAt(c.head).to,-1)})};function
oR(c,b,g){var
e=false,d=a8(c.selection,function(b){var
d=_(c,b.head,-1)||_(c,b.head,1)||b.head>0&&_(c,b.head-1,1)||b.head<c.doc.length&&_(c,b.head+1,-1);if(!d||!d.end)return b;e=true;var
a=d.start.from==b.head?d.end.to:d.end.from;return g?f.range(b.anchor,a):f.cursor(a)});if(!e)return false;b(aj(c,d));return true}var
lK=function(b){var
d=b.state,c=b.dispatch;return oR(d,c,false)};function
ag(b,d){var
c=a8(b.state.selection,function(c){var
b=d(c);return f.range(c.anchor,b.head,b.goalColumn)});if(c.eq(b.state.selection))return false;b.dispatch(aj(b.state,c));return true}function
iN(b,c){return ag(b,function(d){return b.moveByChar(d,c)})}var
iR=function(b){return iN(b,!U(b))},iS=function(b){return iN(b,U(b))};function
iO(b,c){return ag(b,function(d){return b.moveByGroup(d,c)})}var
on=function(b){return iO(b,!U(b))},oo=function(b){return iO(b,U(b))},ow=function(b){return ag(b,function(c){return cw(b.state,c,!U(b))})},ox=function(b){return ag(b,function(c){return cw(b.state,c,U(b))})};function
iP(b,c){return ag(b,function(d){return b.moveVertically(d,c)})}var
iY=function(b){return iP(b,false)},iX=function(b){return iP(b,true)};function
iQ(b,c){return ag(b,function(d){return b.moveVertically(d,c,ij(b))})}var
i0=function(b){return iQ(b,false)},iZ=function(b){return iQ(b,true)},iW=function(b){return ag(b,function(c){return cv(b,c,true)})},iV=function(b){return ag(b,function(c){return cv(b,c,false)})},or=function(b){return ag(b,function(c){return f.cursor(b.lineBlockAt(c.head).from)})},oq=function(b){return ag(b,function(c){return f.cursor(b.lineBlockAt(c.head).to)})},gK=function(b){var
d=b.state,c=b.dispatch;c(aj(d,{anchor:0}));return true},gJ=function(b){var
c=b.state,d=b.dispatch;d(aj(c,{anchor:c.doc.length}));return true},iU=function(b){var
c=b.state,d=b.dispatch;d(aj(c,{anchor:c.selection.main.anchor,head:0}));return true},iT=function(c){var
b=c.state,d=c.dispatch;d(aj(b,{anchor:b.selection.main.anchor,head:b.doc.length}));return true},om=function(b){var
c=b.state,d=b.dispatch;d(c.update({selection:{anchor:0,head:c.doc.length},userEvent:"select"}));return true},op=function(c){var
b=c.state,d=c.dispatch,e=cB(b).map(function(c){var
d=c.from,e=c.to;return f.range(d,Math.min(e+1,b.doc.length))});d(b.update({selection:f.create(e),userEvent:"select"}));return true},ou=function(b){var
d=b.state,c=b.dispatch,e=a8(d.selection,function(c){var
e,b=x(d).resolveInner(c.head,1);while(!(b.from<c.from&&b.to>=c.to||b.to>c.to&&b.from<=c.from||!((e=b.parent)===null||e===void
0?void
0:e.parent)))b=b.parent;return f.range(b.to,b.from)});c(aj(d,e));return true},oG=function(d){var
e=d.state,a=d.dispatch,b=e.selection,c=null;if(b.ranges.length>1)c=f.create([b.main]);else
if(!b.main.empty)c=f.create([f.cursor(b.main.head)]);if(!c)return false;a(aj(e,c));return true};function
b_(c,g){var
b=c.state,a=c.dispatch;if(b.readOnly)return false;var
d="delete.selection",e=b.changeByRange(function(a){var
b=a.from,c=a.to;if(b==c){var
e=g(b);if(e<b)d="delete.backward";else
if(e>b)d="delete.forward";b=Math.min(b,e);c=Math.max(c,e)}return b==c?{range:a}:{changes:{from:b,to:c},range:f.cursor(b)}});if(e.changes.empty)return false;a(b.update(e,{scrollIntoView:true,userEvent:d,effects:d=="delete.selection"?j.announce.of(b.phrase("Selection deleted")):void
0}));return true}function
cE(e,c,a){if(e
instanceof
j){var
d=b(e.state.facet(j.atomicRanges).map(function(b){return b(e)})),f;try{for(d.s();!(f=d.n()).done;){var
g=f.value;g.between(c,c,function(b,d){if(b<c&&d>c)c=a?d:b})}}catch(b){d.e(b)}finally{d.f()}}return c}var
gV=function(g,d){return b_(g,function(b){var
f=g.state,c=f.doc.lineAt(b),e,a;if(!d&&b>c.from&&b<c.from+200&&!/[^ \t]/.test(e=c.text.slice(0,b-c.from))){if(e[e.length-1]=="\t")return b-1;var
i=bi(e,f.tabSize),j=i%aw(f)||aw(f);for(var
h=0;h<j&&e[e.length-1-h]==" ";h++)b--;a=b}else{a=Q(c.text,b-c.from,d,d)+c.from;if(a==b&&c.number!=(d?f.doc.lines:1))a+=d?1:-1}return cE(g,a,d)})},dG=function(b){return gV(b,false)},gX=function(b){return gV(b,true)},gW=function(e,d){return b_(e,function(g){var
b=g,h=e.state,c=h.doc.lineAt(b),k=h.charCategorizer(b);for(var
f=null;;){if(b==(d?c.to:c.from)){if(b==g&&c.number!=(d?h.doc.lines:1))b+=d?1:-1;break}var
a=Q(c.text,b-c.from,d)+c.from,j=c.text.slice(Math.min(b,a)-c.from,Math.max(b,a)-c.from),i=k(j);if(f!=null&&i!=f)break;if(j!=" "||b!=g)f=i;b=a}return cE(e,b,d)})},gY=function(b){return gW(b,false)},lZ=function(b){return gW(b,true)},gZ=function(b){return b_(b,function(c){var
d=b.lineBlockAt(c).to;return cE(b,c<d?d:Math.min(b.state.doc.length,c+1),true)})},l1=function(b){return b_(b,function(c){var
d=b.lineBlockAt(c).from;return cE(b,c>d?d:Math.max(0,c-1),false)})},oK=function(c){var
b=c.state,e=c.dispatch;if(b.readOnly)return false;var
d=b.changeByRange(function(b){return{changes:{from:b.from,to:b.to,insert:o.of(["",""])},range:f.cursor(b.from)}});e(b.update(d,{scrollIntoView:true,userEvent:"input"}));return true},oY=function(b){var
d=b.state,e=b.dispatch;if(d.readOnly)return false;var
c=d.changeByRange(function(e){if(!e.empty||e.from==0||e.from==d.doc.length)return{range:e};var
b=e.from,c=d.doc.lineAt(b),g=b==c.from?b-1:Q(c.text,b-c.from,false)+c.from,a=b==c.to?b+1:Q(c.text,b-c.from,true)+c.from;return{changes:{from:g,to:a,insert:d.doc.slice(b,a).append(d.doc.slice(g,b))},range:f.cursor(a)}});if(c.changes.empty)return false;e(d.update(c,{scrollIntoView:true,userEvent:"move.character"}));return true};function
cB(a){var
f=[],j=-1,e=b(a.selection.ranges),g;try{for(e.s();!(g=e.n()).done;){var
c=g.value,i=a.doc.lineAt(c.from),d=a.doc.lineAt(c.to);if(!c.empty&&c.to==d.from)d=a.doc.lineAt(c.to-1);if(j>=i.number){var
h=f[f.length-1];h.to=d.to;h.ranges.push(c)}else
f.push({from:i.from,to:d.to,ranges:[c]});j=d.number+1}}catch(b){e.e(b)}finally{e.f()}return f}function
h_(d,r,k){if(d.readOnly)return false;var
i=[],l=[],a=b(cB(d)),o;try{for(a.s();!(o=a.n()).done;){var
c=o.value;if(k?c.to==d.doc.length:c.from==0)continue;var
e=d.doc.lineAt(k?c.to+1:c.from-1),j=e.length+1;if(k){i.push({from:c.to,to:e.to},{from:c.from,insert:e.text+d.lineBreak});var
g=b(c.ranges),p;try{for(g.s();!(p=g.n()).done;){var
m=p.value;l.push(f.range(Math.min(d.doc.length,m.anchor+j),Math.min(d.doc.length,m.head+j)))}}catch(b){g.e(b)}finally{g.f()}}else{i.push({from:e.from,to:c.from},{from:c.to,insert:d.lineBreak+e.text});var
h=b(c.ranges),q;try{for(h.s();!(q=h.n()).done;){var
n=q.value;l.push(f.range(n.anchor-j,n.head-j))}}catch(b){h.e(b)}finally{h.f()}}}}catch(b){a.e(b)}finally{a.f()}if(!i.length)return false;r(d.update({changes:i,scrollIntoView:true,selection:f.create(l,d.selection.mainIndex),userEvent:"move.line"}));return true}var
nF=function(b){var
d=b.state,c=b.dispatch;return h_(d,c,false)},nE=function(b){var
d=b.state,c=b.dispatch;return h_(d,c,true)};function
gy(c,g,h){if(c.readOnly)return false;var
f=[],e=b(cB(c)),a;try{for(e.s();!(a=e.n()).done;){var
d=a.value;if(h)f.push({from:d.from,insert:c.doc.slice(d.from,d.to)+c.lineBreak});else
f.push({from:d.to,insert:c.lineBreak+c.doc.slice(d.from,d.to)})}}catch(b){e.e(b)}finally{e.f()}g(c.update({changes:f,scrollIntoView:true,userEvent:"input.copyline"}));return true}var
lD=function(b){var
d=b.state,c=b.dispatch;return gy(d,c,false)},lC=function(b){var
d=b.state,c=b.dispatch;return gy(d,c,true)},l0=function(c){if(c.state.readOnly)return false;var
b=c.state,d=b.changes(cB(b).map(function(e){var
c=e.from,d=e.to;if(c>0)c--;else
if(d<b.doc.length)d++;return{from:c,to:d}})),e=a8(b.selection,function(b){return c.moveVertically(b,true)}).map(d);c.dispatch({changes:d,selection:e,scrollIntoView:true,userEvent:"delete.line"});return true};function
m3(e,b){if(/\(\)|\[\]|\{\}/.test(e.sliceDoc(b-1,b+1)))return{from:b,to:b};var
a=x(e).resolveInner(b),d=a.childBefore(b),c=a.childAfter(b),f;if(d&&c&&d.to<=b&&c.from>=b&&(f=d.type.prop(n.closedBy))&&f.indexOf(c.name)>-1&&e.doc.lineAt(d.to).from==e.doc.lineAt(c.from).from)return{from:d.to,to:c.from};return null}var
mX=ic(false),mW=ic(true);function
ic(i){return function(b){var
c=b.state,e=b.dispatch;if(c.readOnly)return false;var
d=c.changeByRange(function(k){var
b=k.from,e=k.to,d=c.doc.lineAt(b),a=!i&&b==e&&m3(c,b);if(i)b=e=(e<=d.to?d:c.doc.lineAt(e)).to;var
j=new
aV(c,{simulateBreak:b,simulateDoubleBreak:!!a}),g=bl(j,b);if(g==null)g=/^\s*/.exec(c.doc.lineAt(b).text)[0].length;while(e<d.to&&/\s/.test(d.text[e-d.from]))e++;if(a){b=a.from;e=a.to}else
if(b>d.from&&b<d.from+100&&!/\S/.test(d.text.slice(0,b)))b=d.from;var
h=["",aI(c,g)];if(a)h.push(aI(c,j.lineIndent(d.from,-1)));return{changes:{from:b,to:e,insert:o.of(h)},range:f.cursor(b+1+h[1].length)}});e(c.update(d,{scrollIntoView:true,userEvent:"input"}));return true}}function
du(d,i){var
g=-1;return d.changeByRange(function(b){var
e=[];for(var
a=b.from;a<=b.to;){var
c=d.doc.lineAt(a);if(c.number>g&&(b.empty||b.to>c.from)){i(c,e,b);g=c.number}a=c.to+1}var
h=d.changes(e);return{changes:e,range:f.range(h.mapPos(b.anchor,1),h.mapPos(b.head,1))}})}var
mS=function(b){var
c=b.state,e=b.dispatch;if(c.readOnly)return false;var
f=Object.create(null),g=new
aV(c,{overrideIndentation:function(c){var
b=f[c];return b==null?-1:b}}),d=du(c,function(b,h,i){var
d=bl(g,b.from);if(d==null)return;if(!/\S/.test(b.text))d=0;var
e=/^\s*/.exec(b.text)[0],a=aI(c,d);if(e!=a||i.from<b.from+e.length){f[b.from]=d;h.push({from:b.from,to:b.from+e.length,insert:a})}});if(!d.changes.empty)e(c.update(d,{userEvent:"indent"}));return true},mR=function(c){var
b=c.state,d=c.dispatch;if(b.readOnly)return false;d(b.update(du(b,function(d,c){c.push({from:d.from,insert:b.facet(bm)})}),{userEvent:"input.indent"}));return true},mQ=function(b){var
c=b.state,d=b.dispatch;if(c.readOnly)return false;d(c.update(du(c,function(f,a){var
d=/^\s*/.exec(f.text)[0];if(!d)return;var
g=bi(d,c.tabSize),b=0,e=aI(c,Math.max(0,g-aw(c)));while(b<d.length&&b<e.length&&d.charCodeAt(b)==e.charCodeAt(b))b++;a.push({from:f.from+b,to:f.from+d.length,insert:e.slice(b)})}),{userEvent:"delete.dedent"}));return true},l9=[{key:"Ctrl-b",run:gH,shift:iR,preventDefault:true},{key:"Ctrl-f",run:gI,shift:iS},{key:"Ctrl-p",run:gO,shift:iY},{key:"Ctrl-n",run:gN,shift:iX},{key:"Ctrl-a",run:lJ,shift:or},{key:"Ctrl-e",run:lI,shift:oq},{key:"Ctrl-d",run:gX},{key:"Ctrl-h",run:dG},{key:"Ctrl-k",run:gZ},{key:"Ctrl-Alt-h",run:gY},{key:"Ctrl-o",run:oK},{key:"Ctrl-t",run:oY},{key:"Ctrl-v",run:dC}],oL=[{key:"ArrowLeft",run:gH,shift:iR,preventDefault:true},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:lG,shift:on},{mac:"Cmd-ArrowLeft",run:gL,shift:iV},{key:"ArrowRight",run:gI,shift:iS,preventDefault:true},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:lH,shift:oo},{mac:"Cmd-ArrowRight",run:gM,shift:iW},{key:"ArrowUp",run:gO,shift:iY,preventDefault:true},{mac:"Cmd-ArrowUp",run:gK,shift:iU},{mac:"Ctrl-ArrowUp",run:gP,shift:i0},{key:"ArrowDown",run:gN,shift:iX,preventDefault:true},{mac:"Cmd-ArrowDown",run:gJ,shift:iT},{mac:"Ctrl-ArrowDown",run:dC,shift:iZ},{key:"PageUp",run:gP,shift:i0},{key:"PageDown",run:dC,shift:iZ},{key:"Home",run:gL,shift:iV,preventDefault:true},{key:"Mod-Home",run:gK,shift:iU},{key:"End",run:gM,shift:iW,preventDefault:true},{key:"Mod-End",run:gJ,shift:iT},{key:"Enter",run:mX},{key:"Mod-a",run:om},{key:"Backspace",run:dG,shift:dG},{key:"Delete",run:gX},{key:"Mod-Backspace",mac:"Alt-Backspace",run:gY},{key:"Mod-Delete",mac:"Alt-Delete",run:lZ},{mac:"Mod-Backspace",run:l1},{mac:"Mod-Delete",run:gZ}].concat(l9.map(function(b){return{mac:b.key,run:b.run,shift:b.shift}})),lT=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:lL,shift:ow},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:lM,shift:ox},{key:"Alt-ArrowUp",run:nF},{key:"Shift-Alt-ArrowUp",run:lD},{key:"Alt-ArrowDown",run:nE},{key:"Shift-Alt-ArrowDown",run:lC},{key:"Escape",run:oG},{key:"Mod-Enter",run:mW},{key:"Alt-l",mac:"Ctrl-l",run:op},{key:"Mod-i",run:ou,preventDefault:true},{key:"Mod-[",run:mQ},{key:"Mod-]",run:mR},{key:"Mod-Alt-\\",run:mS},{key:"Shift-Mod-k",run:l0},{key:"Shift-Mod-\\",run:lK},{key:"Mod-/",run:oU},{key:"Alt-A",run:oS}].concat(oL);function
s(){var
b=arguments[0];if(typeof
b=="string")b=document.createElement(b);var
d=1,c=arguments[1];if(c&&ar(c)=="object"&&c.nodeType==null&&!Array.isArray(c)){for(var
e
in
c)if(Object.prototype.hasOwnProperty.call(c,e)){var
f=c[e];if(typeof
f=="string")b.setAttribute(e,f);else
if(f!=null)b[e]=f}d++}for(;d<arguments.length;d++)fZ(b,arguments[d]);return b}function
fZ(c,b){if(typeof
b=="string")c.appendChild(document.createTextNode(b));else
if(b==null);else
if(b.nodeType!=null)c.appendChild(b);else
if(Array.isArray(b))for(var
d=0;d<b.length;d++)fZ(c,b[d]);else
throw new
RangeError("Unsupported child node: "+b)}var
ga=typeof
String.prototype.normalize=="function"?function(b){return b.normalize("NFKD")}:function(b){return b},aU=function(){function
b(f,a){var
d=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0,g=arguments.length>3&&arguments[3]!==undefined?arguments[3]:f.length,e=arguments.length>4?arguments[4]:undefined;c(this,b);this.value={from:0,to:0};this.done=false;this.matches=[];this.buffer="";this.bufferPos=0;this.iter=f.iterRange(d,g);this.bufferStart=d;this.normalize=e?function(b){return e(ga(b))}:ga;this.query=this.normalize(a)}d(b,[{key:"peek",value:function(){if(this.bufferPos==this.buffer.length){this.bufferStart+=this.buffer.length;this.iter.next();if(this.iter.done)return-1;this.bufferPos=0;this.buffer=this.iter.value}return E(this.buffer,this.bufferPos)}},{key:"next",value:function(){while(this.matches.length)this.matches.pop();return this.nextOverlapping()}},{key:"nextOverlapping",value:function(){for(;;){var
c=this.peek();if(c<0){this.done=true;return this}var
e=dP(c),h=this.bufferStart+this.bufferPos;this.bufferPos+=P(c);var
g=this.normalize(e);for(var
b=0,d=h;;b++){var
f=g.charCodeAt(b),a=this.match(f,d);if(a){this.value=a;return this}if(b==g.length-1)break;if(d==h&&b<e.length&&e.charCodeAt(b)==f)d++}}}},{key:"match",value:function
c(e,d){var
c=null;for(var
b=0;b<this.matches.length;b+=2){var
f=this.matches[b],a=false;if(this.query.charCodeAt(f)==e)if(f==this.query.length-1)c={from:this.matches[b+1],to:d+1};else{this.matches[b]++;a=true}if(!a){this.matches.splice(b,2);b-=2}}if(this.query.charCodeAt(0)==e)if(this.query.length==1)c={from:d,to:d+1};else
this.matches.push(1,d);return c}}]);return b}();if(typeof
Symbol!="undefined")aU.prototype[Symbol.iterator]=function(){return this};var
ha={from:-1,to:-1,match:/.*/.exec("")},dr="gm"+(/x/.unicode==null?"":"u"),e9=function(){function
e(d,a,b){var
f=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0,g=arguments.length>4&&arguments[4]!==undefined?arguments[4]:d.length;c(this,e);this.to=g;this.curLine="";this.done=false;this.value=ha;if(/\\[sWDnr]|\n|\r|\[\^/.test(a))return new
eY(d,a,b,f,g);this.re=new
RegExp(a,dr+((b===null||b===void
0?void
0:b.ignoreCase)?"i":""));this.iter=d.iter();var
h=d.lineAt(f);this.curLineStart=h.from;this.matchPos=f;this.getLine(this.curLineStart)}d(e,[{key:"getLine",value:function(b){this.iter.next(b);if(this.iter.lineBreak)this.curLine="";else{this.curLine=this.iter.value;if(this.curLineStart+this.curLine.length>this.to)this.curLine=this.curLine.slice(0,this.to-this.curLineStart);this.iter.next()}}},{key:"nextLine",value:function(){this.curLineStart=this.curLineStart+this.curLine.length+1;if(this.curLineStart>this.to)this.curLine="";else
this.getLine(0)}},{key:"next",value:function(){for(var
e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;var
c=this.matchPos<=this.to&&this.re.exec(this.curLine);if(c){var
b=this.curLineStart+c.index,d=b+c[0].length;this.matchPos=d+(b==d?1:0);if(b==this.curLine.length)this.nextLine();if(b<d||b>this.value.to){this.value={from:b,to:d,match:c};return this}e=this.matchPos-this.curLineStart}else
if(this.curLineStart+this.curLine.length<this.to){this.nextLine();e=0}else{this.done=true;return this}}}}]);return e}(),dN=new
WeakMap(),eO=function(){function
e(b,d){c(this,e);this.from=b;this.text=d}d(e,[{key:"to",get:function(){return this.from+this.text.length}}],[{key:"get",value:function(f,c,a){var
b=dN.get(f);if(!b||b.from>=a||b.to<=c){var
h=new
e(c,f.sliceString(c,a));dN.set(f,h);return h}if(b.from==c&&b.to==a)return b;var
g=b.text,d=b.from;if(d>c){g=f.sliceString(c,d)+g;d=c}if(b.to<a)g+=f.sliceString(b.to,a);dN.set(f,new
e(d,g));return new
e(c,g.slice(c-d,a-d))}}]);return e}(),eY=function(){function
b(f,a,e,d,g){c(this,b);this.text=f;this.to=g;this.done=false;this.value=ha;this.matchPos=d;this.re=new
RegExp(a,dr+((e===null||e===void
0?void
0:e.ignoreCase)?"i":""));this.flat=eO.get(f,d,this.chunkEnd(d+5e3))}d(b,[{key:"chunkEnd",value:function(b){return b>=this.to?this.to:this.text.lineAt(b).to}},{key:"next",value:function(){for(;;){var
e=this.re.lastIndex=this.matchPos-this.flat.from,b=this.re.exec(this.flat.text);if(b&&!b[0]&&b.index==e){this.re.lastIndex=e+1;b=this.re.exec(this.flat.text)}if(b&&this.flat.to<this.to&&b.index+b[0].length>this.flat.text.length-10)b=null;if(b){var
c=this.flat.from+b.index,d=c+b[0].length;this.value={from:c,to:d,match:b};this.matchPos=d+(c==d?1:0);return this}else{if(this.flat.to==this.to){this.done=true;return this}this.flat=eO.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}}]);return b}();if(typeof
Symbol!="undefined")e9.prototype[Symbol.iterator]=eY.prototype[Symbol.iterator]=function(){return this};function
o1(b){try{new
RegExp(b,dr);return true}catch(a){return false}}function
dA(b){var
j=s("input",{"class":"cm-textfield",name:"line"}),c=s("form",{"class":"cm-gotoLine",onkeydown:function(c){if(c.keyCode==27){c.preventDefault();b.dispatch({effects:b$.of(false)});b.focus()}else
if(c.keyCode==13){c.preventDefault();d()}},onsubmit:function(b){b.preventDefault();d()}},s("label",b.state.phrase("Go to line"),": ",j)," ",s("button",{"class":"cm-button",type:"submit"},b.state.phrase("go")));function
d(){var
m=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(j.value);if(!m)return;var
c=b.state,i=c.doc.lineAt(c.selection.main.head),e=aN(m,5),g=e[1],a=e[2],k=e[3],o=e[4],n=k?+k.slice(1):0,d=a?+a:i.number;if(a&&o){var
h=d/100;if(g)h=h*(g=="-"?-1:1)+i.number/c.doc.lines;d=Math.round(c.doc.lines*h)}else
if(a&&g)d=d*(g=="-"?-1:1)+i.number;var
l=c.doc.line(Math.max(1,Math.min(c.doc.lines,d)));b.dispatch({effects:b$.of(false),selection:f.cursor(l.from+Math.max(0,Math.min(n,l.length))),scrollIntoView:true});b.focus()}return{dom:c}}var
b$=m.define(),g2=A.define({create:function(){return true},update:function(f,a){var
c=b(a.effects),d;try{for(c.s();!(d=c.n()).done;){var
e=d.value;if(e.is(b$))f=e.value}}catch(b){c.e(b)}finally{c.f()}return f},provide:function(b){return bF.from(b,function(b){return b?dA:null})}}),mu=function(c){var
b=bx(c,dA);if(!b){var
d=[b$.of(true)];if(c.state.field(g2,false)==null)d.push(m.appendConfig.of([g2,la]));c.dispatch({effects:d});b=bx(c,dA)}if(b)b.dom.querySelector("input").focus();return true},la=j.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),lS={highlightWordAroundCursor:false,minSelectionLength:1,maxMatches:100,wholeWords:false},hv=h.define({combine:function(b){return ad(b,lS,{highlightWordAroundCursor:function(b,c){return b||c},minSelectionLength:Math.min,maxMatches:Math.min})}});function
mH(c){var
b=[lW,nw];if(c)b.push(hv.of(c));return b}var
nv=i.mark({"class":"cm-selectionMatch"}),nq=i.mark({"class":"cm-selectionMatch cm-selectionMatch-main"});function
hF(e,c,b,d){return(b==0||e(c.sliceDoc(b-1,b))!=J.Word)&&(d==c.doc.length||e(c.sliceDoc(d,d+1))!=J.Word)}function
mY(b,d,c,e){return b(d.sliceDoc(c,c+1))==J.Word&&b(d.sliceDoc(e-1,e))==J.Word}var
nw=D.fromClass(function(){function
e(b){c(this,e);this.decorations=this.getDeco(b)}d(e,[{key:"update",value:function(b){if(b.selectionSet||b.docChanged||b.viewportChanged)this.decorations=this.getDeco(b.view)}},{key:"getDeco",value:function(l){var
j=l.state.facet(hv),d=l.state,s=d.selection;if(s.ranges.length>1)return i.none;var
c=s.main,a,e=null;if(c.empty){if(!j.highlightWordAroundCursor)return i.none;var
m=d.wordAt(c.head);if(!m)return i.none;e=d.charCategorizer(c.head);a=d.sliceDoc(m.from,m.to)}else{var
q=c.to-c.from;if(q<j.minSelectionLength||q>200)return i.none;if(j.wholeWords){a=d.sliceDoc(c.from,c.to);e=d.charCategorizer(c.head);if(!(hF(e,d,c.from,c.to)&&mY(e,d,c.from,c.to)))return i.none}else{a=d.sliceDoc(c.from,c.to).trim();if(!a)return i.none}}var
k=[],h=b(l.visibleRanges),o;try{for(h.s();!(o=h.n()).done;){var
r=o.value,p=new
aU(d.doc,a,r.from,r.to);while(!p.next().done){var
n=p.value,f=n.from,g=n.to;if(!e||hF(e,d,f,g)){if(c.empty&&f<=c.from&&g>=c.to)k.push(nq.range(f,g));else
if(f>=c.to||g<=c.from)k.push(nv.range(f,g));if(k.length>j.maxMatches)return i.none}}}}catch(b){h.e(b)}finally{h.f()}return i.set(k)}}]);return e}(),{decorations:function(b){return b.decorations}}),lW=j.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),oy=function(d){var
c=d.state,a=d.dispatch,b=c.selection,e=f.create(b.ranges.map(function(b){return c.wordAt(b.head)||f.cursor(b.head)}),b.mainIndex);if(e.eq(b))return false;a(c.update({selection:e}));return true};function
mh(a,i){var
h=a.selection,c=h.main,f=h.ranges,g=a.wordAt(c.head),k=g&&g.from==c.from&&g.to==c.to,j=function(c,b){b.next();if(b.done){if(c){d=b;e=c;return{v:null}}b=new
aU(a.doc,i,0,Math.max(0,f[f.length-1].from-1));c=true}else{if(c&&f.some(function(c){return c.from==b.value.from})){d=b;e=c;return"continue"}if(k){var
g=a.wordAt(b.value.from);if(!g||g.from!=b.value.from||g.to!=b.value.to){d=b;e=c;return"continue"}}e=c;d=b;return{v:b.value}}e=c;d=b};for(var
e=false,d=new
aU(a.doc,i,f[f.length-1].to);;){var
b=j(e,d);if(b==="continue")continue;if(ar(b)==="object")return b.v}}var
ot=function(e){var
b=e.state,a=e.dispatch,d=b.selection.ranges;if(d.some(function(b){return b.from===b.to}))return oy({state:b,dispatch:a});var
g=b.sliceDoc(d[0].from,d[0].to);if(b.selection.ranges.some(function(c){return b.sliceDoc(c.from,c.to)!=g}))return false;var
c=mh(b,g);if(!c)return false;a(b.update({selection:b.selection.addRange(f.range(c.from,c.to),false),effects:j.scrollIntoView(c.to)}));return true},ee=h.define({combine:function(c){var
b;return{top:c.reduce(function(b,c){return b!==null&&b!==void
0?b:c.top},void
0)||false,caseSensitive:c.reduce(function(b,c){return b!==null&&b!==void
0?b:c.caseSensitive},void
0)||false,createPanel:((b=c.find(function(b){return b.createPanel}))===null||b===void
0?void
0:b.createPanel)||function(b){return new
kf(b)}}}}),e$=function(){function
e(b){c(this,e);this.search=b.search;this.caseSensitive=!!b.caseSensitive;this.regexp=!!b.regexp;this.replace=b.replace||"";this.valid=!!this.search&&(!this.regexp||o1(this.search));this.unquoted=b.literal?this.search:this.search.replace(/\\([nrt\\])/g,function(c,b){return b=="n"?"\n":b=="r"?"\r":b=="t"?"\t":"\\"})}d(e,[{key:"eq",value:function(b){return this.search==b.search&&this.replace==b.replace&&this.caseSensitive==b.caseSensitive&&this.regexp==b.regexp}},{key:"create",value:function(){return this.regexp?new
kc(this):new
km(this)}},{key:"getCursor",value:function(b){var
c=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0,d=arguments.length>2&&arguments[2]!==undefined?arguments[2]:b.length;return this.regexp?a3(this,b,c,d):a6(this,b,c,d)}}]);return e}(),e7=d(function
b(d){c(this,b);this.spec=d});function
a6(b,c,d,e){return new
aU(c,b.unquoted,d,e,b.caseSensitive?void
0:function(b){return b.toLowerCase()})}var
km=function(e){l(b,e);var
f=k(b);function
b(d){c(this,b);return f.call(this,d)}d(b,[{key:"nextMatch",value:function(c,d,e){var
b=a6(this.spec,c,e,c.length).nextOverlapping();if(b.done)b=a6(this.spec,c,0,d).nextOverlapping();return b.done?null:b.value}},{key:"prevMatchInRange",value:function(a,e,g){for(var
b=g;;){var
f=Math.max(e,b-1e4-this.spec.unquoted.length),d=a6(this.spec,a,f,b),c=null;while(!d.nextOverlapping().done)c=d.value;if(c)return c;if(f==e)return null;b-=1e4}}},{key:"prevMatch",value:function(b,c,d){return this.prevMatchInRange(b,0,c)||this.prevMatchInRange(b,d,b.length)}},{key:"getReplacement",value:function(b){return this.spec.replace}},{key:"matchAll",value:function(d,e){var
c=a6(this.spec,d,0,d.length),b=[];while(!c.next().done){if(b.length>=e)return null;b.push(c.value)}return b}},{key:"highlight",value:function(c,e,f,d){var
b=a6(this.spec,c,Math.max(0,e-this.spec.unquoted.length),Math.min(f+this.spec.unquoted.length,c.length));while(!b.next().done)d(b.value.from,b.value.to)}}]);return b}(e7);function
a3(b,c,d,e){return new
e9(c,b.search,b.caseSensitive?void
0:{ignoreCase:true},d,e)}var
kc=function(e){l(b,e);var
f=k(b);function
b(){c(this,b);return f.apply(this,arguments)}d(b,[{key:"nextMatch",value:function(c,d,e){var
b=a3(this.spec,c,e,c.length).next();if(b.done)b=a3(this.spec,c,0,d).next();return b.done?null:b.value}},{key:"prevMatchInRange",value:function(g,d,a){for(var
f=1;;f++){var
c=Math.max(d,a-f*1e4),e=a3(this.spec,g,c,a),b=null;while(!e.next().done)b=e.value;if(b&&(c==d||b.from>c+10))return b;if(c==d)return null}}},{key:"prevMatch",value:function(b,c,d){return this.prevMatchInRange(b,0,c)||this.prevMatchInRange(b,d,b.length)}},{key:"getReplacement",value:function(c){return this.spec.replace.replace(/\$([$&\d+])/g,function(d,b){return b=="$"?"$":b=="&"?c.match[0]:b!="0"&&+b<c.match.length?c.match[b]:d})}},{key:"matchAll",value:function(d,e){var
c=a3(this.spec,d,0,d.length),b=[];while(!c.next().done){if(b.length>=e)return null;b.push(c.value)}return b}},{key:"highlight",value:function(c,e,f,d){var
b=a3(this.spec,c,Math.max(0,e-250),Math.min(f+250,c.length));while(!b.next().done)d(b.value.from,b.value.to)}}]);return b}(e7),bE=m.define(),em=m.define(),aC=A.define({create:function(b){return new
c4(dE(b).create(),null)},update:function(c,a){var
d=b(a.effects),f;try{for(d.s();!(f=d.n()).done;){var
e=f.value;if(e.is(bE))c=new
c4(e.value.create(),c.panel);else
if(e.is(em))c=new
c4(c.query,e.value?dB:null)}}catch(b){d.e(b)}finally{d.f()}return c},provide:function(b){return bF.from(b,function(b){return b.panel})}}),c4=d(function
b(e,d){c(this,b);this.query=e;this.panel=d}),nx=i.mark({"class":"cm-searchMatch"}),oA=i.mark({"class":"cm-searchMatch cm-searchMatch-selected"}),ok=D.fromClass(function(){function
b(d){c(this,b);this.view=d;this.decorations=this.highlight(d.state.field(aC))}d(b,[{key:"update",value:function(b){var
c=b.state.field(aC);if(c!=b.startState.field(aC)||b.docChanged||b.selectionSet||b.viewportChanged)this.decorations=this.highlight(c)}},{key:"highlight",value:function(g){var
j=g.query,l=g.panel;if(!l||!j.spec.valid)return i.none;var
e=this.view,h=new
aT();for(var
b=0,c=e.visibleRanges,f=c.length;b<f;b++){var
a=c[b],k=a.from,d=a.to;while(b<f-1&&d>c[b+1].from-2*250)d=c[++b].to;j.highlight(e.state.doc,k,d,function(b,c){var
d=e.state.selection.ranges.some(function(d){return d.from==b&&d.to==c});h.add(b,c,d?oA:nx)})}return h.finish()}}]);return b}(),{decorations:function(b){return b.decorations}});function
bB(d){return function(c){var
b=c.state.field(aC,false);return b&&b.query.spec.valid?d(c,b):ih(c)}}var
cd=bB(function(c,e){var
f=e.query,d=c.state.selection.main.to,b=f.nextMatch(c.state.doc,d,d);if(!b)return false;c.dispatch({selection:{anchor:b.from,head:b.to},scrollIntoView:true,effects:dn(c,b),userEvent:"select.search"});return true}),cf=bB(function(c,f){var
a=f.query,e=c.state,d=e.selection.main.from,b=a.prevMatch(e.doc,d,d);if(!b)return false;c.dispatch({selection:{anchor:b.from,head:b.to},scrollIntoView:true,effects:dn(c,b),userEvent:"select.search"});return true}),os=bB(function(c,d){var
e=d.query,b=e.matchAll(c.state.doc,1e3);if(!b||!b.length)return false;c.dispatch({selection:f.create(b.map(function(b){return f.range(b.from,b.to)})),userEvent:"select.search.matches"});return true}),ov=function(a){var
d=a.state,j=a.dispatch,e=d.selection;if(e.ranges.length>1||e.main.empty)return false;var
g=e.main,h=g.from,k=g.to,c=[],i=0;for(var
b=new
aU(d.doc,d.sliceDoc(h,k));!b.next().done;){if(c.length>1e3)return false;if(b.value.from==h)i=c.length;c.push(f.range(b.value.from,b.value.to))}j(d.update({selection:f.create(c,i),userEvent:"select.search.matches"}));return true},iA=bB(function(i,m){var
a=m.query,c=i.state,k=c.selection.main,e=k.from,n=k.to;if(c.readOnly)return false;var
b=a.nextMatch(c.doc,e,e);if(!b)return false;var
d=[],h,g,f=[];if(b.from==e&&b.to==n){g=c.toText(a.getReplacement(b));d.push({from:b.from,to:b.to,insert:g});b=a.nextMatch(c.doc,b.from,b.to);f.push(j.announce.of(c.phrase("replaced match on line $",c.doc.lineAt(e).number)+"."))}if(b){var
l=d.length==0||d[0].from>=b.to?0:b.to-b.from-g.length;h={anchor:b.from-l,head:b.to-l};f.push(dn(i,b))}i.dispatch({changes:d,selection:h,scrollIntoView:!!h,effects:f,userEvent:"input.replace"});return true}),n$=bB(function(b,e){var
d=e.query;if(b.state.readOnly)return false;var
c=d.matchAll(b.state.doc,1e9).map(function(b){var
c=b.from,e=b.to;return{from:c,to:e,insert:d.getReplacement(b)}});if(!c.length)return false;var
f=b.state.phrase("replaced $ matches",c.length)+".";b.dispatch({changes:c,effects:j.announce.of(f),userEvent:"input.replace.all"});return true});function
dB(b){return b.state.facet(ee).createPanel(b)}function
dE(e,b){var
d,c=e.selection.main,f=c.empty||c.to>c.from+100?"":e.sliceDoc(c.from,c.to),a=(d=b===null||b===void
0?void
0:b.caseSensitive)!==null&&d!==void
0?d:e.facet(ee).caseSensitive;return b&&!f?b:new
e$({search:f.replace(/\n/g,"\\n"),caseSensitive:a})}var
ih=function(b){var
c=b.state.field(aC,false);if(c&&c.panel){var
e=bx(b,dB);if(!e)return false;var
d=e.dom.querySelector("[main-field]");if(d&&d!=b.root.activeElement){var
f=dE(b.state,c.query.spec);if(f.valid)b.dispatch({effects:bE.of(f)});d.focus();d.select()}}else
b.dispatch({effects:[em.of(true),c?bE.of(dE(b.state,c.query.spec)):m.appendConfig.of(oj)]});return true},gm=function(b){var
d=b.state.field(aC,false);if(!d||!d.panel)return false;var
c=bx(b,dB);if(c&&c.dom.contains(b.root.activeElement))b.focus();b.dispatch({effects:em.of(false)});return true},ol=[{key:"Mod-f",run:ih,scope:"editor search-panel"},{key:"F3",run:cd,shift:cf,scope:"editor search-panel",preventDefault:true},{key:"Mod-g",run:cd,shift:cf,scope:"editor search-panel",preventDefault:true},{key:"Escape",run:gm,scope:"editor search-panel"},{key:"Mod-Shift-l",run:ov},{key:"Alt-g",run:mu},{key:"Mod-d",run:ot,preventDefault:true}],kf=function(){function
f(b){var
a=this;c(this,f);this.view=b;var
e=this.query=b.state.field(aC).query.spec;this.commit=this.commit.bind(this);this.searchField=s("input",{value:e.search,placeholder:W(b,"Find"),"aria-label":W(b,"Find"),"class":"cm-textfield",name:"search","main-field":"true",onchange:this.commit,onkeyup:this.commit});this.replaceField=s("input",{value:e.replace,placeholder:W(b,"Replace"),"aria-label":W(b,"Replace"),"class":"cm-textfield",name:"replace",onchange:this.commit,onkeyup:this.commit});this.caseField=s("input",{type:"checkbox",name:"case",checked:e.caseSensitive,onchange:this.commit});this.reField=s("input",{type:"checkbox",name:"re",checked:e.regexp,onchange:this.commit});function
d(c,d,b){return s("button",{"class":"cm-button",name:c,onclick:d,type:"button"},b)}this.dom=s("div",{onkeydown:function(b){return a.keydown(b)},"class":"cm-search"},[this.searchField,d("next",function(){return cd(b)},[W(b,"next")]),d("prev",function(){return cf(b)},[W(b,"previous")]),d("select",function(){return os(b)},[W(b,"all")]),s("label",null,[this.caseField,W(b,"match case")]),s("label",null,[this.reField,W(b,"regexp")])].concat(aq(b.state.readOnly?[]:[s("br"),this.replaceField,d("replace",function(){return iA(b)},[W(b,"replace")]),d("replaceAll",function(){return n$(b)},[W(b,"replace all")]),s("button",{name:"close",onclick:function(){return gm(b)},"aria-label":W(b,"close"),type:"button"},["\xD7"])])))}d(f,[{key:"commit",value:function(){var
b=new
e$({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,replace:this.replaceField.value});if(!b.eq(this.query)){this.query=b;this.view.dispatch({effects:bE.of(b)})}}},{key:"keydown",value:function(b){if(oa(this.view,b,"search-panel"))b.preventDefault();else
if(b.keyCode==13&&b.target==this.searchField){b.preventDefault();(b.shiftKey?cf:cd)(this.view)}else
if(b.keyCode==13&&b.target==this.replaceField){b.preventDefault();iA(this.view)}}},{key:"update",value:function(g){var
c=b(g.transactions),f;try{for(c.s();!(f=c.n()).done;){var
h=f.value,d=b(h.effects),a;try{for(d.s();!(a=d.n()).done;){var
e=a.value;if(e.is(bE)&&!e.value.eq(this.query))this.setQuery(e.value)}}catch(b){d.e(b)}finally{d.f()}}}catch(b){c.e(b)}finally{c.f()}}},{key:"setQuery",value:function(b){this.query=b;this.searchField.value=b.search;this.replaceField.value=b.replace;this.caseField.checked=b.caseSensitive;this.reField.checked=b.regexp}},{key:"mount",value:function(){this.searchField.select()}},{key:"pos",get:function(){return 80}},{key:"top",get:function(){return this.view.state.facet(ee).top}}]);return f}();function
W(c,b){return c.state.phrase(b)}var
bM=30,bN=/[\s\.,:;?!]/;function
dn(e,a){var
h=a.from,l=a.to,f=e.state.doc.lineAt(h),i=e.state.doc.lineAt(l).to,k=Math.max(f.from,h-bM),g=Math.min(i,l+bM),b=e.state.sliceDoc(k,g);if(k!=f.from)for(var
c=0;c<bM;c++)if(!bN.test(b[c+1])&&bN.test(b[c])){b=b.slice(c);break}if(g!=i)for(var
d=b.length-1;d>b.length-bM;d--)if(!bN.test(b[d-1])&&bN.test(b[d])){b=b.slice(0,d);break}return j.announce.of("".concat(e.state.phrase("current match"),". ").concat(b," ").concat(e.state.phrase("on line")," ").concat(f.number,"."))}var
lc=j.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),oj=[aC,aG.lowest(ok),lc],g4={};bZ(g4,{CompletionContext:function(){return c8},acceptCompletion:function(){return fi},autocompletion:function(){return fn},clearSnippet:function(){return fp},closeBrackets:function(){return fq},closeBracketsKeymap:function(){return fr},closeCompletion:function(){return fs},completeAnyWord:function(){return kw},completeFromList:function(){return fu},completionKeymap:function(){return db},completionStatus:function(){return kx},currentCompletions:function(){return kz},deleteBracketPair:function(){return fw},ifIn:function(){return kI},ifNotIn:function(){return kJ},insertBracket:function(){return fH},insertCompletionText:function(){return fI},moveCompletionSelection:function(){return bn},nextSnippetField:function(){return fM},pickedCompletion:function(){return kQ},prevSnippetField:function(){return fS},selectedCompletion:function(){return kR},selectedCompletionIndex:function(){return kS},setSelectedCompletion:function(){return kT},snippet:function(){return fV},snippetCompletion:function(){return kU},snippetKeymap:function(){return dh},startCompletion:function(){return fW}});var
c8=function(){function
b(f,e,d){c(this,b);this.state=f;this.pos=e;this.explicit=d;this.abortListeners=[]}d(b,[{key:"tokenBefore",value:function(c){var
b=x(this.state).resolveInner(this.pos,-1);while(b&&c.indexOf(b.name)<0)b=b.parent;return b?{from:b.from,to:this.pos,text:this.state.sliceDoc(b.from,this.pos),type:b.type}:null}},{key:"matchBefore",value:function(f){var
b=this.state.doc.lineAt(this.pos),d=Math.max(b.from,this.pos-250),e=b.text.slice(d-b.from,this.pos-b.from),c=e.search(hb(f,false));return c<0?null:{from:d+c,to:this.pos,text:e.slice(c)}}},{key:"aborted",get:function(){return this.abortListeners==null}},{key:"addEventListener",value:function(c,b){if(c=="abort"&&this.abortListeners)this.abortListeners.push(b)}}]);return b}();function
i_(d){var
b=Object.keys(d).join(""),c=/\w/.test(b);if(c)b=b.replace(/\w/g,"");return"[".concat(c?"\\w":"").concat(b.replace(/[^\w\s]/g,"\\$&"),"]")}function
n1(i){var
a=Object.create(null),g=Object.create(null),c=b(i),f;try{for(c.s();!(f=c.n()).done;){var
e=f.value.label;a[e[0]]=true;for(var
d=1;d<e.length;d++)g[e[d]]=true}}catch(b){c.e(b)}finally{c.f()}var
h=i_(a)+i_(g)+"*$";return[new
RegExp("^"+h),new
RegExp(h)]}function
fu(e){var
b=e.map(function(b){return typeof
b=="string"?{label:b}:b}),d=b.every(function(b){return/^\w+$/.test(b.label)})?[/\w*$/,/\w+$/]:n1(b),c=aN(d,2),a=c[0],f=c[1];return function(c){var
d=c.matchBefore(f);return d||c.explicit?{from:d?d.from:c.pos,options:b,validFor:a}:null}}function
kI(d,e){return function(c){for(var
b=x(c.state).resolveInner(c.pos,-1);b;b=b.parent)if(d.indexOf(b.name)>-1)return e(c);return null}}function
kJ(d,e){return function(c){for(var
b=x(c.state).resolveInner(c.pos,-1);b;b=b.parent)if(d.indexOf(b.name)>-1)return null;return e(c)}}var
e0=d(function
b(d,f,e){c(this,b);this.completion=d;this.source=f;this.match=e});function
az(b){return b.selection.main.head}function
hb(b,a){var
d,c=b.source,f=a&&c[0]!="^",e=c[c.length-1]!="$";if(!f&&!e)return b;return new
RegExp("".concat(f?"^":"","(?:").concat(c,")").concat(e?"$":""),(d=b.flags)!==null&&d!==void
0?d:b.ignoreCase?"i":"")}var
kQ=as.define();function
fI(d,e,c,g){return Object.assign(Object.assign({},d.changeByRange(function(b){if(b==d.selection.main)return{changes:{from:c,to:g,insert:e},range:f.cursor(c+e.length)};var
a=g-c;if(!b.empty||a&&d.sliceDoc(b.from-a,b.from)!=d.sliceDoc(c,g))return{range:b};return{changes:{from:b.from-a,to:b.from,insert:e},range:f.cursor(b.from-a+e.length)}})),{userEvent:"input.complete"})}function
f3(e,b){var
d=b.completion.apply||b.completion.label,c=b.source;if(typeof
d=="string")e.dispatch(fI(e.state,d,c.from,c.to));else
d(e,b.completion,c.from,c.to)}var
fb=new
WeakMap();function
k6(b){if(!Array.isArray(b))return b;var
c=fb.get(b);if(!c)fb.set(b,c=fu(b));return c}var
jP=function(){function
e(d){c(this,e);this.pattern=d;this.chars=[];this.folded=[];this.any=[];this.precise=[];this.byWord=[];for(var
b=0;b<d.length;){var
a=E(d,b),g=P(a);this.chars.push(a);var
f=d.slice(b,b+g),h=f.toUpperCase();this.folded.push(E(h==f?f.toLowerCase():h,0));b+=g}this.astral=d.length!=this.chars.length}d(e,[{key:"match",value:function(c){if(this.pattern.length==0)return[0];if(c.length<this.pattern.length)return null;var
a=this.chars,n=this.folded,q=this.any,A=this.precise,j=this.byWord;if(a.length==1){var
m=E(c,0);return m==a[0]?[0,0,P(m)]:m==n[0]?[-200,0,P(m)]:null}var
h=c.indexOf(this.pattern);if(h==0)return[0,0,this.pattern.length];var
d=a.length,i=0;if(h<0){for(var
k=0,y=Math.min(c.length,200);k<y&&i<d;){var
s=E(c,k);if(s==a[i]||s==n[i])q[i++]=k;k+=P(s)}if(i<d)return null}var
t=0,g=0,r=false,f=0,p=-1,o=-1,z=/[a-z]/.test(c),v=true;for(var
e=0,x=Math.min(c.length,200),w=0;e<x&&g<d;){var
b=E(c,e);if(h<0){if(t<d&&b==a[t])A[t++]=e;if(f<d)if(b==a[f]||b==n[f]){if(f==0)p=e;o=e+1;f++}else
f=0}var
l=void
0,u=b<255?b>=48&&b<=57||b>=97&&b<=122?2:b>=65&&b<=90?1:0:(l=dP(b))!=l.toLowerCase()?1:l!=l.toUpperCase()?2:0;if(!e||u==1&&z||w==0&&u!=0)if(a[g]==b||n[g]==b&&(r=true))j[g++]=e;else
if(j.length)v=false;w=u;e+=P(b)}if(g==d&&j[0]==0&&v)return this.result(-100+(r?-200:0),j,c);if(f==d&&p==0)return[-200-c.length,0,o];if(h>-1)return[-700-c.length,h,h+this.pattern.length];if(f==d)return[-200+-700-c.length,p,o];if(g==d)return this.result(-100+(r?-200:0)+-700+(v?0:-1100),j,c);return a.length==2?null:this.result((q[0]?-700:0)+-200+-1100,q,c)}},{key:"result",value:function
c(j,i,h){var
c=[j-h.length],d=1,e=b(i),a;try{for(e.s();!(a=e.n()).done;){var
f=a.value,g=f+(this.astral?P(E(h,f)):1);if(d>1&&c[d-1]==f)c[d-1]=g;else{c[d++]=f;c[d++]=g}}}catch(b){e.e(b)}finally{e.f()}return c}}]);return e}(),ae=h.define({combine:function(b){return ad(b,{activateOnTyping:true,selectOnOpen:true,override:null,closeOnBlur:true,maxRenderedOptions:100,defaultKeymap:true,optionClass:function(){return""},aboveCursor:false,icons:true,addToOptions:[],compareCompletions:function(b,c){return b.label.localeCompare(c.label)}},{defaultKeymap:function(b,c){return b&&c},closeOnBlur:function(b,c){return b&&c},icons:function(b,c){return b&&c},optionClass:function(c,d){return function(b){return nb(c(b),d(b))}},addToOptions:function(b,c){return b.concat(c)}})}});function
nb(b,c){return b?c?b+" "+c:b:c}function
nY(c){var
b=c.addToOptions.slice();if(c.icons)b.push({render:function(d){var
c,b=document.createElement("div");b.classList.add("cm-completionIcon");if(d.type)(c=b.classList).add.apply(c,aq(d.type.split(/\s+/g).map(function(b){return"cm-completionIcon-"+b})));b.setAttribute("aria-hidden","true");return b},position:20});b.push({render:function(i,j,a){var
b=document.createElement("span");b.className="cm-completionLabel";var
d=i.label,c=0;for(var
f=1;f<a.length;){var
e=a[f++],h=a[f++];if(e>c)b.appendChild(document.createTextNode(d.slice(c,e)));var
g=b.appendChild(document.createElement("span"));g.appendChild(document.createTextNode(d.slice(e,h)));g.className="cm-completionMatchedText";c=h}if(c<d.length)b.appendChild(document.createTextNode(d.slice(c)));return b},position:50},{render:function(c){if(!c.detail)return null;var
b=document.createElement("span");b.className="cm-completionDetail";b.textContent=c.detail;return b},position:80});return b.sort(function(b,c){return b.position-c.position}).map(function(b){return b.render})}function
iv(c,d,b){if(c<=b)return{from:0,to:c};if(d<0)d=0;if(d<=c>>1){var
f=Math.floor(d/b);return{from:f*b,to:(f+1)*b}}var
e=Math.floor((c-d)/b);return{from:c-(e+1)*b,to:c-e*b}}var
jA=function(){function
f(e,i){var
b=this;c(this,f);this.view=e;this.stateField=i;this.info=null;this.placeInfo={read:function(){return b.measureInfo()},write:function(c){return b.positionInfo(c)},key:this};var
h=e.state.field(i),g=h.open,d=g.options,j=g.selected,a=e.state.facet(ae);this.optionContent=nY(a);this.optionClass=a.optionClass;this.range=iv(d.length,j,a.maxRenderedOptions);this.dom=document.createElement("div");this.dom.className="cm-tooltip-autocomplete";this.dom.addEventListener("mousedown",function(a){for(var
c=a.target,f;c&&c!=b.dom;c=c.parentNode)if(c.nodeName=="LI"&&(f=/-(\d+)$/.exec(c.id))&&+f[1]<d.length){f3(e,d[+f[1]]);a.preventDefault();return}});this.list=this.dom.appendChild(this.createListBox(d,h.id,this.range));this.list.addEventListener("scroll",function(){if(b.info)b.view.requestMeasure(b.placeInfo)})}d(f,[{key:"mount",value:function(){this.updateSel()}},{key:"update",value:function(b){if(b.state.field(this.stateField)!=b.startState.field(this.stateField))this.updateSel()}},{key:"positioned",value:function(){if(this.info)this.view.requestMeasure(this.placeInfo)}},{key:"updateSel",value:function(){var
c=this,f=this.view.state.field(this.stateField),b=f.open;if(b.selected<this.range.from||b.selected>=this.range.to){this.range=iv(b.options.length,b.selected,this.view.state.facet(ae).maxRenderedOptions);this.list.remove();this.list=this.dom.appendChild(this.createListBox(b.options,f.id,this.range));this.list.addEventListener("scroll",function(){if(c.info)c.view.requestMeasure(c.placeInfo)})}if(this.updateSelectedOption(b.selected)){if(this.info){this.info.remove();this.info=null}var
a=b.options[b.selected].completion,d=a.info;if(!d)return;var
e=typeof
d==="string"?document.createTextNode(d):d(a);if(!e)return;if("then"in
e)e.then(function(b){if(b&&c.view.state.field(c.stateField,false)==f)c.addInfoPane(b)})["catch"](function(b){return R(c.view.state,b,"completion info")});else
this.addInfoPane(e)}}},{key:"addInfoPane",value:function(c){var
b=this.info=document.createElement("div");b.className="cm-tooltip cm-completionInfo";b.appendChild(c);this.dom.appendChild(b);this.view.requestMeasure(this.placeInfo)}},{key:"updateSelectedOption",value:function(e){var
c=null;for(var
b=this.list.firstChild,d=this.range.from;b;b=b.nextSibling,d++)if(d==e){if(!b.hasAttribute("aria-selected")){b.setAttribute("aria-selected","true");c=b}}else
if(b.hasAttribute("aria-selected"))b.removeAttribute("aria-selected");if(c)oh(this.list,c);return c}},{key:"measureInfo",value:function(){var
f=this.dom.querySelector("[aria-selected]");if(!f||!this.info)return null;var
c=this.dom.getBoundingClientRect(),d=this.info.getBoundingClientRect(),e=f.getBoundingClientRect();if(e.top>Math.min(innerHeight,c.bottom)-10||e.bottom<Math.max(0,c.top)+10)return null;var
h=Math.max(0,Math.min(e.top,innerHeight-d.height))-c.top,b=this.view.textDirection==t.RTL,a=c.left,g=innerWidth-c.right;if(b&&a<Math.min(d.width,g))b=false;else
if(!b&&g<Math.min(d.width,a))b=true;return{top:h,left:b}}},{key:"positionInfo",value:function(b){if(this.info){this.info.style.top=(b?b.top:-1e6)+"px";if(b){this.info.classList.toggle("cm-completionInfo-left",b.left);this.info.classList.toggle("cm-completionInfo-right",!b.left)}}}},{key:"createListBox",value:function(m,k,a){var
c=document.createElement("ul");c.id=k;c.setAttribute("role","listbox");c.setAttribute("aria-expanded","true");c.setAttribute("aria-label",this.view.state.phrase("Completions"));for(var
d=a.from;d<a.to;d++){var
g=m[d],j=g.completion,n=g.match,f=c.appendChild(document.createElement("li"));f.id=k+"-"+d;f.setAttribute("role","option");var
i=this.optionClass(j);if(i)f.className=i;var
e=b(this.optionContent),h;try{for(e.s();!(h=e.n()).done;){var
o=h.value,l=o(j,this.view.state,n);if(l)f.appendChild(l)}}catch(b){e.e(b)}finally{e.f()}}if(a.from)c.classList.add("cm-completionListIncompleteTop");if(a.to<m.length)c.classList.add("cm-completionListIncompleteBottom");return c}}]);return f}();function
ly(b){return function(c){return new
jA(c,b)}}function
oh(d,e){var
b=d.getBoundingClientRect(),c=e.getBoundingClientRect();if(c.top<b.top)d.scrollTop-=b.top-c.top;else
if(c.bottom>b.bottom)d.scrollTop+=c.bottom-b.bottom}function
iK(b){return(b.boost||0)*100+(b.apply?10:0)+(b.info?5:0)+(b.type?1:0)}function
oI(w,v){var
m=[],y=0,f=b(w),n;try{for(f.s();!(n=f.n()).done;){var
c=n.value;if(c.hasResult())if(c.result.filter===false){var
s=c.result.getMatch,g=b(c.result.options),p;try{for(g.s();!(p=g.n()).done;){var
u=p.value,t=[1e9-y++];if(s){var
h=b(s(u)),q;try{for(h.s();!(q=h.n()).done;){var
A=q.value;t.push(A)}}catch(b){h.e(b)}finally{h.f()}}m.push(new
e0(u,c,t))}}catch(b){g.e(b)}finally{g.f()}}else{var
z=new
jP(v.sliceDoc(c.from,c.to)),l=void
0,i=b(c.result.options),r;try{for(i.s();!(r=i.n()).done;){var
j=r.value;if(l=z.match(j.label)){if(j.boost!=null)l[0]+=j.boost;m.push(new
e0(j,c,l))}}}catch(b){i.e(b)}finally{i.f()}}}}catch(b){f.e(b)}finally{f.f()}var
k=[],e=null,x=v.facet(ae).compareCompletions,a=b(m.sort(function(b,c){return c.match[0]-b.match[0]||x(b.completion,c.completion)})),o;try{for(a.s();!(o=a.n()).done;){var
d=o.value;if(!e||e.label!=d.completion.label||e.detail!=d.completion.detail||e.type!=null&&d.completion.type!=null&&e.type!=d.completion.type||e.apply!=d.completion.apply)k.push(d);else
if(iK(d.completion)>iK(e))k[k.length-1]=d;e=d.completion}}catch(b){a.e(b)}finally{a.f()}return k}var
jy=function(){function
e(d,b,g,a,f){c(this,e);this.options=d;this.attrs=b;this.tooltip=g;this.timestamp=a;this.selected=f}d(e,[{key:"setSelected",value:function(b,c){return b==this.selected||b>=this.options.length?this:new
e(this.options,hY(c,b),this.tooltip,this.timestamp,b)}},{key:"map",value:function(b){return new
e(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:b.mapPos(this.tooltip.pos)}),this.timestamp,this.selected)}}],[{key:"build",value:function(a,g,i,b,h){var
d=oI(a,g);if(!d.length)return null;var
f=g.facet(ae).selectOnOpen?0:-1;if(b&&b.selected!=f&&b.selected!=-1){var
j=b.options[b.selected].completion;for(var
c=0;c<d.length;c++)if(d[c].completion==j){f=c;break}}return new
e(d,hY(i,f),{pos:a.reduce(function(b,c){return c.hasResult()?Math.min(b,c.from):b},1e8),create:ly(I),above:h.aboveCursor},b?b.timestamp:Date.now(),f)}}]);return e}(),jz=function(){function
f(b,d,e){c(this,f);this.active=b;this.id=d;this.open=e}d(f,[{key:"update",value:function(d){var
h=this,g=d.state,i=g.facet(ae),l=i.override||g.languageDataAt("autocomplete",az(g)).map(k6),c=l.map(function(b){var
c=h.active.find(function(c){return c.source==b})||new
aE(b,h.active.some(function(b){return b.state!=0})?1:0);return c.update(d,i)});if(c.length==this.active.length&&c.every(function(b,c){return b==h.active[c]}))c=this.active;var
e=d.selection||c.some(function(b){return b.hasResult()&&d.changes.touchesRange(b.from,b.to)})||!og(c,this.active)?jy.build(c,g,this.id,this.open,i):this.open&&d.docChanged?this.open.map(d.changes):this.open;if(!e&&c.every(function(b){return b.state!=1})&&c.some(function(b){return b.hasResult()}))c=c.map(function(b){return b.hasResult()?new
aE(b.source,0):b});var
a=b(d.effects),j;try{for(a.s();!(j=a.n()).done;){var
k=j.value;if(k.is(eg))e=e&&e.setSelected(k.value,this.id)}}catch(b){a.e(b)}finally{a.f()}return c==this.active&&e==this.open?this:new
f(c,this.id,e)}},{key:"tooltip",get:function(){return this.open?this.open.tooltip:null}},{key:"attrs",get:function(){return this.open?this.open.attrs:k8}}],[{key:"start",value:function(){return new
f(nT,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}}]);return f}();function
og(b,c){if(b==c)return true;for(var
d=0,e=0;;){while(d<b.length&&!b[d].hasResult)d++;while(e<c.length&&!c[e].hasResult)e++;var
f=d==b.length,a=e==c.length;if(f||a)return f==a;if(b[d++].result!=c[e++].result)return false}}var
k8={"aria-autocomplete":"list"};function
hY(b,d){var
c={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":b};if(d>-1)c["aria-activedescendant"]=b+"-"+d;return c}var
nT=[];function
dT(b){return b.isUserEvent("input.type")?"input":b.isUserEvent("delete.backward")?"delete":null}var
aE=function(){function
e(d,f){var
b=arguments.length>2&&arguments[2]!==undefined?arguments[2]:-1;c(this,e);this.source=d;this.state=f;this.explicitPos=b}d(e,[{key:"hasResult",value:function(){return false}},{key:"update",value:function(d,l){var
k=dT(d),c=this;if(k)c=c.handleUserEvent(d,k,l);else
if(d.docChanged)c=c.handleChange(d);else
if(d.selection&&c.state!=0)c=new
e(c.source,0);var
a=b(d.effects),h;try{for(a.s();!(h=a.n()).done;){var
f=h.value;if(f.is(ej))c=new
e(c.source,1,f.value?az(d.state):-1);else
if(f.is(b5))c=new
e(c.source,0);else
if(f.is(i2)){var
g=b(f.value),i;try{for(g.s();!(i=g.n()).done;){var
j=i.value;if(j.source==c.source)c=j}}catch(b){g.e(b)}finally{g.f()}}}}catch(b){a.e(b)}finally{a.f()}return c}},{key:"handleUserEvent",value:function(c,d,b){return d=="delete"||!b.activateOnTyping?this.map(c.changes):new
e(this.source,1)}},{key:"handleChange",value:function(b){return b.changes.touchesRange(az(b.startState))?new
e(this.source,0):this.map(b.changes)}},{key:"map",value:function(b){return b.empty||this.explicitPos<0?this:new
e(this.source,this.state,b.mapPos(this.explicitPos))}}]);return e}(),jq=function(e){l(b,e);var
f=k(b);function
b(h,e,g,a,i){var
d;c(this,b);d=f.call(this,h,2,e);d.result=g;d.from=a;d.to=i;return d}d(b,[{key:"hasResult",value:function(){return true}},{key:"handleUserEvent",value:function(c,i,j){var
h,e=c.changes.mapPos(this.from),a=c.changes.mapPos(this.to,1),f=az(c.state);if((this.explicitPos<0?f<=e:f<this.from)||f>a||i=="delete"&&az(c.startState)==this.from)return new
aE(this.source,i=="input"&&j.activateOnTyping?1:0);var
d=this.explicitPos<0?-1:c.changes.mapPos(this.explicitPos),g;if(lu(this.result.validFor,c.state,e,a))return new
b(this.source,d,this.result,e,a);if(this.result.update&&(g=this.result.update(this.result,e,a,new
c8(c.state,f,d>=0))))return new
b(this.source,d,g,g.from,(h=g.to)!==null&&h!==void
0?h:az(c.state));return new
aE(this.source,1,d)}},{key:"handleChange",value:function(b){return b.changes.touchesRange(this.from,this.to)?new
aE(this.source,0):this.map(b.changes)}},{key:"map",value:function(c){return c.empty?this:new
b(this.source,this.explicitPos<0?-1:c.mapPos(this.explicitPos),this.result,c.mapPos(this.from),c.mapPos(this.to,1))}}]);return b}(aE);function
lu(b,d,c,f){if(!b)return false;var
e=d.sliceDoc(c,f);return typeof
b=="function"?b(e,c,f,d):hb(b,true).test(e)}var
ej=m.define(),b5=m.define(),i2=m.define({map:function(c,b){return c.map(function(c){return c.map(b)})}}),eg=m.define(),I=A.define({create:function(){return jz.start()},update:function(c,b){return c.update(b)},provide:function(b){return[cD.from(b,function(b){return b.tooltip}),j.contentAttributes.from(b,function(b){return b.attrs})]}}),eF=75;function
bn(g){var
e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"option";return function(a){var
b=a.state.field(I,false);if(!b||!b.open||Date.now()-b.open.timestamp<eF)return false;var
h=1,f;if(e=="page"&&(f=mr(a,b.open.tooltip)))h=Math.max(2,Math.floor(f.dom.offsetHeight/f.dom.querySelector("li").offsetHeight)-1);var
d=b.open.options.length,c=b.open.selected>-1?b.open.selected+h*(g?1:-1):g?0:d-1;if(c<0)c=e=="page"?0:d-1;else
if(c>=d)c=e=="page"?d-1:0;a.dispatch({effects:eg.of(c)});return true}}var
fi=function(c){var
b=c.state.field(I,false);if(c.state.readOnly||!b||!b.open||Date.now()-b.open.timestamp<eF||b.open.selected<0)return false;f3(c,b.open.options[b.open.selected]);return true},fW=function(b){var
c=b.state.field(I,false);if(!c)return false;b.dispatch({effects:ej.of(true)});return true},fs=function(c){var
b=c.state.field(I,false);if(!b||!b.active.some(function(b){return b.state!=0}))return false;c.dispatch({effects:b5.of(null)});return true},ke=d(function
b(d,e){c(this,b);this.active=d;this.context=e;this.time=Date.now();this.updates=[];this.done=void
0}),eK=50,j4=50,j6=1e3,lx=D.fromClass(function(){function
e(g){c(this,e);this.view=g;this.debounceUpdate=-1;this.running=[];this.debounceAccept=-1;this.composing=0;var
d=b(g.state.field(I).active),f;try{for(d.s();!(f=d.n()).done;){var
a=f.value;if(a.state==1)this.startQuery(a)}}catch(b){d.e(b)}finally{d.f()}}d(e,[{key:"update",value:function(c){var
j=this,k=c.state.field(I);if(!c.selectionSet&&!c.docChanged&&c.startState.field(I)==k)return;var
m=c.transactions.some(function(b){return(b.selection||b.docChanged)&&!dT(b)});for(var
e=0;e<this.running.length;e++){var
d=this.running[e];if(m||d.updates.length+c.transactions.length>j4&&Date.now()-d.time>j6){var
f=b(d.context.abortListeners),h;try{for(f.s();!(h=f.n()).done;){var
n=h.value;try{n()}catch(b){R(this.view.state,b)}}}catch(b){f.e(b)}finally{f.f()}d.context.abortListeners=null;this.running.splice(e--,1)}else{var
g;(g=d.updates).push.apply(g,aq(c.transactions))}}if(this.debounceUpdate>-1)clearTimeout(this.debounceUpdate);this.debounceUpdate=k.active.some(function(b){return b.state==1&&!j.running.some(function(c){return c.active.source==b.source})})?setTimeout(function(){return j.startUpdate()},eK):-1;if(this.composing!=0){var
a=b(c.transactions),i;try{for(a.s();!(i=a.n()).done;){var
l=i.value;if(dT(l)=="input")this.composing=2;else
if(this.composing==2&&l.selection)this.composing=3}}catch(b){a.e(b)}finally{a.f()}}}},{key:"startUpdate",value:function(){var
e=this;this.debounceUpdate=-1;var
g=this.view.state,a=g.field(I),c=b(a.active),d;try{var
f=function(){var
b=d.value;if(b.state==1&&!e.running.some(function(c){return c.active.source==b.source}))e.startQuery(b)};for(c.s();!(d=c.n()).done;)f()}catch(b){c.e(b)}finally{c.f()}}},{key:"startQuery",value:function(c){var
b=this,a=this.view.state,f=az(a),e=new
c8(a,f,c.explicitPos==f),d=new
ke(c,e);this.running.push(d);Promise.resolve(c.source(e)).then(function(c){if(!d.context.aborted){d.done=c||null;b.scheduleAccept()}},function(c){b.view.dispatch({effects:b5.of(null)});R(b.view.state,c)})}},{key:"scheduleAccept",value:function(){var
b=this;if(this.running.every(function(b){return b.done!==void
0}))this.accept();else
if(this.debounceAccept<0)this.debounceAccept=setTimeout(function(){return b.accept()},eK)}},{key:"accept",value:function(){var
e=this,k;if(this.debounceAccept>-1)clearTimeout(this.debounceAccept);this.debounceAccept=-1;var
a=[],m=this.view.state.facet(ae),c=function(f){var
c=e.running[f];if(c.done===void
0){d=f;return"continue"}e.running.splice(f--,1);if(c.done){var
j=new
jq(c.active.source,c.active.explicitPos,c.done,c.done.from,(k=c.done.to)!==null&&k!==void
0?k:az(c.updates.length?c.updates[0].startState:e.view.state)),h=b(c.updates),n;try{for(h.s();!(n=h.n()).done;){var
q=n.value;j=j.update(q,m)}}catch(b){h.e(b)}finally{h.f()}if(j.hasResult()){a.push(j);d=f;return"continue"}}var
l=e.view.state.field(I).active.find(function(b){return b.source==c.active.source});if(l&&l.state==1)if(c.done==null){var
g=new
aE(c.active.source,0),i=b(c.updates),o;try{for(i.s();!(o=i.n()).done;){var
p=o.value;g=g.update(p,m)}}catch(b){i.e(b)}finally{i.f()}if(g.state!=1)a.push(g)}else
e.startQuery(l);d=f};for(var
d=0;d<this.running.length;d++){var
f=c(d);if(f==="continue")continue}if(a.length)this.view.dispatch({effects:i2.of(a)})}}]);return e}(),{eventHandlers:{blur:function(){var
b=this.view.state.field(I,false);if(b&&b.tooltip&&this.view.state.facet(ae).closeOnBlur)this.view.dispatch({effects:b5.of(null)})},compositionstart:function(){this.composing=1},compositionend:function(){var
b=this;if(this.composing==3)setTimeout(function(){return b.view.dispatch({effects:ej.of(false)})},20);this.composing=0}}}),f$=j.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",listStyle:"none",margin:0,padding:0,"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer",padding:"1px 3px",lineHeight:1.2}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"\xB7\xB7\xB7"',opacity:0.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"300px"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'\u0192'"}},".cm-completionIcon-class":{"&:after":{content:"'\u25CB'"}},".cm-completionIcon-interface":{"&:after":{content:"'\u25CC'"}},".cm-completionIcon-variable":{"&:after":{content:"'\uD835\uDC65'"}},".cm-completionIcon-constant":{"&:after":{content:"'\uD835\uDC36'"}},".cm-completionIcon-type":{"&:after":{content:"'\uD835\uDC61'"}},".cm-completionIcon-enum":{"&:after":{content:"'\u222A'"}},".cm-completionIcon-property":{"&:after":{content:"'\u25A1'"}},".cm-completionIcon-keyword":{"&:after":{content:"'\uD83D\uDD11\uFE0E'"}},".cm-completionIcon-namespace":{"&:after":{content:"'\u25A2'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),jM=d(function
b(d,f,e,a){c(this,b);this.field=d;this.line=f;this.from=e;this.to=a}),jN=function(){function
b(d,e,f){c(this,b);this.field=d;this.from=e;this.to=f}d(b,[{key:"map",value:function(c){var
d=c.mapPos(this.from,-1,C.TrackDel),e=c.mapPos(this.to,1,C.TrackDel);return d==null||e==null?null:new
b(this.field,d,e)}}]);return b}(),kh=function(){function
k(d,b){c(this,k);this.lines=d;this.fieldPositions=b}d(k,[{key:"instantiate",value:function(k,e){var
h=[],a=[e],m=k.doc.lineAt(e),l=/^\s*/.exec(m.text)[0],d=b(this.lines),j;try{for(d.s();!(j=d.n()).done;){var
c=j.value;if(h.length){var
f=l,g=/^\t*/.exec(c)[0].length;for(var
i=0;i<g;i++)f+=k.facet(bm);a.push(e+f.length-g);c=f+c.slice(g)}h.push(c);e+=c.length+1}}catch(b){d.e(b)}finally{d.f()}var
n=this.fieldPositions.map(function(b){return new
jN(b.field,a[b.line]+b.from,a[b.line]+b.to)});return{text:h,ranges:n}}}],[{key:"parse",value:function(v){var
e=[],p=[],q=[],c,l=b(v.split(/\r\n?|\n/)),r;try{for(l.s();!(r=l.n()).done;){var
d=r.value;while(c=/[#$]\{(?:(\d+)(?::([^}]*))?|([^}]*))\}/.exec(d)){var
j=c[1]?+c[1]:null,h=c[2]||c[3]||"",i=-1;for(var
g=0;g<e.length;g++)if(j!=null?e[g].seq==j:h?e[g].name==h:false)i=g;if(i<0){var
f=0;while(f<e.length&&(j==null||e[f].seq!=null&&e[f].seq<j))f++;e.splice(f,0,{seq:j,name:h});i=f;var
m=b(q),s;try{for(m.s();!(s=m.n()).done;){var
u=s.value;if(u.field>=i)u.field++}}catch(b){m.e(b)}finally{m.f()}}q.push(new
jM(i,p.length,c.index,c.index+h.length));d=d.slice(0,c.index)+h+d.slice(c.index+c[0].length)}for(var
a;a=/([$#])\\{/.exec(d);){d=d.slice(0,a.index)+a[1]+"{"+d.slice(a.index+a[0].length);var
n=b(q),t;try{for(n.s();!(t=n.n()).done;){var
o=t.value;if(o.line==p.length&&o.from>a.index){o.from--;o.to--}}}catch(b){n.e(b)}finally{n.f()}}p.push(d)}}catch(b){l.e(b)}finally{l.f()}return new
k(p,q)}}]);return k}(),ma=i.widget({widget:new(function(e){l(b,e);var
f=k(b);function
b(){c(this,b);return f.apply(this,arguments)}d(b,[{key:"toDOM",value:function(){var
b=document.createElement("span");b.className="cm-snippetFieldPosition";return b}},{key:"ignoreEvent",value:function(){return false}}]);return b}(am))()}),mb=i.mark({"class":"cm-snippetField"}),bL=function(){function
e(b,d){c(this,e);this.ranges=b;this.active=d;this.deco=i.set(b.map(function(b){return(b.from==b.to?ma:mb).range(b.from,b.to)}))}d(e,[{key:"map",value:function(h){var
a=[],c=b(this.ranges),d;try{for(c.s();!(d=c.n()).done;){var
g=d.value,f=g.map(h);if(!f)return null;a.push(f)}}catch(b){c.e(b)}finally{c.f()}return new
e(a,this.active)}},{key:"selectionInsideField",value:function(b){var
c=this;return b.ranges.every(function(d){return c.ranges.some(function(b){return b.field==c.active&&b.from<=d.from&&b.to>=d.to})})}}]);return e}(),bD=m.define({map:function(b,c){return b&&b.map(c)}}),nG=m.define(),bG=A.define({create:function(){return null},update:function(c,d){var
e=b(d.effects),a;try{for(e.s();!(a=e.n()).done;){var
f=a.value;if(f.is(bD))return f.value;if(f.is(nG)&&c)return new
bL(c.ranges,f.value)}}catch(b){e.e(b)}finally{e.f()}if(c&&d.docChanged)c=c.map(d.changes);if(c&&d.selection&&!c.selectionInsideField(d.selection))c=null;return c},provide:function(b){return j.decorations.from(b,function(b){return b?b.deco:i.none})}});function
dK(c,b){return f.create(c.filter(function(c){return c.field==b}).map(function(b){return f.range(b.from,b.to)}))}function
fV(b){var
a=kh.parse(b);return function(b,k,f,j){var
e=a.instantiate(b.state,f),i=e.text,c=e.ranges,d={changes:{from:f,to:j,insert:o.of(i)},scrollIntoView:true};if(c.length)d.selection=dK(c,0);if(c.length>1){var
g=new
bL(c,0),h=d.effects=[bD.of(g)];if(b.state.field(bG,false)===void
0)h.push(m.appendConfig.of([bG,k2,oH,f$]))}b.dispatch(b.state.update(d))}}function
h9(c){return function(e){var
f=e.state,a=e.dispatch,b=f.field(bG,false);if(!b||c<0&&b.active==0)return false;var
d=b.active+c,g=c>0&&!b.ranges.some(function(b){return b.field==d+c});a(f.update({selection:dK(b.ranges,d),effects:bD.of(g?null:new
bL(b.ranges,d))}));return true}}var
fp=function(b){var
c=b.state,e=b.dispatch,d=c.field(bG,false);if(!d)return false;e(c.update({effects:bD.of(null)}));return true},fM=h9(1),fS=h9(-1),lV=[{key:"Tab",run:fM,shift:fS},{key:"Escape",run:fp}],dh=h.define({combine:function(b){return b.length?b[0]:lV}}),k2=aG.highest(cq.compute([dh],function(b){return b.facet(dh)}));function
kU(c,b){return Object.assign(Object.assign({},b),{apply:fV(c)})}var
oH=j.domEventHandlers({mousedown:function(f,e){var
b=e.state.field(bG,false),d;if(!b||(d=e.posAtCoords({x:f.clientX,y:f.clientY}))==null)return false;var
c=b.ranges.find(function(b){return b.from<=d&&b.to>=d});if(!c||c.field==b.active)return false;e.dispatch({selection:dK(b.ranges,c.field),effects:bD.of(b.ranges.some(function(b){return b.field>c.field})?new
bL(b.ranges,c.field):null)});return true}});function
o8(c){var
b=c.replace(/[\\[.+*?(){|^$]/g,"\\$&");try{return new
RegExp("[\\p{Alphabetic}\\p{Number}_".concat(b,"]+"),"ug")}catch(a){return new
RegExp("[w".concat(b,"]"),"g")}}function
hZ(b,c){return new
RegExp(c(b.source),b.unicode?"u":"")}var
jm=Object.create(null);function
o7(b){return jm[b]||(jm[b]=new
WeakMap())}function
i5(h,g,e,f,i){for(var
c=h.iterLines(),d=0;!c.next().done;){var
a=c.value,b=void
0;g.lastIndex=0;while(b=g.exec(a))if(!f[b[0]]&&d+b.index!=i){e.push({type:"text",label:b[0]});f[b[0]]=true;if(e.length>=2e3)return}d+=a.length+1}}function
gp(c,j,l,q,k){var
o=c.length>=1e3,p=o&&j.get(c);if(p)return p;var
d=[],h=Object.create(null);if(c.children){var
g=0,e=b(c.children),m;try{for(e.s();!(m=e.n()).done;){var
a=m.value;if(a.length>=1e3){var
f=b(gp(a,j,l,q-g,k-g)),n;try{for(f.s();!(n=f.n()).done;){var
i=n.value;if(!h[i.label]){h[i.label]=true;d.push(i)}}}catch(b){f.e(b)}finally{f.f()}}else
i5(a,l,d,h,k-g);g+=a.length+1}}catch(b){e.e(b)}finally{e.f()}}else
i5(c,l,d,h,k);if(o&&d.length<2e3)j.set(c,d);return d}var
kw=function(b){var
f=b.state.languageDataAt("wordChars",b.pos).join(""),c=o8(f),d=b.matchBefore(hZ(c,function(b){return b+"$"}));if(!d&&!b.explicit)return null;var
e=d?d.from:b.pos,a=gp(b.state.doc,o7(f),c,5e4,e);return{from:e,options:a,validFor:hZ(c,function(b){return"^"+b})}},b9={brackets:["(","[","{","'",'"'],before:")]}:;>"},aK=m.define({map:function(d,c){var
b=c.mapPos(d,-1,C.TrackAfter);return b==null?void
0:b}}),ei=m.define({map:function(c,b){return b.mapPos(c)}}),dw=new(function(e){l(b,e);var
f=k(b);function
b(){c(this,b);return f.apply(this,arguments)}return d(b)}(aH))();dw.startSide=1;dw.endSide=-1;var
gd=A.define({create:function(){return q.empty},update:function(d,c){if(c.selection){var
g=c.state.doc.lineAt(c.selection.main.head).from,h=c.startState.doc.lineAt(c.startState.selection.main.head).from;if(g!=c.changes.mapPos(h,-1))d=q.empty}d=d.map(c.changes);var
e=b(c.effects),f;try{var
a=function(){var
b=f.value;if(b.is(aK))d=d.update({add:[dw.range(b.value,b.value+1)]});else
if(b.is(ei))d=d.update({filter:function(c){return c!=b.value}})};for(e.s();!(f=e.n()).done;)a()}catch(b){e.e(b)}finally{e.f()}return d}});function
fq(){return[mV,gd]}var
dF="()[]{}<>";function
go(c){for(var
b=0;b<dF.length;b+=2)if(dF.charCodeAt(b)==c)return dF.charAt(b+1);return dP(c<128?c:c+1)}function
gv(c,b){return c.languageDataAt("closeBrackets",b)[0]||b9}var
k4=(typeof
navigator==="undefined"?"undefined":ar(navigator))=="object"&&/Android\b/.test(navigator.userAgent),mV=j.inputHandler.of(function(b,f,a,c){if((k4?b.composing:b.compositionStarted)||b.state.readOnly)return false;var
d=b.state.selection.main;if(c.length>2||c.length==2&&P(E(c,0))==1||f!=d.from||a!=d.to)return false;var
e=fH(b.state,c);if(!e)return false;b.dispatch(e);return true}),fw=function(d){var
c=d.state,h=d.dispatch;if(c.readOnly)return false;var
a=gv(c,c.selection.main.head),i=a.brackets||b9.brackets,g=null,e=c.changeByRange(function(d){if(d.empty){var
j=n2(c.doc,d.head),a=b(i),h;try{for(a.s();!(h=a.n()).done;){var
e=h.value;if(e==j&&cx(c.doc,d.head)==go(E(e,0)))return{changes:{from:d.head-e.length,to:d.head+e.length},range:f.cursor(d.head-e.length),userEvent:"delete.backward"}}}catch(b){a.e(b)}finally{a.f()}}return{range:g=d}});if(!g)h(c.update(e,{scrollIntoView:true}));return!g},fr=[{key:"Backspace",run:fw}];function
fH(d,g){var
h=gv(d,d.selection.main.head),i=h.brackets||b9.brackets,e=b(i),a;try{for(e.s();!(a=e.n()).done;){var
c=a.value,f=go(E(c,0));if(g==c)return f==c?mB(d,c,i.indexOf(c+c+c)>-1):mA(d,c,f,h.before||b9.before);if(g==f&&gn(d,d.selection.main.from))return my(d,c,f)}}catch(b){e.e(b)}finally{e.f()}return null}function
gn(c,d){var
b=false;c.field(gd).between(0,c.doc.length,function(c){if(c==d)b=true});return b}function
cx(d,c){var
b=d.sliceString(c,c+2);return b.slice(0,P(E(b,0)))}function
n2(d,c){var
b=d.sliceString(c-2,c);return P(E(b,0))==b.length?b:b.slice(1)}function
mA(d,c,a,h){var
g=null,b=d.changeByRange(function(b){if(!b.empty)return{changes:[{insert:c,from:b.from},{insert:a,from:b.to}],effects:aK.of(b.to+c.length),range:f.range(b.anchor+c.length,b.head+c.length)};var
e=cx(d.doc,b.head);if(!e||/\s/.test(e)||h.indexOf(e)>-1)return{changes:{insert:c+a,from:b.head},effects:aK.of(b.head+c.length),range:f.cursor(b.head+c.length)};return{range:g=b}});return g?null:d.update(b,{scrollIntoView:true,userEvent:"input.type"})}function
my(b,a,d){var
e=null,c=b.selection.ranges.map(function(c){if(c.empty&&cx(b.doc,c.head)==d)return f.cursor(c.head+d.length);return e=c});return e?null:b.update({selection:f.create(c,b.selection.mainIndex),scrollIntoView:true,effects:b.selection.ranges.map(function(b){var
c=b.from;return ei.of(c)})})}function
mB(d,b,a){var
g=null,c=d.changeByRange(function(e){if(!e.empty)return{changes:[{insert:b,from:e.from},{insert:b,from:e.to}],effects:aK.of(e.to+b.length),range:f.range(e.anchor+b.length,e.head+b.length)};var
c=e.head,h=cx(d.doc,c);if(h==b){if(ig(d,c))return{changes:{insert:b+b,from:c},effects:aK.of(c+b.length),range:f.cursor(c+b.length)};else
if(gn(d,c)){var
j=a&&d.sliceDoc(c,c+b.length*3)==b+b+b;return{range:f.cursor(c+b.length*(j?3:1)),effects:ei.of(c)}}}else
if(a&&d.sliceDoc(c-2*b.length,c)==b+b&&ig(d,c-2*b.length))return{changes:{insert:b+b+b+b,from:c},effects:aK.of(c+b.length),range:f.cursor(c+b.length)};else
if(d.charCategorizer(c)(h)!=J.Word){var
i=d.sliceDoc(c-1,c);if(i!=b&&d.charCategorizer(c)(i)!=J.Word&&!n4(d,c,b))return{changes:{insert:b+b,from:c},effects:aK.of(c+b.length),range:f.cursor(c+b.length)}}return{range:g=e}});return g?null:d.update(c,{scrollIntoView:true,userEvent:"input.type"})}function
ig(d,b){var
c=x(d).resolveInner(b+1);return c.parent&&c.from==b}function
n4(e,g,d){var
c=x(e).resolveInner(g,-1);for(var
f=0;f<5;f++){if(e.sliceDoc(c.from,c.from+d.length)==d){var
b=c.firstChild;while(b&&b.from==c.from&&b.to-b.from>d.length){if(e.sliceDoc(b.to-d.length,b.to)==d)return false;b=b.firstChild}return true}var
a=c.to==g&&c.parent;if(!a)break;c=a}return false}function
fn(){var
b=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return[I,ae.of(b),lx,lw,f$]}var
db=[{key:"Ctrl-Space",run:fW},{key:"Escape",run:fs},{key:"ArrowDown",run:bn(true)},{key:"ArrowUp",run:bn(false)},{key:"PageDown",run:bn(true,"page")},{key:"PageUp",run:bn(false,"page")},{key:"Enter",run:fi}],lw=aG.highest(cq.computeN([ae],function(b){return b.facet(ae).defaultKeymap?[db]:[]}));function
kx(c){var
b=c.field(I,false);return b&&b.active.some(function(b){return b.state==1})?"pending":b&&b.active.some(function(b){return b.state!=0})?"active":null}var
gr=new
WeakMap();function
kz(e){var
c,b=(c=e.field(I,false))===null||c===void
0?void
0:c.open;if(!b)return[];var
d=gr.get(b.options);if(!d)gr.set(b.options,d=b.options.map(function(b){return b.completion}));return d}function
kR(d){var
c,b=(c=d.field(I,false))===null||c===void
0?void
0:c.open;return b&&b.selected>=0?b.options[b.selected].completion:null}function
kS(d){var
b,c=(b=d.field(I,false))===null||b===void
0?void
0:b.open;return c&&c.selected>=0?c.selected:null}function
kT(b){return eg.of(b)}var
g5={};bZ(g5,{closeLintPanel:function(){return c$},diagnosticCount:function(){return kB},forceLinting:function(){return kF},lintGutter:function(){return kL},lintKeymap:function(){return fJ},linter:function(){return kM},nextDiagnostic:function(){return fL},openLintPanel:function(){return fP},setDiagnostics:function(){return fU},setDiagnosticsEffect:function(){return bo}});var
kg=d(function
b(e,f,d){c(this,b);this.from=e;this.to=f;this.diagnostic=d}),a$=function(){function
b(d,e,f){c(this,b);this.diagnostics=d;this.panel=e;this.selected=f}d(b,null,[{key:"init",value:function(a,g,f){var
c=a,d=f.facet(aM).markerFilter;if(d)c=d(c);var
e=i.set(c.map(function(b){return b.from==b.to||b.from==b.to-1&&f.doc.lineAt(b.from).to==b.from?i.widget({widget:new
jJ(b),diagnostic:b}).range(b.from):i.mark({attributes:{"class":"cm-lintRange cm-lintRange-"+b.severity},diagnostic:b}).range(b.from,b.to)}),true);return new
b(e,g,a0(e))}}]);return b}();function
a0(e){var
b=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null,d=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0,c=null;e.between(d,1e9,function(f,a,e){var
d=e.spec;if(b&&d.diagnostic!=b)return;c=new
kg(f,a,d.diagnostic);return false});return c}function
hu(b,c){return!!(b.effects.some(function(b){return b.is(bo)})||b.changes.touchesRange(c.pos))}function
h3(c,b){return c.field(O,false)?b:b.concat(m.appendConfig.of([O,j.decorations.compute([O],function(e){var
c=e.field(O),b=c.selected,d=c.panel;return!b||!d||b.from==b.to?i.none:i.set([k1.range(b.from,b.to)])}),hy(np,{hideOn:hu}),ld]))}function
fU(c,b){return{effects:h3(c,[bo.of(b)])}}var
bo=m.define(),en=m.define(),h$=m.define(),O=A.define({create:function(){return new
a$(i.none,null,null)},update:function(c,e){if(e.docChanged){var
a=c.diagnostics.map(e.changes),i=null;if(c.selected){var
h=e.changes.mapPos(c.selected.from,1);i=a0(a,c.selected.diagnostic,h)||a0(a,null,h)}c=new
a$(a,c.panel,i)}var
f=b(e.effects),g;try{for(f.s();!(g=f.n()).done;){var
d=g.value;if(d.is(bo))c=a$.init(d.value,c.panel,e.state);else
if(d.is(en))c=new
a$(c.diagnostics,d.value?eV.open:null,c.selected);else
if(d.is(h$))c=new
a$(c.diagnostics,c.panel,d.value)}}catch(b){f.e(b)}finally{f.f()}return c},provide:function(b){return[bF.from(b,function(b){return b.panel}),j.decorations.from(b,function(b){return b.diagnostics})]}});function
kB(c){var
b=c.field(O,false);return b?b.diagnostics.size:0}var
k1=i.mark({"class":"cm-lintRange cm-lintRange-active"});function
np(a,b,d){var
h=a.state.field(O),i=h.diagnostics,c=[],f=2e8,e=0;i.between(b-(d<0?1:0),b+(d>0?1:0),function(a,g,h){var
i=h.spec;if(b>=a&&b<=g&&(a==g||(b>a||d>0)&&(b<g||d<0))){c.push(i.diagnostic);f=Math.min(a,f);e=Math.max(g,e)}});var
g=a.state.facet(aM).tooltipFilter;if(g)c=g(c);if(!c.length)return null;return{pos:f,end:e,above:a.state.doc.lineAt(f).to<e,create:function(){return{dom:g1(a,c)}}}}function
g1(c,b){return s("ul",{"class":"cm-tooltip-lint"},b.map(function(b){return iz(c,b,false)}))}var
fP=function(b){var
c=b.state.field(O,false);if(!c||!c.panel)b.dispatch({effects:h3(b.state,[en.of(true)])});var
d=bx(b,eV.open);if(d)d.dom.querySelector(".cm-panel-lint ul").focus();return true},c$=function(c){var
b=c.state.field(O,false);if(!b||!b.panel)return false;c.dispatch({effects:en.of(false)});return true},fL=function(e){var
c=e.state.field(O,false);if(!c)return false;var
d=e.state.selection.main,b=c.diagnostics.iter(d.to+1);if(!b.value){b=c.diagnostics.iter(0);if(!b.value||b.from==d.from&&b.to==d.to)return false}e.dispatch({selection:{anchor:b.from,head:b.to},scrollIntoView:true});return true},fJ=[{key:"Mod-Shift-m",run:fP},{key:"F8",run:fL}],hW=D.fromClass(function(){function
b(e){c(this,b);this.view=e;this.timeout=-1;this.set=true;var
f=e.state.facet(aM),d=f.delay;this.lintTime=Date.now()+d;this.run=this.run.bind(this);this.timeout=setTimeout(this.run,d)}d(b,[{key:"run",value:function(){var
b=this,c=Date.now();if(c<this.lintTime-10)setTimeout(this.run,this.lintTime-c);else{this.set=false;var
d=this.view.state,e=d.facet(aM),f=e.sources;Promise.all(f.map(function(c){return Promise.resolve(c(b.view))})).then(function(e){var
c=e.reduce(function(b,c){return b.concat(c)});if(b.view.state.doc==d.doc)b.view.dispatch(fU(b.view.state,c))},function(c){R(b.view.state,c)})}}},{key:"update",value:function(b){var
c=b.state.facet(aM);if(b.docChanged||c!=b.startState.facet(aM)){this.lintTime=Date.now()+c.delay;if(!this.set){this.set=true;this.timeout=setTimeout(this.run,c.delay)}}}},{key:"force",value:function(){if(this.set){this.lintTime=Date.now();this.run()}}},{key:"destroy",value:function(){clearTimeout(this.timeout)}}]);return b}()),aM=h.define({combine:function(b){return Object.assign({sources:b.map(function(b){return b.source})},ad(b.map(function(b){return b.config}),{delay:750,markerFilter:null,tooltipFilter:null}))},enables:hW});function
kM(c){var
b=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return aM.of({source:c,config:b})}function
kF(c){var
b=c.plugin(hW);if(b)b.force()}function
f5(g){var
d=[];if(g){var
c=b(g),a;try{actions:for(c.s();!(a=c.n()).done;){var
f=a.value.name,h=function(c){var
b=f[c];if(/[a-zA-Z]/.test(b)&&!d.some(function(c){return c.toLowerCase()==b.toLowerCase()})){d.push(b);return"continue|actions"}};for(var
e=0;e<f.length;e++){var
i=h(e);if(i==="continue|actions")continue actions}d.push("")}}catch(b){c.e(b)}finally{c.f()}}return d}function
iz(a,b,d){var
c,e=d?f5(b.actions):[];return s("li",{"class":"cm-diagnostic cm-diagnostic-"+b.severity},s("span",{"class":"cm-diagnosticText"},b.renderMessage?b.renderMessage():b.message),(c=b.actions)===null||c===void
0?void
0:c.map(function(g,f){var
h=function(d){d.preventDefault();var
c=a0(a.state.field(O).diagnostics,b);if(c)g.apply(a,c.from,c.to)},d=g.name,c=e[f]?d.indexOf(e[f]):-1,i=c<0?d:[d.slice(0,c),s("u",d.slice(c,c+1)),d.slice(c+1)];return s("button",{type:"button","class":"cm-diagnosticAction",onclick:h,onmousedown:h,"aria-label":" Action: ".concat(d).concat(c<0?"":' (access key "'.concat(e[f],')"'),".")},i)}),b.source&&s("div",{"class":"cm-diagnosticSource"},b.source))}var
jJ=function(e){l(b,e);var
f=k(b);function
b(e){var
d;c(this,b);d=f.call(this);d.diagnostic=e;return d}d(b,[{key:"eq",value:function(b){return b.diagnostic==this.diagnostic}},{key:"toDOM",value:function(){return s("span",{"class":"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}]);return b}(am),e1=d(function
d(e,b){c(this,d);this.diagnostic=b;this.id="item_"+Math.floor(Math.random()*4294967295).toString(16);this.dom=iz(e,b,true);this.dom.id=this.id;this.dom.setAttribute("role","option")}),eV=function(){function
e(a){var
b=this;c(this,e);this.view=a;this.items=[];var
f=function(c){if(c.keyCode==27){c$(b.view);b.view.focus()}else
if(c.keyCode==38||c.keyCode==33)b.moveSelection((b.selectedIndex-1+b.items.length)%b.items.length);else
if(c.keyCode==40||c.keyCode==34)b.moveSelection((b.selectedIndex+1)%b.items.length);else
if(c.keyCode==36)b.moveSelection(0);else
if(c.keyCode==35)b.moveSelection(b.items.length-1);else
if(c.keyCode==13)b.view.focus();else
if(c.keyCode>=65&&c.keyCode<=90&&b.selectedIndex>=0){var
e=b.items[b.selectedIndex].diagnostic,g=f5(e.actions);for(var
d=0;d<g.length;d++)if(g[d].toUpperCase().charCodeAt(0)==c.keyCode){var
f=a0(b.view.state.field(O).diagnostics,e);if(f)e.actions[d].apply(a,f.from,f.to)}}else
return;c.preventDefault()},d=function(d){for(var
c=0;c<b.items.length;c++)if(b.items[c].dom.contains(d.target))b.moveSelection(c)};this.list=s("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:f,onclick:d});this.dom=s("div",{"class":"cm-panel-lint"},this.list,s("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:function(){return c$(b.view)}},"\xD7"));this.update()}d(e,[{key:"selectedIndex",get:function(){var
c=this.view.state.field(O).selected;if(!c)return-1;for(var
b=0;b<this.items.length;b++)if(this.items[b].diagnostic==c.diagnostic)return b;return-1}},{key:"update",value:function(){var
b=this,c=this.view.state.field(O),f=c.diagnostics,h=c.selected,d=0,e=false,a=null;f.between(0,this.view.state.doc.length,function(l,k,j){var
i=j.spec,f=-1,c;for(var
g=d;g<b.items.length;g++)if(b.items[g].diagnostic==i.diagnostic){f=g;break}if(f<0){c=new
e1(b.view,i.diagnostic);b.items.splice(d,0,c);e=true}else{c=b.items[f];if(f>d){b.items.splice(d,f-d);e=true}}if(h&&c.diagnostic==h.diagnostic){if(!c.dom.hasAttribute("aria-selected")){c.dom.setAttribute("aria-selected","true");a=c}}else
if(c.dom.hasAttribute("aria-selected"))c.dom.removeAttribute("aria-selected");d++});while(d<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0)){e=true;this.items.pop()}if(this.items.length==0){this.items.push(new
e1(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")}));e=true}if(a){this.list.setAttribute("aria-activedescendant",a.id);this.view.requestMeasure({key:this,read:function(){return{sel:a.dom.getBoundingClientRect(),panel:b.list.getBoundingClientRect()}},write:function(e){var
d=e.sel,c=e.panel;if(d.top<c.top)b.list.scrollTop-=c.top-d.top;else
if(d.bottom>c.bottom)b.list.scrollTop+=d.bottom-c.bottom}})}else
if(this.selectedIndex<0)this.list.removeAttribute("aria-activedescendant");if(e)this.sync()}},{key:"sync",value:function(){var
c=this.list.firstChild;function
a(){var
b=c;c=b.nextSibling;b.remove()}var
d=b(this.items),f;try{for(d.s();!(f=d.n()).done;){var
e=f.value;if(e.dom.parentNode==this.list){while(c!=e.dom)a();c=e.dom.nextSibling}else
this.list.insertBefore(e.dom,c)}}catch(b){d.e(b)}finally{d.f()}while(c)a()}},{key:"moveSelection",value:function(d){if(this.selectedIndex<0)return;var
c=this.view.state.field(O),b=a0(c.diagnostics,this.items[d].diagnostic);if(!b)return;this.view.dispatch({selection:{anchor:b.from,head:b.to},scrollIntoView:true,effects:h$.of(b)})}}],[{key:"open",value:function(b){return new
e(b)}}]);return e}();function
cH(c){var
b=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'viewBox="0 0 40 40"';return'url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" '.concat(b,">").concat(encodeURIComponent(c),"<\/svg>')")}function
eq(b){return cH('<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="'.concat(b,'" fill="none" stroke-width=".7"/>'),'width="6" height="3"')}var
ld=j.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px"},".cm-diagnosticSource":{fontSize:"70%",opacity:0.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:eq("#d11")},".cm-lintRange-warning":{backgroundImage:eq("orange")},".cm-lintRange-info":{backgroundImage:eq("#999")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}}),jY=function(e){l(b,e);var
f=k(b);function
b(e){var
d;c(this,b);d=f.call(this);d.diagnostics=e;d.severity=e.reduce(function(c,d){var
b=d.severity;return b=="error"||b=="warning"&&c=="info"?b:c},"info");return d}d(b,[{key:"toDOM",value:function(e){var
c=document.createElement("div");c.className="cm-lint-marker cm-lint-marker-"+this.severity;var
b=this.diagnostics,d=e.state.facet(cr).tooltipFilter;if(d)b=d(b);if(b.length)c.onmouseover=function(){return mw(e,c,b)};return c}}]);return b}(aa);function
oX(e,f){var
b=function
a(b){var
d=f.getBoundingClientRect();if(b.clientX>d.left-10&&b.clientX<d.right+10&&b.clientY>d.top-10&&b.clientY<d.bottom+10)return;for(var
c=b.target;c;c=c.parentNode)if(c.nodeType==1&&c.classList.contains("cm-tooltip-lint"))return;window.removeEventListener("mousemove",a);if(e.state.field(hV))e.dispatch({effects:ef.of(null)})};window.addEventListener("mousemove",b)}function
mw(c,b,g){function
f(){var
d=c.elementAtHeight(b.getBoundingClientRect().top+5-c.documentTop),e=c.coordsAtPos(d.from);if(e)c.dispatch({effects:ef.of({pos:d.from,above:false,create:function(){return{dom:g1(c,g),getCoords:function(){return b.getBoundingClientRect()}}}})});b.onmouseout=b.onmousemove=null;oX(c,b)}var
a=c.state.facet(cr),e=a.hoverTime,d=setTimeout(f,e);b.onmouseout=function(){clearTimeout(d);b.onmouseout=b.onmousemove=null};b.onmousemove=function(){clearTimeout(d);d=setTimeout(f,e)}}function
nu(j,i){var
d=Object.create(null),c=b(i),f;try{for(c.s();!(f=c.n()).done;){var
a=f.value,e=j.lineAt(a.from);(d[e.from]||(d[e.from]=[])).push(a)}}catch(b){c.e(b)}finally{c.f()}var
h=[];for(var
g
in
d)h.push(new
jY(d[g]).range(+g));return q.of(h,true)}var
nn=hs({"class":"cm-gutter-lint",markers:function(b){return b.state.field(hU)}}),hU=A.define({create:function(){return q.empty},update:function(d,e){d=d.map(e.changes);var
g=e.state.facet(cr).markerFilter,c=b(e.effects),a;try{for(c.s();!(a=c.n()).done;){var
h=a.value;if(h.is(bo)){var
f=h.value;if(g)f=g(f||[]);d=nu(e.state.doc,f.slice(0))}}}catch(b){c.e(b)}finally{c.f()}return d}}),ef=m.define(),hV=A.define({create:function(){return null},update:function(b,c){if(b&&c.docChanged)b=hu(c,b)?null:Object.assign(Object.assign({},b),{pos:c.changes.mapPos(b.pos)});return c.effects.reduce(function(c,b){return b.is(ef)?b.value:c},b)},provide:function(b){return cD.from(b)}}),no=j.baseTheme({".cm-gutter-lint":{width:"1.4em","& .cm-gutterElement":{padding:".2em"}},".cm-lint-marker":{width:"1em",height:"1em"},".cm-lint-marker-info":{content:cH('<path fill="#aaf" stroke="#77e" stroke-width="6" stroke-linejoin="round" d="M5 5L35 5L35 35L5 35Z"/>')},".cm-lint-marker-warning":{content:cH('<path fill="#fe8" stroke="#fd7" stroke-width="6" stroke-linejoin="round" d="M20 6L37 35L3 35Z"/>')},".cm-lint-marker-error:before":{content:cH('<circle cx="20" cy="20" r="15" fill="#f87" stroke="#f43" stroke-width="6"/>')}}),cr=h.define({combine:function(b){return ad(b,{hoverTime:300,markerFilter:null,tooltipFilter:null})}});function
kL(){var
b=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return[cr.of(b),hU,nn,no,hV]}var
lf=function(){return[nl(),mG(),mI(),mL(),fB(),l5(),l7(),w.allowMultipleSelections.of(true),fG(),dj(fv,{fallback:true}),fo(),fq(),fn(),n7(),lE(),mF(),mH(),cq.of([].concat(fr,aq(lT),ol,mM,fC,db,fJ))]}(),g6={};bZ(g6,{oneDark:function(){return kP},oneDarkHighlightStyle:function(){return fN},oneDarkTheme:function(){return fO}});var
lq="#e5c07b",gz="#e06c75",lN="#56b6c2",m0="#ffffff",cp="#abb2bf",ek="#7d8799",ns="#61afef",od="#98c379",jl="#d19a66",o2="#c678dd",lO="#21252b",dX="#2c313a",f8="#282c34",eo="#353a42",oB="#3E4451",gC="#528bff",fO=j.theme({"&":{color:cp,backgroundColor:f8},".cm-content":{caretColor:gC},".cm-cursor, .cm-dropCursor":{borderLeftColor:gC},"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:oB},".cm-panels":{backgroundColor:lO,color:cp},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:dX},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847",outline:"1px solid #515a6b"},".cm-gutters":{backgroundColor:f8,color:ek,border:"none"},".cm-activeLineGutter":{backgroundColor:dX},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:eo},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:eo,borderBottomColor:eo},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:dX,color:cp}}},{dark:true}),fN=bX.define([{tag:e.keyword,color:o2},{tag:[e.name,e.deleted,e.character,e.propertyName,e.macroName],color:gz},{tag:[e["function"](e.variableName),e.labelName],color:ns},{tag:[e.color,e.constant(e.name),e.standard(e.name)],color:jl},{tag:[e.definition(e.name),e.separator],color:cp},{tag:[e.typeName,e.className,e.number,e.changed,e.annotation,e.modifier,e.self,e.namespace],color:lq},{tag:[e.operator,e.operatorKeyword,e.url,e.escape,e.regexp,e.link,e.special(e.string)],color:lN},{tag:[e.meta,e.comment],color:ek},{tag:e.strong,fontWeight:"bold"},{tag:e.emphasis,fontStyle:"italic"},{tag:e.strikethrough,textDecoration:"line-through"},{tag:e.link,color:ek,textDecoration:"underline"},{tag:e.heading,fontWeight:"bold",color:gz},{tag:[e.atom,e.bool,e.special(e.variableName)],color:jl},{tag:[e.processingInstruction,e.string,e.inserted],color:od},{tag:e.invalid,color:m0}]),kP=[fO,dj(fN)];function
d5(e){var
f={"as":"keyword","do":"keyword","else":"keyword","end":"keyword","exception":"keyword","fun":"keyword","functor":"keyword","if":"keyword","in":"keyword","include":"keyword","let":"keyword","of":"keyword","open":"keyword","rec":"keyword","struct":"keyword","then":"keyword","type":"keyword","val":"keyword","while":"keyword","with":"keyword"},d=e.extraWords||{};for(var
b
in
d)if(d.hasOwnProperty(b))f[b]=e.extraWords[b];var
a=[];for(var
g
in
f)a.push(g);function
c(b,d){var
c=b.next();if(c==='"'){d.tokenize=j;return d.tokenize(b,d)}if(c==="{")if(b.eat("|")){d.longString=true;d.tokenize=i;return d.tokenize(b,d)}if(c==="(")if(b.match(/^\*(?!\))/)){d.commentLevel++;d.tokenize=h;return d.tokenize(b,d)}if(c==="~"||c==="?"){b.eatWhile(/\w/);return"variableName.special"}if(c==="`"){b.eatWhile(/\w/);return"quote"}if(c==="/"&&e.slashComments&&b.eat("/")){b.skipToEnd();return"comment"}if(/\d/.test(c)){if(c==="0"&&b.eat(/[bB]/))b.eatWhile(/[01]/);if(c==="0"&&b.eat(/[xX]/))b.eatWhile(/[0-9a-fA-F]/);if(c==="0"&&b.eat(/[oO]/))b.eatWhile(/[0-7]/);else{b.eatWhile(/[\d_]/);if(b.eat("."))b.eatWhile(/[\d]/);if(b.eat(/[eE]/))b.eatWhile(/[\d\-+]/)}return"number"}if(/[+\-*&%=<>!?|@\.~:]/.test(c))return"operator";if(/[\w\xa1-\uffff]/.test(c)){b.eatWhile(/[\w\xa1-\uffff]/);var
a=b.current();return f.hasOwnProperty(a)?f[a]:"variable"}return null}function
j(a,f){var
d,e=false,b=false;while((d=a.next())!=null){if(d==='"'&&!b){e=true;break}b=!b&&d==="\\"}if(e&&!b)f.tokenize=c;return"string"}function
h(f,b){var
e,d;while(b.commentLevel>0&&(d=f.next())!=null){if(e==="("&&d==="*")b.commentLevel++;if(e==="*"&&d===")")b.commentLevel--;e=d}if(b.commentLevel<=0)b.tokenize=c;return"comment"}function
i(f,b){var
e,d;while(b.longString&&(d=f.next())!=null){if(e==="|"&&d==="}")b.longString=false;e=d}if(!b.longString)b.tokenize=c;return"string"}return{startState:function(){return{tokenize:c,commentLevel:0,longString:false}},token:function(c,b){if(c.eatSpace())return null;return b.tokenize(c,b)},languageData:{autocomplete:a,commentTokens:{line:e.slashComments?"//":void
0,block:{open:"(*",close:"*)"}}}}}var
nW=d5({extraWords:{"and":"keyword","assert":"keyword","begin":"keyword","class":"keyword","constraint":"keyword","done":"keyword","downto":"keyword","external":"keyword","function":"keyword","initializer":"keyword","lazy":"keyword","match":"keyword","method":"keyword","module":"keyword","mutable":"keyword","new":"keyword","nonrec":"keyword","object":"keyword","private":"keyword","sig":"keyword","to":"keyword","try":"keyword","value":"keyword","virtual":"keyword","when":"keyword","raise":"builtin","failwith":"builtin","true":"builtin","false":"builtin","asr":"builtin","land":"builtin","lor":"builtin","lsl":"builtin","lsr":"builtin","lxor":"builtin","mod":"builtin","or":"builtin","raise_notrace":"builtin","trace":"builtin","exit":"builtin","print_string":"builtin","print_endline":"builtin","int":"type","float":"type","bool":"type","char":"type","string":"type","unit":"type","List":"builtin"}}),o_=d5({extraWords:{"abstract":"keyword","assert":"keyword","base":"keyword","begin":"keyword","class":"keyword","default":"keyword","delegate":"keyword","do!":"keyword","done":"keyword","downcast":"keyword","downto":"keyword","elif":"keyword","extern":"keyword","finally":"keyword","for":"keyword","function":"keyword","global":"keyword","inherit":"keyword","inline":"keyword","interface":"keyword","internal":"keyword","lazy":"keyword","let!":"keyword","match":"keyword","member":"keyword","module":"keyword","mutable":"keyword","namespace":"keyword","new":"keyword","null":"keyword","override":"keyword","private":"keyword","public":"keyword","return!":"keyword","return":"keyword","select":"keyword","static":"keyword","to":"keyword","try":"keyword","upcast":"keyword","use!":"keyword","use":"keyword","void":"keyword","when":"keyword","yield!":"keyword","yield":"keyword","atomic":"keyword","break":"keyword","checked":"keyword","component":"keyword","const":"keyword","constraint":"keyword","constructor":"keyword","continue":"keyword","eager":"keyword","event":"keyword","external":"keyword","fixed":"keyword","method":"keyword","mixin":"keyword","object":"keyword","parallel":"keyword","process":"keyword","protected":"keyword","pure":"keyword","sealed":"keyword","tailcall":"keyword","trait":"keyword","virtual":"keyword","volatile":"keyword","List":"builtin","Seq":"builtin","Map":"builtin","Set":"builtin","Option":"builtin","int":"builtin","string":"builtin","not":"builtin","true":"builtin","false":"builtin","raise":"builtin","failwith":"builtin"},slashComments:true}),o$=d5({extraWords:{"abstype":"keyword","and":"keyword","andalso":"keyword","case":"keyword","datatype":"keyword","fn":"keyword","handle":"keyword","infix":"keyword","infixr":"keyword","local":"keyword","nonfix":"keyword","op":"keyword","orelse":"keyword","raise":"keyword","withtype":"keyword","eqtype":"keyword","sharing":"keyword","sig":"keyword","signature":"keyword","structure":"keyword","where":"keyword","true":"keyword","false":"keyword","int":"builtin","real":"builtin","string":"builtin","char":"builtin","bool":"builtin"},slashComments:true});ak.__CM__view=j;ak.__CM__state=w;ak.__CM__lint=g5;ak.__CM__autocomplete=g4;ak.__CM__hoverTooltip=hy;ak.__CM__basic_setup=lf;ak.__CM__dark=g6;ak.__CM__stream_parser=g3;ak.__CM__mllike=nW}())}(globalThis));(function(c){var
b=c;b.__CM__view=require("@codemirror/basic-setup").EditorView;b.__CM__state=require("@codemirror/basic-setup").EditorState;b.__CM__basic_setup=require("@codemirror/basic-setup").basicSetup;b.__CM__markdown=require("@codemirror/lang-markdown").markdown}(globalThis));(function(e){"use strict";var
ax=" : is a directory",Z=" : flags Open_text and Open_binary are not compatible",aE=": file descriptor already closed",aK="Sys_error",aT="Invalid_argument",X="rmdir",aw=0xf0,M='"',aS=0x800,aJ="EEXIST",af="jsError",av=65536,B=1024,aR="End_of_file",au="Pervasives.do_at_exit",L="Unix.Unix_error",l=0x80,ae="Failure",as="console",at="Undefined_recursive_module",aa=" : flags Open_rdonly and Open_wronly are not compatible",Y="mkdir",aI=512,aD="Stack_overflow",d="",ad="ENOENT",ar="closedir",aC="^",K=": No such file or directory",$=": Not a directory",aq=0xe0,aB="/static/",_=" : file already exists",aQ="([^/]+)",x=0x3f,ap=0xdfff,aA="Not_found",ao="Assert_failure",n="/",ac=128,aN="Sys_blocked_io",aO="fd ",aP=0xdc00,aH="Out_of_memory",aM="ENOTEMPTY",W="ENOTDIR",az="Match_failure",ab="EBADF",a=248,aF=": closedir failed",aG="index out of bounds",aL="Division_by_zero",ay=252;function
bd(b){var
d=[0];while(b!==0){var
e=b[1];for(var
c=1;c<e.length;c++)d.push(e[c]);b=b[2]}return d}function
be(b){return b[1]}function
E(c,b){if(c.fun)return E(c.fun,b);if(typeof
c!=="function")return b[b.length-1](c);var
d=c.length|0;if(d===0)return c.apply(null,b);var
e=b.length|0,a=d-e|0;if(a==0)return c.apply(null,b);else
if(a<0){var
g=b.slice(d-1),f=b[e-1];b=b.slice(0,d);b[d-1]=function(c){var
b=g.slice();b[b.length-1]=f;return E(c,b)};return c.apply(null,b)}else{e--;var
f=b[e];return f(function(){var
a=arguments.length==0?1:arguments.length,f=new
Array(e+a);for(var
d=0;d<e;d++)f[d]=b[d];for(var
d=0;d<arguments.length;d++)f[e+d]=arguments[d];return E(c,f)})}}var
P=0,j=0,G;function
a9(b){return b}var
p=[0];function
ba(b){if(b.length<24){for(var
c=0;c<b.length;c++)if(b.charCodeAt(c)>127)return false;return true}else
return!/[^\x00-\x7f]/.test(b)}function
bF(a){for(var
g=d,c=g,b,i,e=0,h=a.length;e<h;e++){b=a.charCodeAt(e);if(b<l){for(var
f=e+1;f<h&&(b=a.charCodeAt(f))<l;f++);if(f-e>aI){c.substr(0,1);g+=c;c=d;g+=a.slice(e,f)}else
c+=a.slice(e,f);if(f==h)break;e=f}if(b<aS){c+=String.fromCharCode(0xc0|b>>6);c+=String.fromCharCode(l|b&x)}else
if(b<0xd800||b>=ap)c+=String.fromCharCode(aq|b>>12,l|b>>6&x,l|b&x);else
if(b>=0xdbff||e+1==h||(i=a.charCodeAt(e+1))<aP||i>ap)c+="\xef\xbf\xbd";else{e++;b=(b<<10)+i-0x35fdc00;c+=String.fromCharCode(aw|b>>18,l|b>>12&x,l|b>>6&x,l|b&x)}if(c.length>B){c.substr(0,1);g+=c;c=d}}return g+c}function
bA(c,b){if(c==0)return d;if(b.repeat)return b.repeat(c);var
f=d,e=0;for(;;){if(c&1)f+=b;c>>=1;if(c==0)return f;b+=b;e++;if(e==9)b.slice(0,1)}}function
Q(e,c,b){var
f=String.fromCharCode;if(c==0&&b<=4096&&b==e.length)return f.apply(null,e);var
a=d;for(;0<b;c+=B,b-=B)a+=f.apply(null,e.slice(c,c+Math.min(b,B)));return a}function
aW(b){if(b.t==2)b.c+=bA(b.l-b.c.length,"\0");else
b.c=Q(b.c,0,b.c.length);b.t=0}function
bE(a){for(var
k=d,e=d,h,g,i,b,c=0,j=a.length;c<j;c++){g=a.charCodeAt(c);if(g<l){for(var
f=c+1;f<j&&(g=a.charCodeAt(f))<l;f++);if(f-c>aI){e.substr(0,1);k+=e;e=d;k+=a.slice(c,f)}else
e+=a.slice(c,f);if(f==j)break;c=f}b=1;if(++c<j&&((i=a.charCodeAt(c))&-64)==ac){h=i+(g<<6);if(g<aq){b=h-0x3080;if(b<l)b=1}else{b=2;if(++c<j&&((i=a.charCodeAt(c))&-64)==ac){h=i+(h<<6);if(g<aw){b=h-0xe2080;if(b<aS||b>=0xd7ff&&b<0xe000)b=2}else{b=3;if(++c<j&&((i=a.charCodeAt(c))&-64)==ac&&g<0xf5){b=i-0x3c82080+(h<<6);if(b<0x10000||b>0x10ffff)b=3}}}}}if(b<4){c-=b;e+="\ufffd"}else
if(b>0xffff)e+=String.fromCharCode(0xd7c0+(b>>10),aP+(b&0x3FF));else
e+=String.fromCharCode(b);if(e.length>B){e.substr(0,1);k+=e;e=d}}return k+e}function
o(d,b,c){this.t=d;this.c=b;this.l=c}o.prototype.toString=function(){switch(this.t){case
9:return this.c;default:aW(this);case
0:if(ba(this.c)){this.t=9;return this.c}this.t=8;case
8:return this.c}};o.prototype.toUtf16=function(){var
b=this.toString();if(this.t==9)return b;return bE(b)};o.prototype.slice=function(){var
b=this.t==4?this.c.slice():this.c;return new
o(this.t,b,this.l)};function
bg(b){var
c=9;if(!ba(b))c=8,b=bF(b);return new
o(c,b,b.length)}function
H(b){return bg(b)}var
a4={};function
q(b){return a4[b]}function
bG(b){if(b
instanceof
Array)return b;if(e.RangeError&&b
instanceof
e.RangeError&&b.message&&b.message.match(/maximum call stack/i))return a9(p.Stack_overflow);if(e.InternalError&&b
instanceof
e.InternalError&&b.message&&b.message.match(/too much recursion/i))return a9(p.Stack_overflow);if(b
instanceof
e.Error&&q(af))return[0,q(af),b];return[0,p.Failure,H(String(b))]}function
bx(b){throw b}function
by(b,c){if(!b)bx(q("Effect.Continuation_already_resumed"));do{G={h:b[3],r:{k:c,x:j,e:G}};c=b[1];j=b[2];b=b[4]}while(b);return c}var
bv=0;function
aZ(){return bv++}function
a7(c,b){throw[0,c,b]}function
aV(b){return new
o(0,b,b.length)}function
b(b){return aV(b)}function
N(f,d){function
k(c,e,f){by(e[1],f);var
d=q("Effect.Unhandled")||[a,b("Stdlib.Effect.Unhandled"),aZ(0)];a7(d,c)}var
e=P,h=j,i=G;try{j=0;G={h:[0,0,0,k],r:{k:0,x:0,e:0}};var
c={joo_tramp:f,joo_args:d.concat(function(b){return b})};do{P=40;try{c=E(c.joo_tramp,c.joo_args)}catch(b){if(!j.length)throw b;var
g=j[1];j=j[2];c={joo_tramp:g,joo_args:[bG(b)]}}}while(c&&c.joo_args)}finally{P=e;j=h;G=i}return c}function
am(d,c){a7(d,b(c))}function
aj(b){am(p.Invalid_argument,b)}function
bc(){aj(aG)}function
bj(b,c){if(c>>>0>=b.length-1)bc();return b}function
aX(c){if(!p.Failure)p.Failure=[a,b(ae),-3];am(p.Failure,c)}function
bo(b){return b.toUtf16()}function
I(){return typeof
e.process!=="undefined"&&typeof
e.process.versions!=="undefined"&&typeof
e.process.versions.node!=="undefined"}function
bH(){function
b(b){if(b.charAt(0)===n)return[d,b.substring(1)];return}function
c(e){var
h=/^([a-zA-Z]:|[\\/]{2}[^\\/]+[\\/]+[^\\/]+)?([\\/])?([\s\S]*?)$/,b=h.exec(e),c=b[1]||d,a=Boolean(c&&c.charAt(1)!==":");if(Boolean(b[2]||a)){var
f=b[1]||d,g=b[2]||d;return[f,e.substring(f.length+g.length)]}return}return I()&&e.process&&e.process.platform?e.process.platform==="win32"?c:b:b}var
an=bH();function
a_(b){return b.slice(-1)!==n?b+n:b}if(I()&&e.process&&e.process.cwd)var
F=e.process.cwd().replace(/\\/g,n);else
var
F="/static";F=a_(F);function
bp(b){b=bo(b);if(!an(b))b=F+b;var
f=an(b),e=f[1].split(n),c=[];for(var
d=0;d<e.length;d++)switch(e[d]){case"..":if(c.length>1)c.pop();break;case".":break;case"":break;default:c.push(e[d]);break}c.unshift(f[0]);c.orig=b;return c}var
bI=["E2BIG","EACCES","EAGAIN",ab,"EBUSY","ECHILD","EDEADLK","EDOM",aJ,"EFAULT","EFBIG","EINTR","EINVAL","EIO","EISDIR","EMFILE","EMLINK","ENAMETOOLONG","ENFILE","ENODEV",ad,"ENOEXEC","ENOLCK","ENOMEM","ENOSPC","ENOSYS",W,aM,"ENOTTY","ENXIO","EPERM","EPIPE","ERANGE","EROFS","ESPIPE","ESRCH","EXDEV","EWOULDBLOCK","EINPROGRESS","EALREADY","ENOTSOCK","EDESTADDRREQ","EMSGSIZE","EPROTOTYPE","ENOPROTOOPT","EPROTONOSUPPORT","ESOCKTNOSUPPORT","EOPNOTSUPP","EPFNOSUPPORT","EAFNOSUPPORT","EADDRINUSE","EADDRNOTAVAIL","ENETDOWN","ENETUNREACH","ENETRESET","ECONNABORTED","ECONNRESET","ENOBUFS","EISCONN","ENOTCONN","ESHUTDOWN","ETOOMANYREFS","ETIMEDOUT","ECONNREFUSED","EHOSTDOWN","EHOSTUNREACH","ELOOP","EOVERFLOW"];function
s(f,g,a,b){var
c=bI.indexOf(f);if(c<0){if(b==null)b=-9999;c=[0,b]}var
e=[c,H(g||d),H(a||d)];return e}function
r(c,b){throw[0,c].concat(b)}function
ak(b){return b
instanceof
o}function
a1(b){return ak(b)}function
ag(b){if(!(b
instanceof
Uint8Array))b=new
Uint8Array(b);return new
o(4,b,b.length)}function
ah(b){return b}function
c(b){am(p.Sys_error,b)}function
a6(b){c(b+K)}function
ai(c){var
d=new
Uint8Array(c.l),f=c.c,e=f.length,b=0;for(;b<e;b++)d[b]=f.charCodeAt(b);for(e=c.l;b<e;b++)d[b]=0;c.c=d;c.t=4;return d}function
bD(b){if(b.t!=4)ai(b);return b.c}function
v(b){if(b<0)aj("Bytes.create");return new
o(b?2:9,d,b)}function
a2(b){return b.l}function
D(e,f,c,a,d){if(d==0)return 0;if(a==0&&(d>=c.l||c.t==2&&d>=c.c.length)){c.c=e.t==4?Q(e.c,f,d):f==0&&e.c.length==d?e.c:e.c.substr(f,d);c.t=c.c.length==c.l?0:2}else
if(c.t==2&&a==c.c.length){c.c+=e.t==4?Q(e.c,f,d):f==0&&e.c.length==d?e.c:e.c.substr(f,d);c.t=c.c.length==c.l?0:2}else{if(c.t!=4)ai(c);var
g=e.c,h=c.c;if(e.t==4)if(a<=f)for(var
b=0;b<d;b++)h[a+b]=g[f+b];else
for(var
b=d-1;b>=0;b--)h[a+b]=g[f+b];else{var
i=Math.min(d,g.length-f);for(var
b=0;b<i;b++)h[a+b]=g.charCodeAt(f+b);for(;b<d;b++)h[a+b]=0}}return 0}function
aU(){}function
i(b){this.data=b}i.prototype=new
aU();i.prototype.constructor=i;i.prototype.truncate=function(b){var
c=this.data;this.data=v(b|0);D(c,0,this.data,0,b)};i.prototype.length=function(){return a2(this.data)};i.prototype.write=function(c,e,g,b){var
d=this.length();if(c+b>=d){var
f=v(c+b),a=this.data;this.data=f;D(a,0,this.data,0,d)}D(ag(e),g,this.data,c,b);return 0};i.prototype.read=function(c,f,a,b){var
d=this.length();if(c+b>=d)b=d-c;if(b){var
e=v(b|0);D(this.data,c,e,0,b);f.set(bD(e),a)}return b};function
u(d,b,c){this.file=b;this.name=d;this.flags=c}u.prototype.err_closed=function(){c(this.name+aE)};u.prototype.length=function(){if(this.file)return this.file.length();this.err_closed()};u.prototype.write=function(d,b,e,c){if(this.file)return this.file.write(d,b,e,c);this.err_closed()};u.prototype.read=function(d,b,e,c){if(this.file)return this.file.read(d,b,e,c);this.err_closed()};u.prototype.close=function(){this.file=undefined};function
g(c,b){this.content={};this.root=c;this.lookupFun=b}g.prototype.nm=function(b){return this.root+b};g.prototype.create_dir_if_needed=function(f){var
e=f.split(n),c=d;for(var
b=0;b<e.length-1;b++){c+=e[b]+n;if(this.content[c])continue;this.content[c]=Symbol("directory")}};g.prototype.slash=function(b){return/\/$/.test(b)?b:b+n};g.prototype.lookup=function(c){if(!this.content[c]&&this.lookupFun){var
d=this.lookupFun(b(this.root),b(c));if(d!==0){this.create_dir_if_needed(c);this.content[c]=new
i(ah(d[1]))}}};g.prototype.exists=function(b){if(b==d)return 1;var
c=this.slash(b);if(this.content[c])return 1;this.lookup(b);return this.content[b]?1:0};g.prototype.mkdir=function(f,g,a){var
e=a&&q(L);if(this.exists(f))if(e)r(e,s(aJ,Y,this.nm(f)));else
c(f+": File exists");var
b=/^(.*)\/[^/]+/.exec(f);b=b&&b[1]||d;if(!this.exists(b))if(e)r(e,s(ad,Y,this.nm(b)));else
c(b+K);if(!this.is_dir(b))if(e)r(e,s(W,Y,this.nm(b)));else
c(b+$);this.create_dir_if_needed(this.slash(f))};g.prototype.rmdir=function(b,h){var
e=h&&q(L),f=b==d?d:this.slash(b),g=new
RegExp(aC+f+aQ);if(!this.exists(b))if(e)r(e,s(ad,X,this.nm(b)));else
c(b+K);if(!this.is_dir(b))if(e)r(e,s(W,X,this.nm(b)));else
c(b+$);for(var
a
in
this.content)if(a.match(g))if(e)r(e,s(aM,X,this.nm(b)));else
c(this.nm(b)+": Directory not empty");delete
this.content[f]};g.prototype.readdir=function(b){var
h=b==d?d:this.slash(b);if(!this.exists(b))c(b+K);if(!this.is_dir(b))c(b+$);var
i=new
RegExp(aC+h+aQ),a={},f=[];for(var
g
in
this.content){var
e=g.match(i);if(e&&!a[e[1]]){a[e[1]]=true;f.push(e[1])}}return f};g.prototype.opendir=function(b,g){var
d=g&&q(L),e=this.readdir(b),f=false,a=0;return{readSync:function(){if(f)if(d)r(d,s(ab,ar,this.nm(b)));else
c(b+aF);if(a==e.length)return null;var
g=e[a];a++;return{name:g}},closeSync:function(){if(f)if(d)r(d,s(ab,ar,this.nm(b)));else
c(b+aF);f=true;e=[]}}};g.prototype.is_dir=function(b){if(b==d)return true;var
c=this.slash(b);return this.content[c]?1:0};g.prototype.unlink=function(b){var
c=this.content[b]?true:false;delete
this.content[b];return c};g.prototype.open=function(b,d){var
e;if(d.rdonly&&d.wronly)c(this.nm(b)+aa);if(d.text&&d.binary)c(this.nm(b)+Z);this.lookup(b);if(this.content[b]){if(this.is_dir(b))c(this.nm(b)+ax);if(d.create&&d.excl)c(this.nm(b)+_);e=this.content[b];if(d.truncate)e.truncate()}else
if(d.create){this.create_dir_if_needed(b);this.content[b]=new
i(v(0));e=this.content[b]}else
a6(this.nm(b));return new
u(this.nm(b),e,d)};g.prototype.open=function(b,d){var
e;if(d.rdonly&&d.wronly)c(this.nm(b)+aa);if(d.text&&d.binary)c(this.nm(b)+Z);this.lookup(b);if(this.content[b]){if(this.is_dir(b))c(this.nm(b)+ax);if(d.create&&d.excl)c(this.nm(b)+_);e=this.content[b];if(d.truncate)e.truncate()}else
if(d.create){this.create_dir_if_needed(b);this.content[b]=new
i(v(0));e=this.content[b]}else
a6(this.nm(b));return new
u(this.nm(b),e,d)};g.prototype.register=function(e,b){var
d;if(this.content[e])c(this.nm(e)+_);if(ak(b))d=new
i(b);if(a1(b))d=new
i(ah(b));else
if(b
instanceof
Array)d=new
i(ag(b));else
if(typeof
b==="string")d=new
i(aV(b));else
if(b.toString){var
f=ah(H(b.toString()));d=new
i(f)}if(d){this.create_dir_if_needed(e);this.content[e]=d}else
c(this.nm(e)+" : registering file with invalid content type")};g.prototype.constructor=g;function
bt(b){return a2(b)}function
bh(b,c){switch(b.t&6){default:if(c>=b.c.length)return 0;case
0:return b.c.charCodeAt(c);case
4:return b.c[c]}}function
bB(c,b){return bh(c,b)}function
bL(e){var
d=bt(e),c=new
Array(d),b=0;for(;b<d;b++)c[b]=bB(e,b);return c}function
bf(){aj(aG)}function
bi(b,d,c){c&=0xff;if(b.t!=4){if(d==b.c.length){b.c+=String.fromCharCode(c);if(d+1==b.l)b.t=0;return 0}ai(b)}b.c[d]=c;return 0}function
bJ(c,b,d){if(b>>>0>=c.l)bf();return bi(c,b,d)}function
m(b,c){this.fs=require("fs");this.fd=b;this.flags=c}m.prototype=new
aU();m.prototype.constructor=m;m.prototype.truncate=function(b){try{this.fs.ftruncateSync(this.fd,b|0)}catch(b){c(b.toString())}};m.prototype.length=function(){try{return this.fs.fstatSync(this.fd).size}catch(b){c(b.toString())}};m.prototype.write=function(f,b,d,e){try{if(this.flags.isCharacterDevice)this.fs.writeSync(this.fd,b,d,e);else
this.fs.writeSync(this.fd,b,d,e,f)}catch(b){c(b.toString())}return 0};m.prototype.read=function(a,b,d,e){try{if(this.flags.isCharacterDevice)var
f=this.fs.readSync(this.fd,b,d,e);else
var
f=this.fs.readSync(this.fd,b,d,e,a);return f}catch(b){c(b.toString())}};m.prototype.close=function(){try{this.fs.closeSync(this.fd);return 0}catch(b){c(b.toString())}};function
f(b){this.fs=require("fs");this.root=b}f.prototype.nm=function(b){return this.root+b};f.prototype.exists=function(b){try{return this.fs.existsSync(this.nm(b))?1:0}catch(a){return 0}};f.prototype.mkdir=function(c,b,d){try{this.fs.mkdirSync(this.nm(c),{mode:b});return 0}catch(b){this.raise_nodejs_error(b,d)}};f.prototype.rmdir=function(b,c){try{this.fs.rmdirSync(this.nm(b));return 0}catch(b){this.raise_nodejs_error(b,c)}};f.prototype.readdir=function(b,c){try{return this.fs.readdirSync(this.nm(b))}catch(b){this.raise_nodejs_error(b,c)}};f.prototype.is_dir=function(b){try{return this.fs.statSync(this.nm(b)).isDirectory()?1:0}catch(b){c(b.toString())}};f.prototype.unlink=function(b,d){try{var
c=this.fs.existsSync(this.nm(b))?1:0;this.fs.unlinkSync(this.nm(b));return c}catch(b){this.raise_nodejs_error(b,d)}};f.prototype.open=function(e,d,h){var
b=require("constants"),c=0;for(var
g
in
d)switch(g){case"rdonly":c|=b.O_RDONLY;break;case"wronly":c|=b.O_WRONLY;break;case"append":c|=b.O_WRONLY|b.O_APPEND;break;case"create":c|=b.O_CREAT;break;case"truncate":c|=b.O_TRUNC;break;case"excl":c|=b.O_EXCL;break;case"binary":c|=b.O_BINARY;break;case"text":c|=b.O_TEXT;break;case"nonblock":c|=b.O_NONBLOCK;break}try{var
f=this.fs.openSync(this.nm(e),c),a=this.fs.lstatSync(this.nm(e)).isCharacterDevice();d.isCharacterDevice=a;return new
m(f,d)}catch(b){this.raise_nodejs_error(b,h)}};f.prototype.rename=function(c,b,d){try{this.fs.renameSync(this.nm(c),this.nm(b))}catch(b){this.raise_nodejs_error(b,d)}};f.prototype.stat=function(c,d){try{var
b=this.fs.statSync(this.nm(c));return this.stats_from_js(b)}catch(b){this.raise_nodejs_error(b,d)}};f.prototype.lstat=function(c,d){try{var
b=this.fs.lstatSync(this.nm(c));return this.stats_from_js(b)}catch(b){this.raise_nodejs_error(b,d)}};f.prototype.symlink=function(e,d,b,c){try{this.fs.symlinkSync(this.nm(d),this.nm(b),e?"dir":"file");return 0}catch(b){this.raise_nodejs_error(b,c)}};f.prototype.readlink=function(c,d){try{var
b=this.fs.readlinkSync(this.nm(c),"utf8");return H(b)}catch(b){this.raise_nodejs_error(b,d)}};f.prototype.opendir=function(b,c){try{return this.fs.opendirSync(this.nm(b))}catch(b){this.raise_nodejs_error(b,c)}};f.prototype.raise_nodejs_error=function(b,f){var
d=q(L);if(f&&d){var
e=s(b.code,b.syscall,b.path,b.errno);r(d,e)}else
c(b.toString())};f.prototype.stats_from_js=function(b){var
c;if(b.isFile())c=0;else
if(b.isDirectory())c=1;else
if(b.isCharacterDevice())c=2;else
if(b.isBlockDevice())c=3;else
if(b.isSymbolicLink())c=4;else
if(b.isFIFO())c=5;else
if(b.isSocket())c=6;return[0,b.dev,b.ino,c,b.mode,b.nlink,b.uid,b.gid,b.rdev,b.size,b.atimeMs,b.mtimeMs,b.ctimeMs]};f.prototype.constructor=f;function
a0(c){var
b=an(c);if(!b)return;return b[0]+n}var
O=a0(F)||aX("unable to compute caml_root"),A=[];if(I())A.push({path:O,device:new
f(O)});else
A.push({path:O,device:new
g(O)});A.push({path:aB,device:new
g(aB)});function
bb(d){var
i=bp(d),d=i.join(n),h=a_(d),e;for(var
g=0;g<A.length;g++){var
b=A[g];if(h.search(b.path)==0&&(!e||e.path.length<b.path.length))e={path:b.path,device:b.device,rest:d.substring(b.path.length,d.length)}}if(!e&&I()){var
a=a0(d);if(a&&a.match(/^[a-zA-Z]:\/$/)){var
b={path:a,device:new
f(a)};A.push(b);e={path:b.path,device:b.device,rest:d.substring(b.path.length,d.length)}}}if(e)return e;c("no device found for "+h)}function
bk(d,c){var
b=bb(d);if(!b.device.register)aX("cannot register file");b.device.register(b.rest,c);return 0}function
a$(d,c){var
d=b(d),c=b(c);return bk(d,c)}function
bm(){var
c=e.caml_fs_tmp;if(c)for(var
b=0;b<c.length;b++)a$(c[b].name,c[b].content);e.jsoo_create_file=a$;e.caml_fs_tmp=[];return 0}var
t=new
Array();function
bq(d){var
b=t[d];if(!b.opened)c("Cannot flush a closed channel");if(!b.buffer||b.buffer_curr==0)return 0;if(b.output)b.output(Q(b.buffer,0,b.buffer_curr));else
b.file.write(b.offset,b.buffer,0,b.buffer_curr);b.offset+=b.buffer_curr;b.buffer_curr=0;return 0}function
bC(c,b){if(b.name)try{var
e=require("fs"),d=e.openSync(b.name,"rs");return new
m(d,b)}catch(a){}return new
m(c,b)}var
R=new
Array(3);function
al(b){b.t&6&&aW(b);return b.c}function
C(b,c){i.call(this,v(0));this.log=function(b){return 0};if(b==1&&typeof
console.log=="function")this.log=console.log;else
if(b==2&&typeof
console.error=="function")this.log=console.error;else
if(typeof
console.log=="function")this.log=console.log;this.flags=c}C.prototype.length=function(){return 0};C.prototype.write=function(a,e,d,b){if(this.log){if(b>0&&d>=0&&d+b<=e.length&&e[d+b-1]==10)b--;var
f=v(b);D(ag(e),d,f,0,b);this.log(f.toUtf16());return 0}c(this.fd+aE)};C.prototype.read=function(e,b,f,d){c(this.fd+": file descriptor is write only")};C.prototype.close=function(){this.log=undefined};function
S(c,b){if(b==undefined)b=R.length;R[b]=c;return b}function
bK(e,d,g){var
b={};while(d){switch(d[1]){case
0:b.rdonly=1;break;case
1:b.wronly=1;break;case
2:b.append=1;break;case
3:b.create=1;break;case
4:b.truncate=1;break;case
5:b.excl=1;break;case
6:b.binary=1;break;case
7:b.text=1;break;case
8:b.nonblock=1;break}d=d[2]}if(b.rdonly&&b.wronly)c(al(e)+aa);if(b.text&&b.binary)c(al(e)+Z);var
f=bb(e),a=f.device.open(f.rest,b);return S(a,undefined)}(function(){function
b(b,c){return I()?bC(b,c):new
C(b,c)}S(b(0,{rdonly:1,altname:"/dev/stdin",isCharacterDevice:true}),0);S(b(1,{buffered:2,wronly:1,isCharacterDevice:true}),1);S(b(2,{buffered:2,wronly:1,isCharacterDevice:true}),2)}());function
br(e){var
b=R[e];if(b.flags.wronly)c(aO+e+" is writeonly");var
f=null,d={file:b,offset:b.flags.append?b.length():0,fd:e,opened:true,out:false,buffer_curr:0,buffer_max:0,buffer:new
Uint8Array(av),refill:f};t[d.fd]=d;return d.fd}function
a3(e){var
b=R[e];if(b.flags.rdonly)c(aO+e+" is readonly");var
f=b.flags.buffered!==undefined?b.flags.buffered:1,d={file:b,offset:b.flags.append?b.length():0,fd:e,opened:true,out:true,buffer_curr:0,buffer:new
Uint8Array(av),buffered:f};t[d.fd]=d;return d.fd}function
bs(){var
c=0;for(var
b=0;b<t.length;b++)if(t[b]&&t[b].opened&&t[b].out)c=[0,t[b].fd,c];return c}function
bu(b){if(b
instanceof
Array&&b[0]==b[0]>>>0)return b[0];else
if(ak(b))return ay;else
if(a1(b))return ay;else
if(b
instanceof
Function||typeof
b=="function")return 247;else
if(b&&b.caml_custom)return 255;else
return 1000}function
a5(){if(!j)return function(b){throw b};var
b=j[1];j=j[2];return b}function
bw(b){j=[0,b,j]}function
k(c,d,b){if(b&&e.toplevelReloc)c=N(e.toplevelReloc,[b]);p[c+1]=d;if(b)p[b]=d}function
a8(b,c){a4[al(b)]=c;return 0}function
y(){return--P>0}function
z(c,b){return{joo_tramp:c,joo_args:b}}function
bn(b){switch(b[2]){case-8:case-11:case-12:return 1;default:return 0}}function
bl(c){var
b=d;if(c[0]==0){b+=c[1][1];if(c.length==3&&c[2][0]==0&&bn(c[1]))var
g=c[2],h=1;else
var
h=2,g=c;b+="(";for(var
f=h;f<g.length;f++){if(f>h)b+=", ";var
e=g[f];if(typeof
e=="number")b+=e.toString();else
if(e
instanceof
o)b+=M+e.toString()+M;else
if(typeof
e=="string")b+=M+e.toString()+M;else
b+="_"}b+=")"}else
if(c[0]==a)b+=c[1];return b}function
aY(b){if(b
instanceof
Array&&(b[0]==0||b[0]==a)){var
d=q("Printexc.handle_uncaught_exception");if(d)N(d,[b,false]);else{var
e=bl(b),c=q(au);if(c)N(c,[0]);console.error("Fatal error: exception "+e+"\n")}}else
throw b}function
bz(){var
b=e.process;if(b&&b.on)b.on("uncaughtException",function(c,d){aY(c);b.exit(2)});else
if(e.addEventListener)e.addEventListener("error",function(b){if(b.error)aY(b.error)})}bz();function
J(b){return y()?b():z(b,[])}function
h(b,c){return y()?b(c):z(b,[c])}function
U(b,c,d){return y()?b.length==2?b(c,d):E(b,[c,d]):z(b,[c,d])}function
T(b,c,d){return y()?b(c,d):z(b,[c,d])}function
V(b,c,d,e){return y()?b(c,d,e):z(b,[c,d,e])}function
w(b,c,d,e,f){return y()?b(c,d,e,f):z(b,[c,d,e,f])}return N(function(Z){bm();var
d=[a,b(aK),-2];k(11,[a,b(at),-12],at);k(10,[a,b(ao),-11],ao);k(9,[a,b(aN),-10],aN);k(8,[a,b(aD),-9],aD);k(7,[a,b(az),-8],az);k(6,[a,b(aA),-7],aA);k(5,[a,b(aL),-6],aL);k(4,[a,b(aR),-5],aR);k(3,[a,b(aT),-4],aT);k(2,[a,b(ae),-3],ae);k(1,d,aK);k(0,[a,b(aH),-1],aH);br(0);a3(1);a3(2);var
m=b("Jsoo_runtime.Error.Exn"),n=b("Number"),p=b("Error"),o=b("Array"),q=b("Promise"),G=b("body"),r=b("Event"),s=b("ArrayBuffer"),t=b("DataView"),u=b("Blob"),v=b("File"),x=b("JSON"),y=b("encodeURI"),z=b("decodeURI"),A=b("URL"),B=b("URLSearchParams"),C=b("encodeURIComponent"),D=b("decodeURIComponent"),E=b("document"),F=b("documentElement"),H=b(as),I=b(as),K=b("navigator"),L=b("performance"),M=b("window"),N=b("isSecureContext"),R=b("state"),S=b("root"),W=b("dispatch"),X=b("parent"),Q=b("__CM__state"),O=b("selection"),P=b("extensions"),Y=b("__CM__view"),_=b("__CM__basic_setup"),j=[0,function(e,b){function
c(b,f){if(!b)return h(f,0);var
a=b[2],g=b[1];function
e(){return T(c,a,f)}bw(function(b){return b[1]===d?J(e):h(a5(),b)});bq(g);a5();return J(e)}return T(c,bs(0),b)}];function
g(c,b){return U(be(j),0,b)}a8(b(au),g);function
f(d,b,c){if(!b)return h(c,0);var
e=b[1];return U(d,e,function(b){return h(c,[0,b])})}var
c=[0,[a,m,aZ(0)],[0]],l=bu(c)===a?1:0;function
i($){a8(b(af),$);(function(b){throw b});e[n];var
c=e,k=null,l=undefined;function
d(e,d,b,c){return b?h(c,e[d]=b[1]):h(c,0)}c[q];c[r];c[s];c[t];c[u];c[v];c[x];c[y];c[z];c[A];c[B];c[C];c[D];var
i=c[E];i[F];c[H];c[I];c[K];c[L];c[M];c[N];var
Z=c[Y],a={},j=[0,bd([0,[0,c[_]],[0,[0],0]])],m=0;return w(d,a,O,m,function(e){function
b(f,k){var
b=f.length-1,d=new(c[o])(b),e=b-1|0,i=0,j=e<0?1:0;function
g(){return h(k,d)}function
a(b){d[b]=bj(f,b)[1+b];var
c=b+1|0;return e!==b?h(a,c):J(g)}return j?J(g):h(a,i)}return V(f,b,j,function(b){return w(d,a,P,b,function(q){var
m=c[Q].create(a),b=i[G],e=b===k?1:0,n=0,o=0;function
j(k){var
a=1-k;function
e(a){var
b={},e=[0,a],c=[0,m];return w(d,b,R,c,function(a){function
c(b,c){return h(c,b)}return V(f,c,o,function(c){return w(d,b,S,c,function(c){return w(d,b,W,n,function(a){function
c(b,c){return h(c,b)}return V(f,c,e,function(c){return w(d,b,X,c,function(d){new
Z(b);var
c=0;return T(g,c,function(b){return})})})})})})})}if(a)return h(e,b);var
i=new(c[p])("Document body is null. Try to defer your script execution.");function
j(b){throw b}return U(j,i,function(b){return h(e,b)})}return e?h(j,e):h(j,b===l?1:0)})})})}return l?h(i,c):h(i,c[1])},[])}(globalThis));
